<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>OpenSDN source code: vnswif_listener_base.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenSDN source code
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/da6/vnswif__listener__base_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">vnswif_listener_base.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/da6/vnswif__listener__base_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2013 Juniper Networks, Inc. All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d5/d77/logging_8h.html">base/logging.h</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d8/d3c/util_8h.html">base/util.h</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../de/d18/agent__cmn_8h.html">cmn/agent_cmn.h</a>&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../df/d84/agent__param_8h.html">init/agent_param.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d9/d24/agent__init_8h.html">init/agent_init.h</a>&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d4/d5d/cfg__init_8h.html">cfg/cfg_init.h</a>&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d1/dde/route__common_8h.html">oper/route_common.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../de/db1/mirror__table_8h.html">oper/mirror_table.h</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/dbe/ksync__index_8h.html">ksync/ksync_index.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d1d/interface__ksync_8h.html">vrouter/ksync/interface_ksync.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d27/vnswif__listener__base_8h.html">vrouter/ksync/vnswif_listener_base.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;net/if.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d1/d6f/physical__interface_8h.html">oper/physical_interface.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d6/da6/vnswif__listener__base_8cc.html#afee5f94d15c6b6fa759c06ca778f56e8">   22</a></span>&#160;<span class="preprocessor">#define INDEX_INTERFACE_NAME 0</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="../../d6/da6/vnswif__listener__base_8cc.html#ad7ba05b7e98a53d287024d32c0cb0f38">   23</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define INDEX_INTERFACE_DRV_NAME 1</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../d6/da6/vnswif__listener__base_8cc.html#a7dd14e414a16d03a6101a6ad5478c611">   24</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define INDEX_INTERFACE_ID 2</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d6/da6/vnswif__listener__base_8cc.html#a16586d3705b0e8ebbd8544cffd46394e">   25</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define NL_MSG_PARAMS 3 </span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d9e/agent_8h.html#a38975523c623b7045c9b073e696f6e98">RouterIdDepInit</a>(<a class="code" href="../../d8/dfe/classAgent.html">Agent</a> *agent);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<a class="code" href="../../d0/db5/sandesh__trace_8h.html#acb763a6d9db22c3b4c524f1ca2131702">SandeshTraceBufferPtr</a> <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#afa810ee8522d88195775172bfa9c5432">VnswIfTraceBuf</a>(<a class="code" href="../../d0/db5/sandesh__trace_8h.html#ad09ddbb00929792cd2d9164441f09492">SandeshTraceBufferCreate</a>(</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                     <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a1d84fb36d435714250a3f09c1e29ec05">VNSWIF_TRACE_BUF</a>, 2000));</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a1f5f5053bb115ed3194c246b736ad1b0">   31</a></span>&#160;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a1f5f5053bb115ed3194c246b736ad1b0">VnswInterfaceListenerBase::VnswInterfaceListenerBase</a>(<a class="code" href="../../d8/dfe/classAgent.html">Agent</a> *agent) :</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    agent_(agent), read_buf_(NULL),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    intf_listener_id_(<a class="code" href="../../d7/df2/classDBTableBase.html">DBTableBase</a>::kInvalidId),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    fabric_listener_id_(<a class="code" href="../../d7/df2/classDBTableBase.html">DBTableBase</a>::kInvalidId), seqno_(0),</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    vhost_intf_up_(false), ll_addr_table_(), revent_queue_(NULL),</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    vhost_update_count_(0), ll_add_count_(0), ll_del_count_(0) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#adc83ebd53956d2503c102dbaeb1cacdc">   39</a></span>&#160;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#adc83ebd53956d2503c102dbaeb1cacdc">VnswInterfaceListenerBase::~VnswInterfaceListenerBase</a>() {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a9f2d1515939a438aa42fe8668387fe05">read_buf_</a>){</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a9f2d1515939a438aa42fe8668387fe05">read_buf_</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a9f2d1515939a438aa42fe8668387fe05">read_buf_</a> = NULL;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * Initialization and shutdown code</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> *   1. Opens netlink socket</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> *   2. Starts scan of interface from host-os</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> *   3. Starts scan of routes from host-os</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> *   4. Registers for netlink messages with ASIO</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> ****************************************************************************/</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a7035c150ef3ff09234ca9d2af7bf8dcf">   54</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a7035c150ef3ff09234ca9d2af7bf8dcf">VnswInterfaceListenerBase::Init</a>() {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4adae91b30a9451090048170b07d36c1">intf_listener_id_</a> = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">interface_table</a>()-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a58ca11bafdf9674c431357ecaa893b96">Register</a></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        (boost::bind(&amp;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ab54a862697cf846d206e32900724823a">VnswInterfaceListenerBase::InterfaceNotify</a>, <span class="keyword">this</span>, _1, _2));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4fc46d61c5b8d12674266d01db012401">fabric_listener_id_</a> = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a170e13ff9762d94816b368f317c5d041">fabric_inet4_unicast_table</a>()-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a58ca11bafdf9674c431357ecaa893b96">Register</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        (boost::bind(&amp;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#aa8bcfb328dcb0d82a3c7caf24abcf083">VnswInterfaceListenerBase::FabricRouteNotify</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                     <span class="keyword">this</span>, _1, _2));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a78521e13a175ca00a18be617cbfa307e">vn_listener_id_</a> = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a51c3acf80aa60742d2a2c19779086945">vn_table</a>()-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a58ca11bafdf9674c431357ecaa893b96">Register</a></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        (boost::bind(&amp;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a2f28551c345db5cc3b838b3cd4d8d567">VnswInterfaceListenerBase::VnNotify</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                     <span class="keyword">this</span>, _1, _2));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">/* Allocate Route Event Workqueue */</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a> = <span class="keyword">new</span> <a class="code" href="../../d4/d0c/classWorkQueue.html">WorkQueue&lt;Event *&gt;</a></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    (<a class="code" href="../../df/ddc/classTaskScheduler.html#a951ae2a1d1b7700618defdcc1ea53a70">TaskScheduler::GetInstance</a>()-&gt;<a class="code" href="../../df/ddc/classTaskScheduler.html#a2b2c4c05c286d6c22fdfdaee461e1489">GetTaskId</a>(<a class="code" href="../../de/d9e/agent_8h.html#a5cc76e839e1bd287b2c9dbfa21bd77c5">kTaskDBExclude</a>), 0,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                     boost::bind(&amp;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ae30932da1147e25e50cdf94ef30fccd6">VnswInterfaceListenerBase::ProcessEvent</a>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                     <span class="keyword">this</span>, _1));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a>-&gt;set_name(<span class="stringliteral">&quot;Netlink interface listener&quot;</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a76f4692c8e7cfb95dbc6ca7e72f10ff3">   74</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a76f4692c8e7cfb95dbc6ca7e72f10ff3">VnswInterfaceListenerBase::Shutdown</a>() {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">interface_table</a>()-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#ac129112bd99b80830a6377aa9bf1c609">Unregister</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4adae91b30a9451090048170b07d36c1">intf_listener_id_</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a170e13ff9762d94816b368f317c5d041">fabric_inet4_unicast_table</a>()-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#ac129112bd99b80830a6377aa9bf1c609">Unregister</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4fc46d61c5b8d12674266d01db012401">fabric_listener_id_</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a51c3acf80aa60742d2a2c19779086945">vn_table</a>()-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#ac129112bd99b80830a6377aa9bf1c609">Unregister</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a78521e13a175ca00a18be617cbfa307e">vn_listener_id_</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// Expect only one entry for vhost0 during shutdown</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    assert(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.size() == 0);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0e66e9080227f5dc9f000539ead22fab">   84</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0e66e9080227f5dc9f000539ead22fab">VnswInterfaceListenerBase::Enqueue</a>(<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a>-&gt;Enqueue(event);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"> * Interface DB notification handler. Triggers add/delete of link-local route</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"> ****************************************************************************/</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#ab54a862697cf846d206e32900724823a">   91</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ab54a862697cf846d206e32900724823a">VnswInterfaceListenerBase::InterfaceNotify</a>(<a class="code" href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a> *part,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                            <a class="code" href="../../d8/d44/classDBEntryBase.html">DBEntryBase</a> *e) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d5/d21/classVmInterface.html">VmInterface</a> *vmport = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d5/d21/classVmInterface.html">VmInterface</a> *<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (vmport == NULL) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d3/def/structDBState.html">DBState</a> *state = e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aab0b2e94618217c6e5eccbdb59390b0a">GetState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4adae91b30a9451090048170b07d36c1">intf_listener_id_</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (vmport-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#af5c1c9aba24569905b6d627451f2b484">IsDeleted</a>()) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (state) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">name</a>());</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            uint32_t <span class="keywordtype">id</span> = <a class="code" href="../../d0/dcc/classInterface.html#ad8c0109a68fd2e8045a1143752dea79b">Interface::kInvalidIndex</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">if</span> (entry) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordtype">id</span> = entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">oper_id_</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            std::ostringstream oss;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            oss &lt;&lt; <span class="stringliteral">&quot;Intf Del &quot;</span> &lt;&lt; vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">name</a>() &lt;&lt; <span class="stringliteral">&quot; id &quot;</span> &lt;&lt; id;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordtype">string</span> msg = oss.str();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a>(msg.c_str());</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a15d7a6a4e9e6e332d9c7e17dad70ea46">ResetSeen</a>(vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">name</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a62fa4794268381f4287f95adf8704de6">ClearState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4adae91b30a9451090048170b07d36c1">intf_listener_id_</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keyword">delete</span> state;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> (state == NULL) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            std::ostringstream oss;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            oss &lt;&lt; <span class="stringliteral">&quot;Intf Add &quot;</span> &lt;&lt; vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">name</a>() &lt;&lt; <span class="stringliteral">&quot; id &quot;</span> &lt;&lt; vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#a302160fc71c3eb559ca3c63e4b75f413">id</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordtype">string</span> msg = oss.str();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a>(msg.c_str());</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            state = <span class="keyword">new</span> <a class="code" href="../../d3/def/structDBState.html">DBState</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aecee6124adfd4bae453b29ad3e2dc067">SetState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4adae91b30a9451090048170b07d36c1">intf_listener_id_</a>, state);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a29d08a93efc5a4542016c66dbd3565f1">SetSeen</a>(vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">name</a>(), <span class="keyword">true</span>, vmport-&gt;<a class="code" href="../../d0/dcc/classInterface.html#a302160fc71c3eb559ca3c63e4b75f413">id</a>());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * Fabric unicast route notification handler. Triggers add/delete of</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> * link-local route</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> ****************************************************************************/</span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#aa8bcfb328dcb0d82a3c7caf24abcf083">  134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#aa8bcfb328dcb0d82a3c7caf24abcf083">VnswInterfaceListenerBase::FabricRouteNotify</a>(<a class="code" href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a> *part,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                                  <a class="code" href="../../d8/d44/classDBEntryBase.html">DBEntryBase</a> *e) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d5/d9f/classInetUnicastRouteEntry.html">InetUnicastRouteEntry</a> *rt = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d5/d9f/classInetUnicastRouteEntry.html">InetUnicastRouteEntry</a> *<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (rt == NULL || rt-&gt;<a class="code" href="../../d5/d9f/classInetUnicastRouteEntry.html#a18873110423a6295b40d6a519e02ac94">GetTableType</a>() != <a class="code" href="../../d8/dfe/classAgent.html#a4741f22891c3ed424b8e5edba39c62c9ad61ee6c8ee18e48080440df563bc062d">Agent::INET4_UNICAST</a>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="../../d3/def/structDBState.html">DBState</a> *state = e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aab0b2e94618217c6e5eccbdb59390b0a">GetState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4fc46d61c5b8d12674266d01db012401">fabric_listener_id_</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#af5c1c9aba24569905b6d627451f2b484">IsDeleted</a>()) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (state) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a62fa4794268381f4287f95adf8704de6">ClearState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4fc46d61c5b8d12674266d01db012401">fabric_listener_id_</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keyword">delete</span> state;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a>-&gt;Enqueue(<span class="keyword">new</span> <a class="code" href="../../d9/df2/http__client_8h.html#a5667b805d857c6d28f83f6038a0272d3">Event</a>(<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177">Event::DEL_LL_ROUTE</a>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                             <span class="stringliteral">&quot;&quot;</span>, rt-&gt;<a class="code" href="../../d5/d9a/classAgentRoutePrefix.html#a4ea7fa0bcf466f10ffe7529d8358fb02">prefix_address</a>().to_v4()));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">// listen to only metadata ip routes</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d4/d3d/classAgentPath.html">AgentPath</a> *path = rt-&gt;<a class="code" href="../../d4/d57/classAgentRoute.html#a9d3d33d2182d36a082e317357095e0a6">GetActivePath</a>();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span> (path == NULL || path-&gt;<a class="code" href="../../d4/d3d/classAgentPath.html#a21f05734eb71e6f311ba36a1006ece0b">peer</a>() != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1471e814a192e7b14d81058d8b510985">link_local_peer</a>()) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (state == NULL) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            state = <span class="keyword">new</span> <a class="code" href="../../d3/def/structDBState.html">DBState</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aecee6124adfd4bae453b29ad3e2dc067">SetState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4fc46d61c5b8d12674266d01db012401">fabric_listener_id_</a>, state);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a>-&gt;Enqueue(<span class="keyword">new</span> <a class="code" href="../../d9/df2/http__client_8h.html#a5667b805d857c6d28f83f6038a0272d3">Event</a>(<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911aaf89847363440f9a3729786d6eb830f2">Event::ADD_LL_ROUTE</a>,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                             <span class="stringliteral">&quot;&quot;</span>, rt-&gt;<a class="code" href="../../d5/d9a/classAgentRoutePrefix.html#a4ea7fa0bcf466f10ffe7529d8358fb02">prefix_address</a>().to_v4()));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a62bafa02c8d70beeb117d92a4428ceb3">  168</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a62bafa02c8d70beeb117d92a4428ceb3">VnswInterfaceListenerBase::VnDBState::Enqueue</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html">VnswInterfaceListenerBase</a> *base,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="../../d2/d02/structVnIpam.html">VnIpam</a> &amp;entry,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911">Event::Type</a> event) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    std::stringstream str;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    str &lt;&lt; entry.<a class="code" href="../../d2/d02/structVnIpam.html#a95b4d80e130b8581a2e440580c56d18d">ip_prefix</a> &lt;&lt; entry.<a class="code" href="../../d2/d02/structVnIpam.html#a87999d5bc05eae59265dcb868c96f292">plen</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">//If entry matches vhost subnet do nothing.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="../../da/dcd/classInetUnicastAgentRouteTable.html">InetUnicastAgentRouteTable</a> *table =</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        base-&gt;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0397661d99dc81f98c1847f4fbc40bcb">agent</a>()-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a2c47f47a1e6db67402ca285fd60f06f2">fabric_vrf</a>()-&gt;<a class="code" href="../../d2/d3d/classVrfEntry.html#a90156fba7d536d4847cb518161493c9d">GetInet4UnicastRouteTable</a>();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="../../d5/d9f/classInetUnicastRouteEntry.html">InetUnicastRouteEntry</a> *rt =</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        table-&gt;<a class="code" href="../../da/dcd/classInetUnicastAgentRouteTable.html#a073b3c877351e5162e08f14e102a04c6">FindResolveRoute</a>(entry.<a class="code" href="../../d2/d02/structVnIpam.html#a95b4d80e130b8581a2e440580c56d18d">ip_prefix</a>.to_v4());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (rt &amp;&amp; rt-&gt;<a class="code" href="../../d5/d9f/classInetUnicastRouteEntry.html#a3015648edd72d32a23bffd5e9654dc62">prefix_length</a>() &gt;= entry.<a class="code" href="../../d2/d02/structVnIpam.html#a87999d5bc05eae59265dcb868c96f292">plen</a>) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">bool</span> enqueue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (event == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911aaf89847363440f9a3729786d6eb830f2">Event::ADD_LL_ROUTE</a>) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        enqueue = base-&gt;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5f9ad0097bc9e04546356c544fe8f839">AddIpam</a>(entry.<a class="code" href="../../d2/d02/structVnIpam.html#a95b4d80e130b8581a2e440580c56d18d">ip_prefix</a>.to_v4(), entry.<a class="code" href="../../d2/d02/structVnIpam.html#a87999d5bc05eae59265dcb868c96f292">plen</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        enqueue = base-&gt;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a3cc499c116868e5f94d531ab6e07d402">DelIpam</a>(entry.<a class="code" href="../../d2/d02/structVnIpam.html#a95b4d80e130b8581a2e440580c56d18d">ip_prefix</a>.to_v4(), entry.<a class="code" href="../../d2/d02/structVnIpam.html#a87999d5bc05eae59265dcb868c96f292">plen</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (enqueue) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        base-&gt;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">revent_queue_</a>-&gt;Enqueue(<span class="keyword">new</span> <a class="code" href="../../d9/df2/http__client_8h.html#a5667b805d857c6d28f83f6038a0272d3">Event</a>(event,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                     <span class="stringliteral">&quot;&quot;</span>, entry.<a class="code" href="../../d2/d02/structVnIpam.html#a95b4d80e130b8581a2e440580c56d18d">ip_prefix</a>.to_v4(),</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                     entry.<a class="code" href="../../d2/d02/structVnIpam.html#a87999d5bc05eae59265dcb868c96f292">plen</a>, 0, <span class="keyword">true</span>));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a94c26f540641e488806fa904db6dde7e">  197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a94c26f540641e488806fa904db6dde7e">VnswInterfaceListenerBase::VnDBState::Add</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html">VnswInterfaceListenerBase</a> *base,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="../../d8/d00/classVnEntry.html">VnEntry</a> *vn) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    std::set&lt;VnIpam&gt; old_ipam_list = ipam_list_;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    std::vector&lt;VnIpam&gt;::const_iterator it = vn-&gt;<a class="code" href="../../d8/d00/classVnEntry.html#a1037b99b37ff98fdbb43f757b0ed528b">GetVnIpam</a>().begin();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">for</span>(; it != vn-&gt;<a class="code" href="../../d8/d00/classVnEntry.html#a1037b99b37ff98fdbb43f757b0ed528b">GetVnIpam</a>().end(); it++) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (it-&gt;ip_prefix.is_v4() == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (ipam_list_.find(*it) != ipam_list_.end()) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            old_ipam_list.erase(*it);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            ipam_list_.insert(*it);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0e66e9080227f5dc9f000539ead22fab">Enqueue</a>(base, *it, <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911aaf89847363440f9a3729786d6eb830f2">Event::ADD_LL_ROUTE</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    std::set&lt;VnIpam&gt;::iterator oit = old_ipam_list.begin();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">for</span>(; oit != old_ipam_list.end(); oit++) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0e66e9080227f5dc9f000539ead22fab">Enqueue</a>(base, *oit, <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177">Event::DEL_LL_ROUTE</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a0e6069696c5127f6765520bc9ffa36f7">  221</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a0e6069696c5127f6765520bc9ffa36f7">VnswInterfaceListenerBase::VnDBState::Delete</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html">VnswInterfaceListenerBase</a> *base) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    std::set&lt;VnIpam&gt;::iterator it = ipam_list_.begin();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">for</span>(; it != ipam_list_.end(); it++) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0e66e9080227f5dc9f000539ead22fab">Enqueue</a>(base, *it, <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177">Event::DEL_LL_ROUTE</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a2f28551c345db5cc3b838b3cd4d8d567">  228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a2f28551c345db5cc3b838b3cd4d8d567">VnswInterfaceListenerBase::VnNotify</a>(<a class="code" href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a> *part,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                         <a class="code" href="../../d8/d44/classDBEntryBase.html">DBEntryBase</a> *e) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html">VnDBState</a> *state =</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html">VnDBState</a> *<span class="keyword">&gt;</span>(e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aab0b2e94618217c6e5eccbdb59390b0a">GetState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a78521e13a175ca00a18be617cbfa307e">vn_listener_id_</a>));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="../../d8/d00/classVnEntry.html">VnEntry</a> *vn = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d8/d00/classVnEntry.html">VnEntry</a> *<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#af5c1c9aba24569905b6d627451f2b484">IsDeleted</a>() || vn-&gt;<a class="code" href="../../d8/d00/classVnEntry.html#aeb0a4bd40544fb911a4c61f0a6809c02">underlay_forwarding</a>() == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (state) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a62fa4794268381f4287f95adf8704de6">ClearState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a78521e13a175ca00a18be617cbfa307e">vn_listener_id_</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            state-&gt;<a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a0e6069696c5127f6765520bc9ffa36f7">Delete</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keyword">delete</span> state;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vn-&gt;<a class="code" href="../../d8/d00/classVnEntry.html#aeb0a4bd40544fb911a4c61f0a6809c02">underlay_forwarding</a>()) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (state == NULL) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            state = <span class="keyword">new</span> <a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html">VnDBState</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        e-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aecee6124adfd4bae453b29ad3e2dc067">SetState</a>(part-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>(), <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a78521e13a175ca00a18be617cbfa307e">vn_listener_id_</a>, state);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        state-&gt;<a class="code" href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a94c26f540641e488806fa904db6dde7e">Add</a>(<span class="keyword">this</span>, vn);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> * Interface Event handler</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"> ****************************************************************************/</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#ab1e350d6a9a3e2361d4032c865beacba">  252</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ab1e350d6a9a3e2361d4032c865beacba">VnswInterfaceListenerBase::IsInterfaceActive</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af1dcc170af1beb90a037c45cf6ad8a1b">oper_seen_</a> &amp;&amp; entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#a38638530760080e14f17c8f9336d6af7">host_seen_</a> &amp;&amp; entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa4d68ece56f77fd91d6f1fa0d28623b5">link_up_</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="../../d6/da6/vnswif__listener__base_8cc.html#ade47530c423468578ae7b198c0c9a6f2">  256</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#ade47530c423468578ae7b198c0c9a6f2">InterfaceResync</a>(<a class="code" href="../../d8/dfe/classAgent.html">Agent</a> *<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a0397661d99dc81f98c1847f4fbc40bcb">agent</a>, uint32_t <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> active,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                            <span class="keywordtype">bool</span> link_status) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == <a class="code" href="../../d0/dcc/classInterface.html#ad8c0109a68fd2e8045a1143752dea79b">Interface::kInvalidIndex</a>) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="../../d2/d73/classInterfaceTable.html">InterfaceTable</a> *table = agent-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">interface_table</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="../../d0/dcc/classInterface.html">Interface</a> *intrface = table-&gt;<a class="code" href="../../d2/d73/classInterfaceTable.html#a3460257f9b0fa13a0f7104f38d835aa3">FindInterface</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (intrface == NULL) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        std::ostringstream oss;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;InterfaceResync failed. Interface index &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="stringliteral">&quot; not found. Active &quot;</span> &lt;&lt; active;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordtype">string</span> msg = oss.str();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a>(msg.c_str());</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">/* In VmWare mode no need to notifiy on activate/deactivate. This is handled</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">     * via rest requrests enable-port/disable-port</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (intrface-&gt;<a class="code" href="../../d0/dcc/classInterface.html#a6e2d52f7690044b6655d28a6b22f08b2">NeedDefaultOsOperStateDisabled</a>(agent)) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (agent-&gt;<a class="code" href="../../d8/dfe/classAgent.html#acce9892a95904dab529ee7739b78e279">test_mode</a>())</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        intrface-&gt;<a class="code" href="../../d0/dcc/classInterface.html#aaf29d47f607592f3345781aa7e12e107">set_test_oper_state</a>(active);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="../../d7/df9/structDBRequest.html">DBRequest</a> req(<a class="code" href="../../d7/df9/structDBRequest.html#a8dfecbdd1f2e52e634022012511c0b2caf1607c1d188471817f7a1ba4e3528f45">DBRequest::DB_ENTRY_ADD_CHANGE</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    req.<a class="code" href="../../d7/df9/structDBRequest.html#a94c88f5224b1f8cb6adad61400c970d4">key</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d5/d93/structVmInterfaceKey.html">VmInterfaceKey</a>(<a class="code" href="../../de/d25/structAgentKey.html#a4c6bca5c3d6b2fc5d0e4156aea64aa2faa4e1a54f1f21ff3c54a204e0752214c0">AgentKey::RESYNC</a>, intrface-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ae2ac1c63e37ac895eb7d11b578bcbd84">GetUuid</a>(),</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                     intrface-&gt;<a class="code" href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">name</a>()));</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">string</span> link_state_str = link_status? <span class="stringliteral">&quot;up&quot;</span> : <span class="stringliteral">&quot;down&quot;</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;InterfaceResync for id &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot; link_state &quot;</span> &lt;&lt; link_state_str;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a>(oss.str().c_str());</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    req.<a class="code" href="../../d7/df9/structDBRequest.html#ad287a746780e9771d3073c392045d64e">data</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d3/d07/structVmInterfaceOsOperStateData.html">VmInterfaceOsOperStateData</a>(link_status));</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a1b8bb5fe5c7b5e8a65dbca701d5f1c94">Enqueue</a>(&amp;req);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">VnswInterfaceListenerBase::HostInterfaceEntry</a> *</div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">  292</a></span>&#160;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">VnswInterfaceListenerBase::GetHostInterfaceEntry</a>(<span class="keyword">const</span> std::string &amp;name) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    HostInterfaceTable::iterator it = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.find(name);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (it == <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.end())</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">// Handle transition from In-Active to Active interface</span></div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a3965b2d84888178658bde80824ec558a">  300</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a3965b2d84888178658bde80824ec558a">VnswInterfaceListenerBase::Activate</a>(<span class="keyword">const</span> std::string &amp;name,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (name == <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a7a6dcfdf52e75e47c71afe5b9cdc4a9f">vhost_interface_name</a>()) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="comment">// link-local routes would have been deleted when vhost link was down.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">// Add all routes again on activation</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a94b744d4684e2a780582affa4e838bfd">AddLinkLocalRoutes</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">//Add IPAM routes also</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a343ba21d1fe4e4e38f5a12bc1613b8ae">AddIpamRoutes</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (entry == NULL) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#ade47530c423468578ae7b198c0c9a6f2">InterfaceResync</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>, entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">oper_id_</a>, <span class="keyword">true</span>, entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa4d68ece56f77fd91d6f1fa0d28623b5">link_up_</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a506b551f7d1e80c14201cfd4649930bc">  315</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a506b551f7d1e80c14201cfd4649930bc">VnswInterfaceListenerBase::DeActivate</a>(<span class="keyword">const</span> std::string &amp;name,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (entry == NULL) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#ade47530c423468578ae7b198c0c9a6f2">InterfaceResync</a>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>, entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">oper_id_</a>, <span class="keyword">false</span>, entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa4d68ece56f77fd91d6f1fa0d28623b5">link_up_</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a29d08a93efc5a4542016c66dbd3565f1">  323</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a29d08a93efc5a4542016c66dbd3565f1">VnswInterfaceListenerBase::SetSeen</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">bool</span> oper,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                        uint32_t <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(name);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (entry == NULL) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        entry = <span class="keyword">new</span> <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.insert(make_pair(name, entry));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (oper) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af1dcc170af1beb90a037c45cf6ad8a1b">oper_seen_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">oper_id_</a> = id;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#a38638530760080e14f17c8f9336d6af7">host_seen_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a3965b2d84888178658bde80824ec558a">Activate</a>(name, entry);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a15d7a6a4e9e6e332d9c7e17dad70ea46">  341</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a15d7a6a4e9e6e332d9c7e17dad70ea46">VnswInterfaceListenerBase::ResetSeen</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">bool</span> oper) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(name);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (entry == NULL)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (oper) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af1dcc170af1beb90a037c45cf6ad8a1b">oper_seen_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">oper_id_</a> = <a class="code" href="../../d0/dcc/classInterface.html#ad8c0109a68fd2e8045a1143752dea79b">Interface::kInvalidIndex</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#a38638530760080e14f17c8f9336d6af7">host_seen_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af1dcc170af1beb90a037c45cf6ad8a1b">oper_seen_</a> == <span class="keyword">false</span> &amp;&amp; entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#a38638530760080e14f17c8f9336d6af7">host_seen_</a> == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        HostInterfaceTable::iterator it = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.find(name);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.erase(it);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keyword">delete</span> entry;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (!oper) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="comment">/* Send notification to interface only when it is not marked for</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">         * delete */</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a506b551f7d1e80c14201cfd4649930bc">DeActivate</a>(name, entry);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a95741f800ba109ddd32ffaf1d0f84d91">  367</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a95741f800ba109ddd32ffaf1d0f84d91">VnswInterfaceListenerBase::SetLinkState</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keywordtype">bool</span> link_up){</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(name);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (entry == NULL)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">bool</span> old_active = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ab1e350d6a9a3e2361d4032c865beacba">IsInterfaceActive</a>(entry);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa4d68ece56f77fd91d6f1fa0d28623b5">link_up_</a> = link_up;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (old_active)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a506b551f7d1e80c14201cfd4649930bc">DeActivate</a>(name, entry);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a3965b2d84888178658bde80824ec558a">Activate</a>(name, entry);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4bb58a09d2504683dc5580821e8285a1">  381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4bb58a09d2504683dc5580821e8285a1">VnswInterfaceListenerBase::HandleInterfaceEvent</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911ad728cd35be32f7ca40b60720bd57b34a">Event::DEL_INTERFACE</a>) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a15d7a6a4e9e6e332d9c7e17dad70ea46">ResetSeen</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordtype">bool</span> up = (<span class="keyword">event</span>-&gt;flags_ &amp; (IFF_UP | IFF_RUNNING)) == (IFF_UP | IFF_RUNNING);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        std::vector&lt;std::string&gt; interface_info;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#ad893d206e8fd047833ab3cfe51a8d2bc">is_l3mh</a>() == <span class="keyword">false</span> &amp;&amp;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            ((<span class="keyword">event</span>-&gt;type_ == <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a27797c3f6301336adb1fd522090499d9ad95a85057a03423dd8e3d9b654a126f7">VnswInterfaceListenerBase::VR_FABRIC</a>) ||</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;             (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a108c9b09e5bd09649178acc4e6d05caa">type_</a> == <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a27797c3f6301336adb1fd522090499d9a1780ae9d541142f1e74066fd803b4e79">VnswInterfaceListenerBase::VR_BOND_SLAVES</a>)))</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            std::istringstream iss(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">for</span>(std::string s; iss &gt;&gt; s; )</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                interface_info.push_back(s);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="comment">/* Vrouter is sending a netlink message. In that message</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">             * event_&gt;interface_ will contain intf name, intf drv name, and</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">             * intf_id. So breaking this message and store these values in a</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">             * vector. So in vector 1st value will be intf_name, 2nd is</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">             * intf_drv_name and 3rd is intf_id. Total 3 parameters vrouter will</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">             * send, it will come in event_&gt;interface_.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <a class="code" href="../../d2/d73/classInterfaceTable.html">InterfaceTable</a> *table = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">interface_table</a>();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">if</span>(table)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">if</span>(interface_info.size() == <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#a16586d3705b0e8ebbd8544cffd46394e">NL_MSG_PARAMS</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                  <span class="comment">/* Used NL_MSG_PARAMS macro to determine</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">                   * the no of parameters vrouter will send i.e 3</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">                   */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *x = interface_info[<a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#a7dd14e414a16d03a6101a6ad5478c611">INDEX_INTERFACE_ID</a>].c_str();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <a class="code" href="../../d0/dcc/classInterface.html">Interface</a> *<span class="keyword">interface </span>= table-&gt;FindInterface(atoi(x));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    <span class="keywordflow">if</span>(interface)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        <a class="code" href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a> *phy_intf =</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                            <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a> *<span class="keyword">&gt;</span>(interface);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        <span class="keywordflow">if</span>(phy_intf)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                            <a class="code" href="../../d7/df9/structDBRequest.html">DBRequest</a> req(<a class="code" href="../../d7/df9/structDBRequest.html#a8dfecbdd1f2e52e634022012511c0b2caf1607c1d188471817f7a1ba4e3528f45">DBRequest::DB_ENTRY_ADD_CHANGE</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                            req.<a class="code" href="../../d7/df9/structDBRequest.html#a94c88f5224b1f8cb6adad61400c970d4">key</a>.reset(<span class="keyword">new</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                    <a class="code" href="../../da/dda/structPhysicalInterfaceKey.html">PhysicalInterfaceKey</a>(</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a366d07a43ff2302ae83f16732de7f1d6">fabric_interface_name</a>()));</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                            req.<a class="code" href="../../d7/df9/structDBRequest.html#ad287a746780e9771d3073c392045d64e">data</a>.reset(<span class="keyword">new</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                    <a class="code" href="../../d2/d50/structPhysicalInterfaceOsOperStateData.html">PhysicalInterfaceOsOperStateData</a>(</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                        event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a108c9b09e5bd09649178acc4e6d05caa">type_</a>,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                        interface_info[<a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#afee5f94d15c6b6fa759c06ca778f56e8">INDEX_INTERFACE_NAME</a>],</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                        interface_info[<a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#ad7ba05b7e98a53d287024d32c0cb0f38">INDEX_INTERFACE_DRV_NAME</a>],</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                        up));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                            table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a1b8bb5fe5c7b5e8a65dbca701d5f1c94">Enqueue</a>(&amp;req);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#ad893d206e8fd047833ab3cfe51a8d2bc">is_l3mh</a>() &amp;&amp;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                   <span class="keyword">event</span>-&gt;type_ == <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a27797c3f6301336adb1fd522090499d9ad95a85057a03423dd8e3d9b654a126f7">VnswInterfaceListenerBase::VR_FABRIC</a>) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="../../d2/d73/classInterfaceTable.html">InterfaceTable</a> *table = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">interface_table</a>();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (table &amp;&amp; <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a23c8d94a615dd774265d25b62f301967">IsHostLinkStateUp</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>) != up &amp;&amp;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                !<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#acc68a9452a1bb13b1845736f7c370af7">vrouter_on_host_dpdk</a>()) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <a class="code" href="../../da/dda/structPhysicalInterfaceKey.html">PhysicalInterfaceKey</a> key(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <a class="code" href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a> *intf = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    table-&gt;<a class="code" href="../../db/d09/classAgentDBTable.html#a224ced1237aec89a4fb72dd3b0f5be13">FindActiveEntry</a>(&amp;key));</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordflow">if</span> (intf) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    <a class="code" href="../../d7/df9/structDBRequest.html">DBRequest</a> req(<a class="code" href="../../d7/df9/structDBRequest.html#a8dfecbdd1f2e52e634022012511c0b2caf1607c1d188471817f7a1ba4e3528f45">DBRequest::DB_ENTRY_ADD_CHANGE</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    req.<a class="code" href="../../d7/df9/structDBRequest.html#a94c88f5224b1f8cb6adad61400c970d4">key</a>.reset(<span class="keyword">new</span> <a class="code" href="../../da/dda/structPhysicalInterfaceKey.html">PhysicalInterfaceKey</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    req.<a class="code" href="../../d7/df9/structDBRequest.html#ad287a746780e9771d3073c392045d64e">data</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d2/d50/structPhysicalInterfaceOsOperStateData.html">PhysicalInterfaceOsOperStateData</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a108c9b09e5bd09649178acc4e6d05caa">type_</a>,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                    event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, up));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a1b8bb5fe5c7b5e8a65dbca701d5f1c94">Enqueue</a>(&amp;req);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">if</span> (table &amp;&amp; <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#acc68a9452a1bb13b1845736f7c370af7">vrouter_on_host_dpdk</a>()) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                boost::split(interface_info, event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, boost::is_any_of(<span class="stringliteral">&quot; &quot;</span>));</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="keywordflow">if</span> (interface_info.size() == <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#a16586d3705b0e8ebbd8544cffd46394e">NL_MSG_PARAMS</a>) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *index = interface_info[<a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#a7dd14e414a16d03a6101a6ad5478c611">INDEX_INTERFACE_ID</a>].c_str();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    <a class="code" href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a> *intf = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                        table-&gt;<a class="code" href="../../d2/d73/classInterfaceTable.html#a3460257f9b0fa13a0f7104f38d835aa3">FindInterface</a>(atoi(index)));</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    <span class="keywordflow">if</span> (intf) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        <a class="code" href="../../d7/df9/structDBRequest.html">DBRequest</a> req(<a class="code" href="../../d7/df9/structDBRequest.html#a8dfecbdd1f2e52e634022012511c0b2caf1607c1d188471817f7a1ba4e3528f45">DBRequest::DB_ENTRY_ADD_CHANGE</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                        req.<a class="code" href="../../d7/df9/structDBRequest.html#a94c88f5224b1f8cb6adad61400c970d4">key</a>.reset(<span class="keyword">new</span> <a class="code" href="../../da/dda/structPhysicalInterfaceKey.html">PhysicalInterfaceKey</a>(intf-&gt;<a class="code" href="../../d2/d81/classPhysicalInterface.html#a964346b365b842daa69221a0fa4193f9">display_name</a>()));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                        req.<a class="code" href="../../d7/df9/structDBRequest.html#ad287a746780e9771d3073c392045d64e">data</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d2/d50/structPhysicalInterfaceOsOperStateData.html">PhysicalInterfaceOsOperStateData</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a108c9b09e5bd09649178acc4e6d05caa">type_</a>,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                   interface_info[<a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#afee5f94d15c6b6fa759c06ca778f56e8">INDEX_INTERFACE_NAME</a>], interface_info[<a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#ad7ba05b7e98a53d287024d32c0cb0f38">INDEX_INTERFACE_DRV_NAME</a>], up));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                       table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a1b8bb5fe5c7b5e8a65dbca701d5f1c94">Enqueue</a>(&amp;req);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a29d08a93efc5a4542016c66dbd3565f1">SetSeen</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, <span class="keyword">false</span>, <a class="code" href="../../d0/dcc/classInterface.html#ad8c0109a68fd2e8045a1143752dea79b">Interface::kInvalidIndex</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a95741f800ba109ddd32ffaf1d0f84d91">SetLinkState</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, up);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// In XEN mode, notify add of XAPI interface</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a490853a92710597ed88110ec710f5508">isXenMode</a>()) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span> (string::npos != event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>.find(<a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a5497717e2b082a545abd39bd4bcd8d31">XAPI_INTF_PREFIX</a>)) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#ae8ee3a20def9370096d09a536d2f9f9f">params</a>()-&gt;<a class="code" href="../../dc/dd4/classAgentParam.html#a2ff0102b0f40759bf1748be6e5bd3c7c">set_xen_ll_name</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a4136b5ca12bc275ff2868a2903c30aca">InitXenLinkLocalIntf</a>();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a9bcd2a1c64346986be1fb97180ae6629">  478</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a9bcd2a1c64346986be1fb97180ae6629">VnswInterfaceListenerBase::IsValidLinkLocalAddress</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d9b/address_8h.html#ae475599c70b47996f862faa1f265eaa2">Ip4Address</a> &amp;addr)<span class="keyword"></span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="keyword">    const </span>{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.find(addr) != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.end());</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> * Interface Address event handler</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> ****************************************************************************/</span></div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a36e47518189eba1537b95069801066d1">  486</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a36e47518189eba1537b95069801066d1">VnswInterfaceListenerBase::SetAddress</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (entry == NULL) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        entry = <span class="keyword">new</span> <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a>();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">host_interface_table_</a>.insert(make_pair(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>, entry));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa7667bd53e4e6bf88577ebd7604b1034">addr_</a> = <span class="keyword">event</span>-&gt;addr_;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af9f008856a9ca2146ae0bbe7c98d3b63">plen_</a> = <span class="keyword">event</span>-&gt;plen_;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4dfdb1c4199d6b9178737d0d9a5b5378">  497</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4dfdb1c4199d6b9178737d0d9a5b5378">VnswInterfaceListenerBase::ResetAddress</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (entry == NULL) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa7667bd53e4e6bf88577ebd7604b1034">addr_</a> = <a class="code" href="../../d9/d9b/address_8h.html#ae475599c70b47996f862faa1f265eaa2">Ip4Address</a>(0);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af9f008856a9ca2146ae0bbe7c98d3b63">plen_</a> = 0;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4f8bfd9b6d8e42b5e1d78dc3148abe2a">  507</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4f8bfd9b6d8e42b5e1d78dc3148abe2a">VnswInterfaceListenerBase::HandleAddressEvent</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// Update address in interface table</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a6ad32533be260e5b39c171aabd651c90">Event::ADD_ADDR</a>) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a36e47518189eba1537b95069801066d1">SetAddress</a>(event);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4dfdb1c4199d6b9178737d0d9a5b5378">ResetAddress</a>(event);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// We only handle IP Address add for VHOST interface</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// We dont yet handle delete of IP address or change of IP address</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> != <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a6ad32533be260e5b39c171aabd651c90">Event::ADD_ADDR</a> ||</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a> != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a7a6dcfdf52e75e47c71afe5b9cdc4a9f">vhost_interface_name</a>() ||</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keyword">event</span>-&gt;addr_.to_ulong() == 0) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// Check if vhost already has address. We cant handle IP address change yet</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d5/d21/classVmInterface.html">VmInterface</a> *vhost =</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d5/d21/classVmInterface.html">VmInterface</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#abbc0825c7dfc8d97dd49c46b8b842352">vhost_interface</a>());</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (vhost-&gt;<a class="code" href="../../d5/d21/classVmInterface.html#ada7ed7a5fb4d53d7260bdbe8f2630e14">primary_ip_addr</a>() != <a class="code" href="../../d9/d9b/address_8h.html#ae475599c70b47996f862faa1f265eaa2">Ip4Address</a>(0)) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;Setting IP address for &quot;</span> &lt;&lt; <span class="keyword">event</span>-&gt;interface_ &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        &lt;&lt; <span class="keyword">event</span>-&gt;addr_.to_string() &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; (<span class="keywordtype">unsigned</span> short)event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a390f129d3c80755cd52e2a7b911e2b55">plen_</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordtype">string</span> msg = oss.str();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a>(msg.c_str());</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ae4f953a9c3d4f30121013c6aefcf9c32">vhost_update_count_</a>++;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">bool</span> dep_init_reqd = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a6b6560e4a7b75f5665ae324a91109b28">router_id_configured</a>() == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        dep_init_reqd = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// Update vhost ip-address and enqueue db request</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#ad893d206e8fd047833ab3cfe51a8d2bc">is_l3mh</a>() == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a9455498edda707ed2730b8c6a0262882">set_router_id</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a564ac7d0eaef47abd9cc12535d9c296a">set_vhost_prefix_len</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a390f129d3c80755cd52e2a7b911e2b55">plen_</a>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">interface_table</a>()-&gt;<a class="code" href="../../d2/d73/classInterfaceTable.html#a501941a11cd3af33cf881aa0363508ce">CreateVhostReq</a>();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (dep_init_reqd)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a7728e52166f5e5ceeba7a4ed962a636a">agent_init</a>()-&gt;<a class="code" href="../../d8/d16/classAgentInit.html#a889ac910d0bc178d66bcb4675083a434">ConnectToControllerBase</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">  554</a></span>&#160;<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">VnswInterfaceListenerBase::UpdateLinkLocalRouteAndCount</a>(</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/d9b/address_8h.html#ae475599c70b47996f862faa1f265eaa2">Ip4Address</a> &amp;addr, uint8_t plen, <span class="keywordtype">bool</span> del_rt)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (del_rt)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a1be1bf55a3f62d73c44b86fc8d7cf035">ll_del_count_</a>++;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#aa660ca867305d6223a24f34a059d4fcf">ll_add_count_</a>++;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">// Handle link-local route changes resulting from ADD_LL_ROUTE or DEL_LL_ROUTE</span></div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a530b8bbb0afdb7460669dd2b4c7166aa">  564</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a530b8bbb0afdb7460669dd2b4c7166aa">VnswInterfaceListenerBase::LinkLocalRouteFromLinkLocalEvent</a>(<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177">Event::DEL_LL_ROUTE</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a7d9b882779b2866ad37819691ca53b86">ipam_</a> == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.erase(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">UpdateLinkLocalRouteAndCount</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>, event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a390f129d3c80755cd52e2a7b911e2b55">plen_</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a7d9b882779b2866ad37819691ca53b86">ipam_</a> == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.insert(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">UpdateLinkLocalRouteAndCount</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>, event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a390f129d3c80755cd52e2a7b911e2b55">plen_</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">// For link-local routes added by agent, we treat agent as master. So, force</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">// add the routes again if they are deleted from kernel</span></div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a70d2e583bdd579a71b1fefb8477315ad">  580</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a70d2e583bdd579a71b1fefb8477315ad">VnswInterfaceListenerBase::LinkLocalRouteFromRouteEvent</a>(<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a6f114c2a0456abfede2aeab2ea5863d8">protocol_</a> != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a9d7a5c1d6821b8d5a8c7fbddb5b1c814">kVnswRtmProto</a>)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.find(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>) == <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.end()) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="comment">// link-local route is in kernel, but not in agent. This can happen</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// when agent has restarted and the link-local route is not valid</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">// after agent restart.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="comment">// Delete the route</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911abe6638fae60a752972b5c6c25193a632">Event::ADD_ROUTE</a>) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">UpdateLinkLocalRouteAndCount</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>, <a class="code" href="../../de/d6b/classAddress.html#a14981c8d8b93427f25f80e13f166e050">Address::kMaxV4PrefixLen</a>,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                         <span class="keyword">true</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> ((event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911adce9c82770728509229f45619e9b4821">Event::DEL_ROUTE</a>) ||</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a> == <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911abe6638fae60a752972b5c6c25193a632">Event::ADD_ROUTE</a></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;         &amp;&amp; event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a> != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">agent_</a>-&gt;<a class="code" href="../../d8/dfe/classAgent.html#a7a6dcfdf52e75e47c71afe5b9cdc4a9f">vhost_interface_name</a>())) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">UpdateLinkLocalRouteAndCount</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">addr_</a>, <a class="code" href="../../de/d6b/classAddress.html#a14981c8d8b93427f25f80e13f166e050">Address::kMaxV4PrefixLen</a>,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                     <span class="keyword">false</span>);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a94b744d4684e2a780582affa4e838bfd">  604</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a94b744d4684e2a780582affa4e838bfd">VnswInterfaceListenerBase::AddLinkLocalRoutes</a>() {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">for</span> (LinkLocalAddressTable::iterator it = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.begin();</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;         it != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">ll_addr_table_</a>.end(); ++it) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">UpdateLinkLocalRouteAndCount</a>(*it, <a class="code" href="../../de/d6b/classAddress.html#a14981c8d8b93427f25f80e13f166e050">Address::kMaxV4PrefixLen</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5f80a0c4597b4a3d6b7d5bc9c4a9ee64">  611</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5f80a0c4597b4a3d6b7d5bc9c4a9ee64">VnswInterfaceListenerBase::DelLinkLocalRoutes</a>() {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#a343ba21d1fe4e4e38f5a12bc1613b8ae">  614</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a343ba21d1fe4e4e38f5a12bc1613b8ae">VnswInterfaceListenerBase::AddIpamRoutes</a>() {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    IpamSubnetMap::const_iterator it = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a03594d88153b31051c9f86b135dc2991">ipam_subnet_</a>.begin();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">for</span>(; it != <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a03594d88153b31051c9f86b135dc2991">ipam_subnet_</a>.end(); it++) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">UpdateLinkLocalRouteAndCount</a>(it-&gt;first.ip_, it-&gt;first.plen_, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> * Event handler</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment"> ****************************************************************************/</span></div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="../../d6/da6/vnswif__listener__base_8cc.html#a6662d3d09049bca02a90a7053c71babc">  624</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#a6662d3d09049bca02a90a7053c71babc">EventTypeToString</a>(uint32_t <a class="code" href="../../de/dcb/load__balance_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *name[] = {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="stringliteral">&quot;INVALID&quot;</span>,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="stringliteral">&quot;ADD_ADDR&quot;</span>,</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="stringliteral">&quot;DEL_ADDR&quot;</span>,</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="stringliteral">&quot;ADD_INTERFACE&quot;</span>,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="stringliteral">&quot;DEL_INTERFACE&quot;</span>,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="stringliteral">&quot;ADD_ROUTE&quot;</span>,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="stringliteral">&quot;DEL_ROUTE&quot;</span>,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="stringliteral">&quot;ADD_LL_ROUTE&quot;</span>,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="stringliteral">&quot;DEL_LL_ROUTE&quot;</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    };</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (type &lt; <span class="keyword">sizeof</span>(name)/<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *)) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">return</span> name[<a class="code" href="../../de/dcb/load__balance_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>];</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="../../d3/d81/classVnswInterfaceListenerBase.html#ae30932da1147e25e50cdf94ef30fccd6">  644</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#ae30932da1147e25e50cdf94ef30fccd6">VnswInterfaceListenerBase::ProcessEvent</a>(<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">Event</a> *event) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">HostInterfaceEntry</a> *entry = <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">GetHostInterfaceEntry</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">interface_</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    uint32_t <span class="keywordtype">id</span> = <a class="code" href="../../d0/dcc/classInterface.html#ad8c0109a68fd2e8045a1143752dea79b">Interface::kInvalidIndex</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> (entry) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordtype">id</span> = entry-&gt;<a class="code" href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">oper_id_</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot; Event &quot;</span> &lt;&lt; <a class="code" href="../../d6/da6/vnswif__listener__base_8cc.html#a6662d3d09049bca02a90a7053c71babc">EventTypeToString</a>(event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a>)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; Interface &quot;</span> &lt;&lt; <span class="keyword">event</span>-&gt;interface_ &lt;&lt; <span class="stringliteral">&quot; Addr &quot;</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        &lt;&lt; <span class="keyword">event</span>-&gt;addr_.to_string() &lt;&lt; <span class="stringliteral">&quot; prefixlen &quot;</span> &lt;&lt; (uint32_t)event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a390f129d3c80755cd52e2a7b911e2b55">plen_</a></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; Gateway &quot;</span> &lt;&lt; event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a51ae09de32af0b69e5a2889b17fc3bf6">gw_</a>.to_string() &lt;&lt; <span class="stringliteral">&quot; Flags &quot;</span> &lt;&lt; <span class="keyword">event</span>-&gt;flags_</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; Protocol &quot;</span> &lt;&lt; (uint32_t)event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a6f114c2a0456abfede2aeab2ea5863d8">protocol_</a> &lt;&lt; <span class="stringliteral">&quot; Index &quot;</span> &lt;&lt; <span class="keywordtype">id</span>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">string</span> msg = oss.str();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a>(msg.c_str());</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">switch</span> (event-&gt;<a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">event_</a>) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a6ad32533be260e5b39c171aabd651c90">Event::ADD_ADDR</a>:</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a02116cac9a2ec92b205566d88570f835">Event::DEL_ADDR</a>:</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4f8bfd9b6d8e42b5e1d78dc3148abe2a">HandleAddressEvent</a>(event);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911ad22d790eda0f0bfd0da2ffbd7be79e6a">Event::ADD_INTERFACE</a>:</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911ad728cd35be32f7ca40b60720bd57b34a">Event::DEL_INTERFACE</a>:</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a4bb58a09d2504683dc5580821e8285a1">HandleInterfaceEvent</a>(event);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911abe6638fae60a752972b5c6c25193a632">Event::ADD_ROUTE</a>:</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911adce9c82770728509229f45619e9b4821">Event::DEL_ROUTE</a>:</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a70d2e583bdd579a71b1fefb8477315ad">LinkLocalRouteFromRouteEvent</a>(event);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911aaf89847363440f9a3729786d6eb830f2">Event::ADD_LL_ROUTE</a>:</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177">Event::DEL_LL_ROUTE</a>:</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="../../d3/d81/classVnswInterfaceListenerBase.html#a530b8bbb0afdb7460669dd2b4c7166aa">LinkLocalRouteFromLinkLocalEvent</a>(event);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keyword">delete</span> event;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a6f114c2a0456abfede2aeab2ea5863d8"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a6f114c2a0456abfede2aeab2ea5863d8">VnswInterfaceListenerBase::Event::protocol_</a></div><div class="ttdeci">uint8_t protocol_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00086">vnswif_listener_base.h:86</a></div></div>
<div class="ttc" id="classInetUnicastRouteEntry_html_a3015648edd72d32a23bffd5e9654dc62"><div class="ttname"><a href="../../d5/d9f/classInetUnicastRouteEntry.html#a3015648edd72d32a23bffd5e9654dc62">InetUnicastRouteEntry::prefix_length</a></div><div class="ttdeci">uint8_t prefix_length() const </div><div class="ttdoc">! </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d94/inet__unicast__route_8h_source.html#l00088">inet_unicast_route.h:88</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a15d7a6a4e9e6e332d9c7e17dad70ea46"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a15d7a6a4e9e6e332d9c7e17dad70ea46">VnswInterfaceListenerBase::ResetSeen</a></div><div class="ttdeci">void ResetSeen(const std::string &amp;name, bool oper)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00341">vnswif_listener_base.cc:341</a></div></div>
<div class="ttc" id="classAgentPath_html"><div class="ttname"><a href="../../d4/d3d/classAgentPath.html">AgentPath</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc5/agent__path_8h_source.html#l00231">agent_path.h:231</a></div></div>
<div class="ttc" id="ksync__index_8h_html"><div class="ttname"><a href="../../d6/dbe/ksync__index_8h.html">ksync_index.h</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911abe6638fae60a752972b5c6c25193a632"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911abe6638fae60a752972b5c6c25193a632">VnswInterfaceListenerBase::Event::ADD_ROUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00045">vnswif_listener_base.h:45</a></div></div>
<div class="ttc" id="classAgent_html_a9455498edda707ed2730b8c6a0262882"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a9455498edda707ed2730b8c6a0262882">Agent::set_router_id</a></div><div class="ttdeci">void set_router_id(const Ip4Address &amp;addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00671">agent.h:671</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html_aa4d68ece56f77fd91d6f1fa0d28623b5"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa4d68ece56f77fd91d6f1fa0d28623b5">VnswInterfaceListenerBase::HostInterfaceEntry::link_up_</a></div><div class="ttdeci">bool link_up_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00104">vnswif_listener_base.h:104</a></div></div>
<div class="ttc" id="classAgent_html_a7728e52166f5e5ceeba7a4ed962a636a"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a7728e52166f5e5ceeba7a4ed962a636a">Agent::agent_init</a></div><div class="ttdeci">AgentInit * agent_init() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l01123">agent.h:1123</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a93931a42211cefa0533b78a79ccd4082"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a93931a42211cefa0533b78a79ccd4082">VnswInterfaceListenerBase::revent_queue_</a></div><div class="ttdeci">WorkQueue&lt; Event * &gt; * revent_queue_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00246">vnswif_listener_base.h:246</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a5f9ad0097bc9e04546356c544fe8f839"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a5f9ad0097bc9e04546356c544fe8f839">VnswInterfaceListenerBase::AddIpam</a></div><div class="ttdeci">bool AddIpam(const Ip4Address &amp;ip, uint8_t plen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00137">vnswif_listener_base.h:137</a></div></div>
<div class="ttc" id="classInterfaceTable_html"><div class="ttname"><a href="../../d2/d73/classInterfaceTable.html">InterfaceTable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00301">interface.h:301</a></div></div>
<div class="ttc" id="agent_8h_html_a5cc76e839e1bd287b2c9dbfa21bd77c5"><div class="ttname"><a href="../../de/d9e/agent_8h.html#a5cc76e839e1bd287b2c9dbfa21bd77c5">kTaskDBExclude</a></div><div class="ttdeci">#define kTaskDBExclude</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00336">agent.h:336</a></div></div>
<div class="ttc" id="classAgent_html_acce9892a95904dab529ee7739b78e279"><div class="ttname"><a href="../../d8/dfe/classAgent.html#acce9892a95904dab529ee7739b78e279">Agent::test_mode</a></div><div class="ttdeci">bool test_mode() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l01191">agent.h:1191</a></div></div>
<div class="ttc" id="vnswif__listener__base_8h_html_a5497717e2b082a545abd39bd4bcd8d31"><div class="ttname"><a href="../../d0/d27/vnswif__listener__base_8h.html#a5497717e2b082a545abd39bd4bcd8d31">XAPI_INTF_PREFIX</a></div><div class="ttdeci">#define XAPI_INTF_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00023">vnswif_listener_base.h:23</a></div></div>
<div class="ttc" id="classAgent_html_a2c47f47a1e6db67402ca285fd60f06f2"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a2c47f47a1e6db67402ca285fd60f06f2">Agent::fabric_vrf</a></div><div class="ttdeci">VrfEntry * fabric_vrf() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00915">agent.h:915</a></div></div>
<div class="ttc" id="classDBEntryBase_html_aab0b2e94618217c6e5eccbdb59390b0a"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#aab0b2e94618217c6e5eccbdb59390b0a">DBEntryBase::GetState</a></div><div class="ttdeci">DBState * GetState(DBTableBase *tbl_base, ListenerId listener) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/db__entry_8cc_source.html#l00037">db_entry.cc:37</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a1f5f5053bb115ed3194c246b736ad1b0"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a1f5f5053bb115ed3194c246b736ad1b0">VnswInterfaceListenerBase::VnswInterfaceListenerBase</a></div><div class="ttdeci">VnswInterfaceListenerBase(Agent *agent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00031">vnswif_listener_base.cc:31</a></div></div>
<div class="ttc" id="classInetUnicastAgentRouteTable_html"><div class="ttname"><a href="../../da/dcd/classInetUnicastAgentRouteTable.html">InetUnicastAgentRouteTable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d94/inet__unicast__route_8h_source.html#l00146">inet_unicast_route.h:146</a></div></div>
<div class="ttc" id="classInterface_html_ae2ac1c63e37ac895eb7d11b578bcbd84"><div class="ttname"><a href="../../d0/dcc/classInterface.html#ae2ac1c63e37ac895eb7d11b578bcbd84">Interface::GetUuid</a></div><div class="ttdeci">const boost::uuids::uuid &amp; GetUuid() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00113">interface.h:113</a></div></div>
<div class="ttc" id="classWorkQueue_html"><div class="ttname"><a href="../../d4/d0c/classWorkQueue.html">WorkQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d47/queue__task_8h_source.html#l00109">queue_task.h:109</a></div></div>
<div class="ttc" id="classAgent_html_a170e13ff9762d94816b368f317c5d041"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a170e13ff9762d94816b368f317c5d041">Agent::fabric_inet4_unicast_table</a></div><div class="ttdeci">InetUnicastAgentRouteTable * fabric_inet4_unicast_table() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00578">agent.h:578</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a51ae09de32af0b69e5a2889b17fc3bf6"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a51ae09de32af0b69e5a2889b17fc3bf6">VnswInterfaceListenerBase::Event::gw_</a></div><div class="ttdeci">Ip4Address gw_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00084">vnswif_listener_base.h:84</a></div></div>
<div class="ttc" id="classInterface_html_a302160fc71c3eb559ca3c63e4b75f413"><div class="ttname"><a href="../../d0/dcc/classInterface.html#a302160fc71c3eb559ca3c63e4b75f413">Interface::id</a></div><div class="ttdeci">const uint32_t id() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00123">interface.h:123</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a95741f800ba109ddd32ffaf1d0f84d91"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a95741f800ba109ddd32ffaf1d0f84d91">VnswInterfaceListenerBase::SetLinkState</a></div><div class="ttdeci">void SetLinkState(const std::string &amp;name, bool link_up)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00367">vnswif_listener_base.cc:367</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a4fc46d61c5b8d12674266d01db012401"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a4fc46d61c5b8d12674266d01db012401">VnswInterfaceListenerBase::fabric_listener_id_</a></div><div class="ttdeci">DBTableBase::ListenerId fabric_listener_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00239">vnswif_listener_base.h:239</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_abdc6200c12997ea338e2cb37846971e7"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#abdc6200c12997ea338e2cb37846971e7">VnswInterfaceListenerBase::Event::addr_</a></div><div class="ttdeci">Ip4Address addr_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00082">vnswif_listener_base.h:82</a></div></div>
<div class="ttc" id="structVnIpam_html"><div class="ttname"><a href="../../d2/d02/structVnIpam.html">VnIpam</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/vn_8h_source.html#l00028">vn.h:28</a></div></div>
<div class="ttc" id="classInetUnicastRouteEntry_html"><div class="ttname"><a href="../../d5/d9f/classInetUnicastRouteEntry.html">InetUnicastRouteEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d94/inet__unicast__route_8h_source.html#l00066">inet_unicast_route.h:66</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html">VnswInterfaceListenerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00033">vnswif_listener_base.h:33</a></div></div>
<div class="ttc" id="classAgent_html_abbc0825c7dfc8d97dd49c46b8b842352"><div class="ttname"><a href="../../d8/dfe/classAgent.html#abbc0825c7dfc8d97dd49c46b8b842352">Agent::vhost_interface</a></div><div class="ttdeci">const Interface * vhost_interface() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00935">agent.h:935</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a0e66e9080227f5dc9f000539ead22fab"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a0e66e9080227f5dc9f000539ead22fab">VnswInterfaceListenerBase::Enqueue</a></div><div class="ttdeci">void Enqueue(Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00084">vnswif_listener_base.cc:84</a></div></div>
<div class="ttc" id="classAgent_html_acc68a9452a1bb13b1845736f7c370af7"><div class="ttname"><a href="../../d8/dfe/classAgent.html#acc68a9452a1bb13b1845736f7c370af7">Agent::vrouter_on_host_dpdk</a></div><div class="ttdeci">bool vrouter_on_host_dpdk() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/agent_8cc_source.html#l01057">agent.cc:1057</a></div></div>
<div class="ttc" id="structDBRequest_html"><div class="ttname"><a href="../../d7/df9/structDBRequest.html">DBRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00035">db_table.h:35</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_ad85f1a41e4f473fc8d92684c64269801"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#ad85f1a41e4f473fc8d92684c64269801">VnswInterfaceListenerBase::host_interface_table_</a></div><div class="ttdeci">HostInterfaceTable host_interface_table_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00245">vnswif_listener_base.h:245</a></div></div>
<div class="ttc" id="classAgent_html_ad893d206e8fd047833ab3cfe51a8d2bc"><div class="ttname"><a href="../../d8/dfe/classAgent.html#ad893d206e8fd047833ab3cfe51a8d2bc">Agent::is_l3mh</a></div><div class="ttdeci">bool is_l3mh() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00725">agent.h:725</a></div></div>
<div class="ttc" id="classDBEntryBase_html_af5c1c9aba24569905b6d627451f2b484"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#af5c1c9aba24569905b6d627451f2b484">DBEntryBase::IsDeleted</a></div><div class="ttdeci">bool IsDeleted() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d61/db__entry_8h_source.html#l00049">db_entry.h:49</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_adc83ebd53956d2503c102dbaeb1cacdc"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#adc83ebd53956d2503c102dbaeb1cacdc">VnswInterfaceListenerBase::~VnswInterfaceListenerBase</a></div><div class="ttdeci">virtual ~VnswInterfaceListenerBase()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00039">vnswif_listener_base.cc:39</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a70d2e583bdd579a71b1fefb8477315ad"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a70d2e583bdd579a71b1fefb8477315ad">VnswInterfaceListenerBase::LinkLocalRouteFromRouteEvent</a></div><div class="ttdeci">void LinkLocalRouteFromRouteEvent(Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00580">vnswif_listener_base.cc:580</a></div></div>
<div class="ttc" id="classDBEntryBase_html_aecee6124adfd4bae453b29ad3e2dc067"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#aecee6124adfd4bae453b29ad3e2dc067">DBEntryBase::SetState</a></div><div class="ttdeci">void SetState(DBTableBase *tbl_base, ListenerId listener, DBState *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/db__entry_8cc_source.html#l00022">db_entry.cc:22</a></div></div>
<div class="ttc" id="structPhysicalInterfaceKey_html"><div class="ttname"><a href="../../da/dda/structPhysicalInterfaceKey.html">PhysicalInterfaceKey</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6f/physical__interface_8h_source.html#l00128">physical_interface.h:128</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_aa660ca867305d6223a24f34a059d4fcf"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#aa660ca867305d6223a24f34a059d4fcf">VnswInterfaceListenerBase::ll_add_count_</a></div><div class="ttdeci">uint32_t ll_add_count_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00249">vnswif_listener_base.h:249</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a9d7a5c1d6821b8d5a8c7fbddb5b1c814"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a9d7a5c1d6821b8d5a8c7fbddb5b1c814">VnswInterfaceListenerBase::kVnswRtmProto</a></div><div class="ttdeci">static const int kVnswRtmProto</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00035">vnswif_listener_base.h:35</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911adce9c82770728509229f45619e9b4821"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911adce9c82770728509229f45619e9b4821">VnswInterfaceListenerBase::Event::DEL_ROUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00046">vnswif_listener_base.h:46</a></div></div>
<div class="ttc" id="structAgentKey_html_a4c6bca5c3d6b2fc5d0e4156aea64aa2faa4e1a54f1f21ff3c54a204e0752214c0"><div class="ttname"><a href="../../de/d25/structAgentKey.html#a4c6bca5c3d6b2fc5d0e4156aea64aa2faa4e1a54f1f21ff3c54a204e0752214c0">AgentKey::RESYNC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/de1/agent__db_8h_source.html#l00101">agent_db.h:101</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a506b551f7d1e80c14201cfd4649930bc"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a506b551f7d1e80c14201cfd4649930bc">VnswInterfaceListenerBase::DeActivate</a></div><div class="ttdeci">void DeActivate(const std::string &amp;name, const HostInterfaceEntry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00315">vnswif_listener_base.cc:315</a></div></div>
<div class="ttc" id="structDBRequest_html_ad287a746780e9771d3073c392045d64e"><div class="ttname"><a href="../../d7/df9/structDBRequest.html#ad287a746780e9771d3073c392045d64e">DBRequest::data</a></div><div class="ttdeci">std::unique_ptr&lt; DBRequestData &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00049">db_table.h:49</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a4f8bfd9b6d8e42b5e1d78dc3148abe2a"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a4f8bfd9b6d8e42b5e1d78dc3148abe2a">VnswInterfaceListenerBase::HandleAddressEvent</a></div><div class="ttdeci">void HandleAddressEvent(const Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00507">vnswif_listener_base.cc:507</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a390f129d3c80755cd52e2a7b911e2b55"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a390f129d3c80755cd52e2a7b911e2b55">VnswInterfaceListenerBase::Event::plen_</a></div><div class="ttdeci">uint8_t plen_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00083">vnswif_listener_base.h:83</a></div></div>
<div class="ttc" id="classDBTablePartBase_html"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/db__table__partition_8h_source.html#l00018">db_table_partition.h:18</a></div></div>
<div class="ttc" id="classVrfEntry_html_a90156fba7d536d4847cb518161493c9d"><div class="ttname"><a href="../../d2/d3d/classVrfEntry.html#a90156fba7d536d4847cb518161493c9d">VrfEntry::GetInet4UnicastRouteTable</a></div><div class="ttdeci">InetUnicastAgentRouteTable * GetInet4UnicastRouteTable() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d02/vrf_8cc_source.html#l00319">vrf.cc:319</a></div></div>
<div class="ttc" id="classDBTablePartBase_html_a036097d2f7e774a0a6ac2466d5e50a28"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">DBTablePartBase::parent</a></div><div class="ttdeci">DBTableBase * parent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/db__table__partition_8h_source.html#l00041">db_table_partition.h:41</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a4dfdb1c4199d6b9178737d0d9a5b5378"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a4dfdb1c4199d6b9178737d0d9a5b5378">VnswInterfaceListenerBase::ResetAddress</a></div><div class="ttdeci">void ResetAddress(const Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00497">vnswif_listener_base.cc:497</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a108c9b09e5bd09649178acc4e6d05caa"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a108c9b09e5bd09649178acc4e6d05caa">VnswInterfaceListenerBase::Event::type_</a></div><div class="ttdeci">unsigned short int type_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00088">vnswif_listener_base.h:88</a></div></div>
<div class="ttc" id="classAgent_html_a7a6dcfdf52e75e47c71afe5b9cdc4a9f"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a7a6dcfdf52e75e47c71afe5b9cdc4a9f">Agent::vhost_interface_name</a></div><div class="ttdeci">const std::string &amp; vhost_interface_name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/agent_8cc_source.html#l00104">agent.cc:104</a></div></div>
<div class="ttc" id="classAgent_html_a4136b5ca12bc275ff2868a2903c30aca"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a4136b5ca12bc275ff2868a2903c30aca">Agent::InitXenLinkLocalIntf</a></div><div class="ttdeci">void InitXenLinkLocalIntf()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/agent_8cc_source.html#l00678">agent.cc:678</a></div></div>
<div class="ttc" id="classAgentDBTable_html_a224ced1237aec89a4fb72dd3b0f5be13"><div class="ttname"><a href="../../db/d09/classAgentDBTable.html#a224ced1237aec89a4fb72dd3b0f5be13">AgentDBTable::FindActiveEntry</a></div><div class="ttdeci">AgentDBEntry * FindActiveEntry(const DBEntry *key)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3f/agent__db_8cc_source.html#l00110">agent_db.cc:110</a></div></div>
<div class="ttc" id="classAgent_html_a1763098920517b4774b95a4287ac71d0"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a1763098920517b4774b95a4287ac71d0">Agent::interface_table</a></div><div class="ttdeci">InterfaceTable * interface_table() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00465">agent.h:465</a></div></div>
<div class="ttc" id="classDBTableBase_html_a1b8bb5fe5c7b5e8a65dbca701d5f1c94"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#a1b8bb5fe5c7b5e8a65dbca701d5f1c94">DBTableBase::Enqueue</a></div><div class="ttdeci">bool Enqueue(DBRequest *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00194">db_table.cc:194</a></div></div>
<div class="ttc" id="classAgent_html_a51c3acf80aa60742d2a2c19779086945"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a51c3acf80aa60742d2a2c19779086945">Agent::vn_table</a></div><div class="ttdeci">VnTable * vn_table() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00495">agent.h:495</a></div></div>
<div class="ttc" id="classAgent_html_a4741f22891c3ed424b8e5edba39c62c9ad61ee6c8ee18e48080440df563bc062d"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a4741f22891c3ed424b8e5edba39c62c9ad61ee6c8ee18e48080440df563bc062d">Agent::INET4_UNICAST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00417">agent.h:417</a></div></div>
<div class="ttc" id="classAddress_html_a14981c8d8b93427f25f80e13f166e050"><div class="ttname"><a href="../../de/d6b/classAddress.html#a14981c8d8b93427f25f80e13f166e050">Address::kMaxV4PrefixLen</a></div><div class="ttdeci">static const uint8_t kMaxV4PrefixLen</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9b/address_8h_source.html#l00020">address.h:20</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a009ce9eb5c10d8980adb4c0846332146"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a009ce9eb5c10d8980adb4c0846332146">VnswInterfaceListenerBase::agent_</a></div><div class="ttdeci">Agent * agent_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00234">vnswif_listener_base.h:234</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html">VnswInterfaceListenerBase::HostInterfaceEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00095">vnswif_listener_base.h:95</a></div></div>
<div class="ttc" id="classInterfaceTable_html_a501941a11cd3af33cf881aa0363508ce"><div class="ttname"><a href="../../d2/d73/classInterfaceTable.html#a501941a11cd3af33cf881aa0363508ce">InterfaceTable::CreateVhostReq</a></div><div class="ttdeci">void CreateVhostReq()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7a/interface_8cc_source.html#l00453">interface.cc:453</a></div></div>
<div class="ttc" id="vnswif__listener__base_8cc_html_a7dd14e414a16d03a6101a6ad5478c611"><div class="ttname"><a href="../../d6/da6/vnswif__listener__base_8cc.html#a7dd14e414a16d03a6101a6ad5478c611">INDEX_INTERFACE_ID</a></div><div class="ttdeci">#define INDEX_INTERFACE_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00024">vnswif_listener_base.cc:24</a></div></div>
<div class="ttc" id="vnswif__listener__base_8cc_html_a6662d3d09049bca02a90a7053c71babc"><div class="ttname"><a href="../../d6/da6/vnswif__listener__base_8cc.html#a6662d3d09049bca02a90a7053c71babc">EventTypeToString</a></div><div class="ttdeci">static string EventTypeToString(uint32_t type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00624">vnswif_listener_base.cc:624</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a78521e13a175ca00a18be617cbfa307e"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a78521e13a175ca00a18be617cbfa307e">VnswInterfaceListenerBase::vn_listener_id_</a></div><div class="ttdeci">DBTableBase::ListenerId vn_listener_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00240">vnswif_listener_base.h:240</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_aec29569630901bf3cab22a6c3dc0d5c2"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#aec29569630901bf3cab22a6c3dc0d5c2">VnswInterfaceListenerBase::Event::interface_</a></div><div class="ttdeci">std::string interface_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00081">vnswif_listener_base.h:81</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a23c8d94a615dd774265d25b62f301967"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a23c8d94a615dd774265d25b62f301967">VnswInterfaceListenerBase::IsHostLinkStateUp</a></div><div class="ttdeci">bool IsHostLinkStateUp(const std::string &amp;name) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00190">vnswif_listener_base.h:190</a></div></div>
<div class="ttc" id="sandesh__trace_8h_html_acb763a6d9db22c3b4c524f1ca2131702"><div class="ttname"><a href="../../d0/db5/sandesh__trace_8h.html#acb763a6d9db22c3b4c524f1ca2131702">SandeshTraceBufferPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; TraceBuffer&lt; SandeshTrace &gt; &gt; SandeshTraceBufferPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db5/sandesh__trace_8h_source.html#l00018">sandesh_trace.h:18</a></div></div>
<div class="ttc" id="logging_8h_html"><div class="ttname"><a href="../../d5/d77/logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="vnswif__listener__base_8cc_html_ad7ba05b7e98a53d287024d32c0cb0f38"><div class="ttname"><a href="../../d6/da6/vnswif__listener__base_8cc.html#ad7ba05b7e98a53d287024d32c0cb0f38">INDEX_INTERFACE_DRV_NAME</a></div><div class="ttdeci">#define INDEX_INTERFACE_DRV_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00023">vnswif_listener_base.cc:23</a></div></div>
<div class="ttc" id="structVmInterfaceOsOperStateData_html"><div class="ttname"><a href="../../d3/d07/structVmInterfaceOsOperStateData.html">VmInterfaceOsOperStateData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/vm__interface_8h_source.html#l01892">vm_interface.h:1892</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a03594d88153b31051c9f86b135dc2991"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a03594d88153b31051c9f86b135dc2991">VnswInterfaceListenerBase::ipam_subnet_</a></div><div class="ttdeci">IpamSubnetMap ipam_subnet_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00251">vnswif_listener_base.h:251</a></div></div>
<div class="ttc" id="classDBTableBase_html_ac129112bd99b80830a6377aa9bf1c609"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#ac129112bd99b80830a6377aa9bf1c609">DBTableBase::Unregister</a></div><div class="ttdeci">void Unregister(ListenerId listener)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00186">db_table.cc:186</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_1_1VnDBState_html_a0e6069696c5127f6765520bc9ffa36f7"><div class="ttname"><a href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a0e6069696c5127f6765520bc9ffa36f7">VnswInterfaceListenerBase::VnDBState::Delete</a></div><div class="ttdeci">void Delete(VnswInterfaceListenerBase *base)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00221">vnswif_listener_base.cc:221</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a7d9b882779b2866ad37819691ca53b86"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a7d9b882779b2866ad37819691ca53b86">VnswInterfaceListenerBase::Event::ipam_</a></div><div class="ttdeci">bool ipam_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00087">vnswif_listener_base.h:87</a></div></div>
<div class="ttc" id="classTaskScheduler_html_a2b2c4c05c286d6c22fdfdaee461e1489"><div class="ttname"><a href="../../df/ddc/classTaskScheduler.html#a2b2c4c05c286d6c22fdfdaee461e1489">TaskScheduler::GetTaskId</a></div><div class="ttdeci">int GetTaskId(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbd/task_8cc_source.html#l00865">task.cc:865</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a530b8bbb0afdb7460669dd2b4c7166aa"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a530b8bbb0afdb7460669dd2b4c7166aa">VnswInterfaceListenerBase::LinkLocalRouteFromLinkLocalEvent</a></div><div class="ttdeci">void LinkLocalRouteFromLinkLocalEvent(Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00564">vnswif_listener_base.cc:564</a></div></div>
<div class="ttc" id="vnswif__listener__base_8h_html_a1d84fb36d435714250a3f09c1e29ec05"><div class="ttname"><a href="../../d0/d27/vnswif__listener__base_8h.html#a1d84fb36d435714250a3f09c1e29ec05">VNSWIF_TRACE_BUF</a></div><div class="ttdeci">#define VNSWIF_TRACE_BUF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00025">vnswif_listener_base.h:25</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_1_1VnDBState_html_a94c26f540641e488806fa904db6dde7e"><div class="ttname"><a href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a94c26f540641e488806fa904db6dde7e">VnswInterfaceListenerBase::VnDBState::Add</a></div><div class="ttdeci">void Add(VnswInterfaceListenerBase *base, const VnEntry *vn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00197">vnswif_listener_base.cc:197</a></div></div>
<div class="ttc" id="structPhysicalInterfaceOsOperStateData_html"><div class="ttname"><a href="../../d2/d50/structPhysicalInterfaceOsOperStateData.html">PhysicalInterfaceOsOperStateData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6f/physical__interface_8h_source.html#l00138">physical_interface.h:138</a></div></div>
<div class="ttc" id="classDBTableBase_html_a58ca11bafdf9674c431357ecaa893b96"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#a58ca11bafdf9674c431357ecaa893b96">DBTableBase::Register</a></div><div class="ttdeci">ListenerId Register(ChangeCallback callback, const std::string &amp;name=&quot;unspecified&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00181">db_table.cc:181</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_aa8bcfb328dcb0d82a3c7caf24abcf083"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#aa8bcfb328dcb0d82a3c7caf24abcf083">VnswInterfaceListenerBase::FabricRouteNotify</a></div><div class="ttdeci">void FabricRouteNotify(DBTablePartBase *part, DBEntryBase *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00134">vnswif_listener_base.cc:134</a></div></div>
<div class="ttc" id="classAgentRoute_html_a9d3d33d2182d36a082e317357095e0a6"><div class="ttname"><a href="../../d4/d57/classAgentRoute.html#a9d3d33d2182d36a082e317357095e0a6">AgentRoute::GetActivePath</a></div><div class="ttdeci">const AgentPath * GetActivePath() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/daa/agent__route_8cc_source.html#l00876">agent_route.cc:876</a></div></div>
<div class="ttc" id="classPhysicalInterface_html"><div class="ttname"><a href="../../d2/d81/classPhysicalInterface.html">PhysicalInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6f/physical__interface_8h_source.html#l00016">physical_interface.h:16</a></div></div>
<div class="ttc" id="agent__init_8h_html"><div class="ttname"><a href="../../d9/d24/agent__init_8h.html">agent_init.h</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_ae30932da1147e25e50cdf94ef30fccd6"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#ae30932da1147e25e50cdf94ef30fccd6">VnswInterfaceListenerBase::ProcessEvent</a></div><div class="ttdeci">bool ProcessEvent(Event *re)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00644">vnswif_listener_base.cc:644</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a5374d27ed55770f1faf2bf15effe5177">VnswInterfaceListenerBase::Event::DEL_LL_ROUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00048">vnswif_listener_base.h:48</a></div></div>
<div class="ttc" id="classAgent_html_a1471e814a192e7b14d81058d8b510985"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a1471e814a192e7b14d81058d8b510985">Agent::link_local_peer</a></div><div class="ttdeci">const Peer * link_local_peer() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l01024">agent.h:1024</a></div></div>
<div class="ttc" id="load__balance_8h_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="../../de/dcb/load__balance_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/load__balance_8h_source.html#l00109">load_balance.h:109</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html_aa7667bd53e4e6bf88577ebd7604b1034"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#aa7667bd53e4e6bf88577ebd7604b1034">VnswInterfaceListenerBase::HostInterfaceEntry::addr_</a></div><div class="ttdeci">Ip4Address addr_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00102">vnswif_listener_base.h:102</a></div></div>
<div class="ttc" id="classAgent_html"><div class="ttname"><a href="../../d8/dfe/classAgent.html">Agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00358">agent.h:358</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a9f2d1515939a438aa42fe8668387fe05"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a9f2d1515939a438aa42fe8668387fe05">VnswInterfaceListenerBase::read_buf_</a></div><div class="ttdeci">uint8_t * read_buf_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00235">vnswif_listener_base.h:235</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911aaf89847363440f9a3729786d6eb830f2"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911aaf89847363440f9a3729786d6eb830f2">VnswInterfaceListenerBase::Event::ADD_LL_ROUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00047">vnswif_listener_base.h:47</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a1be1bf55a3f62d73c44b86fc8d7cf035"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a1be1bf55a3f62d73c44b86fc8d7cf035">VnswInterfaceListenerBase::ll_del_count_</a></div><div class="ttdeci">uint32_t ll_del_count_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00250">vnswif_listener_base.h:250</a></div></div>
<div class="ttc" id="classTaskScheduler_html_a951ae2a1d1b7700618defdcc1ea53a70"><div class="ttname"><a href="../../df/ddc/classTaskScheduler.html#a951ae2a1d1b7700618defdcc1ea53a70">TaskScheduler::GetInstance</a></div><div class="ttdeci">static TaskScheduler * GetInstance()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbd/task_8cc_source.html#l00556">task.cc:556</a></div></div>
<div class="ttc" id="http__client_8h_html_a5667b805d857c6d28f83f6038a0272d3"><div class="ttname"><a href="../../d9/df2/http__client_8h.html#a5667b805d857c6d28f83f6038a0272d3">Event</a></div><div class="ttdeci">Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df2/http__client_8h_source.html#l00027">http_client.h:27</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a5f80a0c4597b4a3d6b7d5bc9c4a9ee64"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a5f80a0c4597b4a3d6b7d5bc9c4a9ee64">VnswInterfaceListenerBase::DelLinkLocalRoutes</a></div><div class="ttdeci">void DelLinkLocalRoutes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00611">vnswif_listener_base.cc:611</a></div></div>
<div class="ttc" id="classAgent_html_a366d07a43ff2302ae83f16732de7f1d6"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a366d07a43ff2302ae83f16732de7f1d6">Agent::fabric_interface_name</a></div><div class="ttdeci">const std::string &amp; fabric_interface_name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l01129">agent.h:1129</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911">VnswInterfaceListenerBase::Event::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00039">vnswif_listener_base.h:39</a></div></div>
<div class="ttc" id="structDBRequest_html_a94c88f5224b1f8cb6adad61400c970d4"><div class="ttname"><a href="../../d7/df9/structDBRequest.html#a94c88f5224b1f8cb6adad61400c970d4">DBRequest::key</a></div><div class="ttdeci">std::unique_ptr&lt; DBRequestKey &gt; key</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00048">db_table.h:48</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911a02116cac9a2ec92b205566d88570f835"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a02116cac9a2ec92b205566d88570f835">VnswInterfaceListenerBase::Event::DEL_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00042">vnswif_listener_base.h:42</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a36e47518189eba1537b95069801066d1"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a36e47518189eba1537b95069801066d1">VnswInterfaceListenerBase::SetAddress</a></div><div class="ttdeci">void SetAddress(const Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00486">vnswif_listener_base.cc:486</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911a6ad32533be260e5b39c171aabd651c90"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911a6ad32533be260e5b39c171aabd651c90">VnswInterfaceListenerBase::Event::ADD_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00041">vnswif_listener_base.h:41</a></div></div>
<div class="ttc" id="interface__ksync_8h_html"><div class="ttname"><a href="../../db/d1d/interface__ksync_8h.html">interface_ksync.h</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_ae4f953a9c3d4f30121013c6aefcf9c32"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#ae4f953a9c3d4f30121013c6aefcf9c32">VnswInterfaceListenerBase::vhost_update_count_</a></div><div class="ttdeci">uint32_t vhost_update_count_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00248">vnswif_listener_base.h:248</a></div></div>
<div class="ttc" id="vnswif__listener__base_8cc_html_afee5f94d15c6b6fa759c06ca778f56e8"><div class="ttname"><a href="../../d6/da6/vnswif__listener__base_8cc.html#afee5f94d15c6b6fa759c06ca778f56e8">INDEX_INTERFACE_NAME</a></div><div class="ttdeci">#define INDEX_INTERFACE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00022">vnswif_listener_base.cc:22</a></div></div>
<div class="ttc" id="structVnIpam_html_a87999d5bc05eae59265dcb868c96f292"><div class="ttname"><a href="../../d2/d02/structVnIpam.html#a87999d5bc05eae59265dcb868c96f292">VnIpam::plen</a></div><div class="ttdeci">uint32_t plen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/vn_8h_source.html#l00030">vn.h:30</a></div></div>
<div class="ttc" id="route__common_8h_html"><div class="ttname"><a href="../../d1/dde/route__common_8h.html">route_common.h</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a4bb58a09d2504683dc5580821e8285a1"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a4bb58a09d2504683dc5580821e8285a1">VnswInterfaceListenerBase::HandleInterfaceEvent</a></div><div class="ttdeci">void HandleInterfaceEvent(const Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00381">vnswif_listener_base.cc:381</a></div></div>
<div class="ttc" id="classAgentPath_html_a21f05734eb71e6f311ba36a1006ece0b"><div class="ttname"><a href="../../d4/d3d/classAgentPath.html#a21f05734eb71e6f311ba36a1006ece0b">AgentPath::peer</a></div><div class="ttdeci">const Peer * peer() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc5/agent__path_8h_source.html#l00263">agent_path.h:263</a></div></div>
<div class="ttc" id="structVnIpam_html_a95b4d80e130b8581a2e440580c56d18d"><div class="ttname"><a href="../../d2/d02/structVnIpam.html#a95b4d80e130b8581a2e440580c56d18d">VnIpam::ip_prefix</a></div><div class="ttdeci">IpAddress ip_prefix</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/vn_8h_source.html#l00029">vn.h:29</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a343ba21d1fe4e4e38f5a12bc1613b8ae"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a343ba21d1fe4e4e38f5a12bc1613b8ae">VnswInterfaceListenerBase::AddIpamRoutes</a></div><div class="ttdeci">void AddIpamRoutes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00614">vnswif_listener_base.cc:614</a></div></div>
<div class="ttc" id="classAgent_html_a564ac7d0eaef47abd9cc12535d9c296a"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a564ac7d0eaef47abd9cc12535d9c296a">Agent::set_vhost_prefix_len</a></div><div class="ttdeci">void set_vhost_prefix_len(uint32_t plen)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00654">agent.h:654</a></div></div>
<div class="ttc" id="util_8h_html"><div class="ttname"><a href="../../d8/d3c/util_8h.html">util.h</a></div></div>
<div class="ttc" id="classInterface_html_a6e2d52f7690044b6655d28a6b22f08b2"><div class="ttname"><a href="../../d0/dcc/classInterface.html#a6e2d52f7690044b6655d28a6b22f08b2">Interface::NeedDefaultOsOperStateDisabled</a></div><div class="ttdeci">bool NeedDefaultOsOperStateDisabled(Agent *agent) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7a/interface_8cc_source.html#l01509">interface.cc:1509</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a76f4692c8e7cfb95dbc6ca7e72f10ff3"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a76f4692c8e7cfb95dbc6ca7e72f10ff3">VnswInterfaceListenerBase::Shutdown</a></div><div class="ttdeci">void Shutdown()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00074">vnswif_listener_base.cc:74</a></div></div>
<div class="ttc" id="classVnEntry_html_a1037b99b37ff98fdbb43f757b0ed528b"><div class="ttname"><a href="../../d8/d00/classVnEntry.html#a1037b99b37ff98fdbb43f757b0ed528b">VnEntry::GetVnIpam</a></div><div class="ttdeci">const std::vector&lt; VnIpam &gt; &amp; GetVnIpam() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/vn_8h_source.html#l00171">vn.h:171</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html">VnswInterfaceListenerBase::Event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00038">vnswif_listener_base.h:38</a></div></div>
<div class="ttc" id="classInterface_html"><div class="ttname"><a href="../../d0/dcc/classInterface.html">Interface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00023">interface.h:23</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_ab1e350d6a9a3e2361d4032c865beacba"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#ab1e350d6a9a3e2361d4032c865beacba">VnswInterfaceListenerBase::IsInterfaceActive</a></div><div class="ttdeci">bool IsInterfaceActive(const HostInterfaceEntry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00252">vnswif_listener_base.cc:252</a></div></div>
<div class="ttc" id="classAgent_html_ae8ee3a20def9370096d09a536d2f9f9f"><div class="ttname"><a href="../../d8/dfe/classAgent.html#ae8ee3a20def9370096d09a536d2f9f9f">Agent::params</a></div><div class="ttdeci">AgentParam * params() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l01218">agent.h:1218</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_1_1VnDBState_html"><div class="ttname"><a href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html">VnswInterfaceListenerBase::VnDBState</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00110">vnswif_listener_base.h:110</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a29d08a93efc5a4542016c66dbd3565f1"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a29d08a93efc5a4542016c66dbd3565f1">VnswInterfaceListenerBase::SetSeen</a></div><div class="ttdeci">void SetSeen(const std::string &amp;name, bool oper, uint32_t oper_idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00323">vnswif_listener_base.cc:323</a></div></div>
<div class="ttc" id="classInetUnicastRouteEntry_html_a18873110423a6295b40d6a519e02ac94"><div class="ttname"><a href="../../d5/d9f/classInetUnicastRouteEntry.html#a18873110423a6295b40d6a519e02ac94">InetUnicastRouteEntry::GetTableType</a></div><div class="ttdeci">virtual Agent::RouteTableType GetTableType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/inet__unicast__route_8cc_source.html#l00353">inet_unicast_route.cc:353</a></div></div>
<div class="ttc" id="agent__param_8h_html"><div class="ttname"><a href="../../df/d84/agent__param_8h.html">agent_param.h</a></div></div>
<div class="ttc" id="classDBEntryBase_html_a62fa4794268381f4287f95adf8704de6"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#a62fa4794268381f4287f95adf8704de6">DBEntryBase::ClearState</a></div><div class="ttdeci">void ClearState(DBTableBase *tbl_base, ListenerId listener)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/db__entry_8cc_source.html#l00073">db_entry.cc:73</a></div></div>
<div class="ttc" id="classAgentRoutePrefix_html_a4ea7fa0bcf466f10ffe7529d8358fb02"><div class="ttname"><a href="../../d5/d9a/classAgentRoutePrefix.html#a4ea7fa0bcf466f10ffe7529d8358fb02">AgentRoutePrefix::prefix_address</a></div><div class="ttdeci">virtual const PrefixType &amp; prefix_address() const </div><div class="ttdoc">Returns the value of a stored prefix address (IPv4, IPv6 or MAC address) </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d30/agent__route_8h_source.html#l00375">agent_route.h:375</a></div></div>
<div class="ttc" id="address_8h_html_ae475599c70b47996f862faa1f265eaa2"><div class="ttname"><a href="../../d9/d9b/address_8h.html#ae475599c70b47996f862faa1f265eaa2">Ip4Address</a></div><div class="ttdeci">boost::asio::ip::address_v4 Ip4Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9b/address_8h_source.html#l00014">address.h:14</a></div></div>
<div class="ttc" id="classInterface_html_aaf29d47f607592f3345781aa7e12e107"><div class="ttname"><a href="../../d0/dcc/classInterface.html#aaf29d47f607592f3345781aa7e12e107">Interface::set_test_oper_state</a></div><div class="ttdeci">void set_test_oper_state(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00135">interface.h:135</a></div></div>
<div class="ttc" id="vnswif__listener__base_8cc_html_ade47530c423468578ae7b198c0c9a6f2"><div class="ttname"><a href="../../d6/da6/vnswif__listener__base_8cc.html#ade47530c423468578ae7b198c0c9a6f2">InterfaceResync</a></div><div class="ttdeci">static void InterfaceResync(Agent *agent, uint32_t id, bool active, bool link_status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00256">vnswif_listener_base.cc:256</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911ad728cd35be32f7ca40b60720bd57b34a"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911ad728cd35be32f7ca40b60720bd57b34a">VnswInterfaceListenerBase::Event::DEL_INTERFACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00044">vnswif_listener_base.h:44</a></div></div>
<div class="ttc" id="classVnEntry_html"><div class="ttname"><a href="../../d8/d00/classVnEntry.html">VnEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/vn_8h_source.html#l00151">vn.h:151</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a7035c150ef3ff09234ca9d2af7bf8dcf"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a7035c150ef3ff09234ca9d2af7bf8dcf">VnswInterfaceListenerBase::Init</a></div><div class="ttdeci">void Init()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00054">vnswif_listener_base.cc:54</a></div></div>
<div class="ttc" id="classVmInterface_html"><div class="ttname"><a href="../../d5/d21/classVmInterface.html">VmInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/vm__interface_8h_source.html#l00358">vm_interface.h:358</a></div></div>
<div class="ttc" id="classVmInterface_html_ada7ed7a5fb4d53d7260bdbe8f2630e14"><div class="ttname"><a href="../../d5/d21/classVmInterface.html#ada7ed7a5fb4d53d7260bdbe8f2630e14">VmInterface::primary_ip_addr</a></div><div class="ttdeci">const Ip4Address &amp; primary_ip_addr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/vm__interface_8h_source.html#l01264">vm_interface.h:1264</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_ab54a862697cf846d206e32900724823a"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#ab54a862697cf846d206e32900724823a">VnswInterfaceListenerBase::InterfaceNotify</a></div><div class="ttdeci">void InterfaceNotify(DBTablePartBase *part, DBEntryBase *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00091">vnswif_listener_base.cc:91</a></div></div>
<div class="ttc" id="classAgent_html_a6b6560e4a7b75f5665ae324a91109b28"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a6b6560e4a7b75f5665ae324a91109b28">Agent::router_id_configured</a></div><div class="ttdeci">bool router_id_configured()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9e/agent_8h_source.html#l00676">agent.h:676</a></div></div>
<div class="ttc" id="vnswif__listener__base_8cc_html_a16586d3705b0e8ebbd8544cffd46394e"><div class="ttname"><a href="../../d6/da6/vnswif__listener__base_8cc.html#a16586d3705b0e8ebbd8544cffd46394e">NL_MSG_PARAMS</a></div><div class="ttdeci">#define NL_MSG_PARAMS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00025">vnswif_listener_base.cc:25</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_a089d1ea001fd0a965092e917baa10911ad22d790eda0f0bfd0da2ffbd7be79e6a"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#a089d1ea001fd0a965092e917baa10911ad22d790eda0f0bfd0da2ffbd7be79e6a">VnswInterfaceListenerBase::Event::ADD_INTERFACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00043">vnswif_listener_base.h:43</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a025a21cf433013fcf388f64c6ecc3187"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a025a21cf433013fcf388f64c6ecc3187">VnswInterfaceListenerBase::ll_addr_table_</a></div><div class="ttdeci">LinkLocalAddressTable ll_addr_table_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00244">vnswif_listener_base.h:244</a></div></div>
<div class="ttc" id="vnswif__listener__base_8h_html"><div class="ttname"><a href="../../d0/d27/vnswif__listener__base_8h.html">vnswif_listener_base.h</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a94b744d4684e2a780582affa4e838bfd"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a94b744d4684e2a780582affa4e838bfd">VnswInterfaceListenerBase::AddLinkLocalRoutes</a></div><div class="ttdeci">void AddLinkLocalRoutes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00604">vnswif_listener_base.cc:604</a></div></div>
<div class="ttc" id="classAgentParam_html_a2ff0102b0f40759bf1748be6e5bd3c7c"><div class="ttname"><a href="../../dc/dd4/classAgentParam.html#a2ff0102b0f40759bf1748be6e5bd3c7c">AgentParam::set_xen_ll_name</a></div><div class="ttdeci">const void set_xen_ll_name(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/agent__param_8h_source.html#l00196">agent_param.h:196</a></div></div>
<div class="ttc" id="vnswif__listener__base_8h_html_a4e6f750e38c46268d1224e16fcf39d5e"><div class="ttname"><a href="../../d0/d27/vnswif__listener__base_8h.html#a4e6f750e38c46268d1224e16fcf39d5e">VNSWIF_TRACE</a></div><div class="ttdeci">#define VNSWIF_TRACE(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00029">vnswif_listener_base.h:29</a></div></div>
<div class="ttc" id="vnswif__listener__base_8h_html_afa810ee8522d88195775172bfa9c5432"><div class="ttname"><a href="../../d0/d27/vnswif__listener__base_8h.html#afa810ee8522d88195775172bfa9c5432">VnswIfTraceBuf</a></div><div class="ttdeci">SandeshTraceBufferPtr VnswIfTraceBuf</div></div>
<div class="ttc" id="classInterface_html_ad8c0109a68fd2e8045a1143752dea79b"><div class="ttname"><a href="../../d0/dcc/classInterface.html#ad8c0109a68fd2e8045a1143752dea79b">Interface::kInvalidIndex</a></div><div class="ttdeci">static const uint32_t kInvalidIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00070">interface.h:70</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a014d4859e669a20d42c8d25ff078751a"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a014d4859e669a20d42c8d25ff078751a">VnswInterfaceListenerBase::GetHostInterfaceEntry</a></div><div class="ttdeci">HostInterfaceEntry * GetHostInterfaceEntry(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00292">vnswif_listener_base.cc:292</a></div></div>
<div class="ttc" id="structVmInterfaceKey_html"><div class="ttname"><a href="../../d5/d93/structVmInterfaceKey.html">VmInterfaceKey</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/vm__interface_8h_source.html#l01821">vm_interface.h:1821</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a27797c3f6301336adb1fd522090499d9a1780ae9d541142f1e74066fd803b4e79"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a27797c3f6301336adb1fd522090499d9a1780ae9d541142f1e74066fd803b4e79">VnswInterfaceListenerBase::VR_BOND_SLAVES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00092">vnswif_listener_base.h:92</a></div></div>
<div class="ttc" id="classAgent_html_a490853a92710597ed88110ec710f5508"><div class="ttname"><a href="../../d8/dfe/classAgent.html#a490853a92710597ed88110ec710f5508">Agent::isXenMode</a></div><div class="ttdeci">bool isXenMode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/agent_8cc_source.html#l00141">agent.cc:141</a></div></div>
<div class="ttc" id="classInterfaceTable_html_a3460257f9b0fa13a0f7104f38d835aa3"><div class="ttname"><a href="../../d2/d73/classInterfaceTable.html#a3460257f9b0fa13a0f7104f38d835aa3">InterfaceTable::FindInterface</a></div><div class="ttdeci">const Interface * FindInterface(size_t index) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7a/interface_8cc_source.html#l00323">interface.cc:323</a></div></div>
<div class="ttc" id="agent_8h_html_a38975523c623b7045c9b073e696f6e98"><div class="ttname"><a href="../../de/d9e/agent_8h.html#a38975523c623b7045c9b073e696f6e98">RouterIdDepInit</a></div><div class="ttdeci">void RouterIdDepInit(Agent *agent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df2/controller_2src_2vnsw_2agent_2contrail_2main_8cc_source.html#l00045">controller/src/vnsw/agent/contrail/main.cc:45</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_1_1VnDBState_html_a62bafa02c8d70beeb117d92a4428ceb3"><div class="ttname"><a href="../../d5/de2/classVnswInterfaceListenerBase_1_1VnDBState.html#a62bafa02c8d70beeb117d92a4428ceb3">VnswInterfaceListenerBase::VnDBState::Enqueue</a></div><div class="ttdeci">void Enqueue(VnswInterfaceListenerBase *base, const VnIpam &amp;entry, const Event::Type event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00168">vnswif_listener_base.cc:168</a></div></div>
<div class="ttc" id="structDBRequest_html_a8dfecbdd1f2e52e634022012511c0b2caf1607c1d188471817f7a1ba4e3528f45"><div class="ttname"><a href="../../d7/df9/structDBRequest.html#a8dfecbdd1f2e52e634022012511c0b2caf1607c1d188471817f7a1ba4e3528f45">DBRequest::DB_ENTRY_ADD_CHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00038">db_table.h:38</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1Event_html_ab00900776b91b64cce27118cba904a46"><div class="ttname"><a href="../../d2/db6/structVnswInterfaceListenerBase_1_1Event.html#ab00900776b91b64cce27118cba904a46">VnswInterfaceListenerBase::Event::event_</a></div><div class="ttdeci">Type event_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00080">vnswif_listener_base.h:80</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a5ebba288b459b005a16972546a8fa144"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a5ebba288b459b005a16972546a8fa144">VnswInterfaceListenerBase::UpdateLinkLocalRouteAndCount</a></div><div class="ttdeci">virtual void UpdateLinkLocalRouteAndCount(const Ip4Address &amp;addr, uint8_t plen, bool del_rt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00554">vnswif_listener_base.cc:554</a></div></div>
<div class="ttc" id="classInterface_html_ac19c400d9ed5e7319db267d9bd0258de"><div class="ttname"><a href="../../d0/dcc/classInterface.html#ac19c400d9ed5e7319db267d9bd0258de">Interface::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da9/interface_8h_source.html#l00114">interface.h:114</a></div></div>
<div class="ttc" id="classDBTableBase_html"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html">DBTableBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00059">db_table.h:59</a></div></div>
<div class="ttc" id="classAgentInit_html_a889ac910d0bc178d66bcb4675083a434"><div class="ttname"><a href="../../d8/d16/classAgentInit.html#a889ac910d0bc178d66bcb4675083a434">AgentInit::ConnectToControllerBase</a></div><div class="ttdeci">virtual void ConnectToControllerBase()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9c/agent__init_8cc_source.html#l00324">agent_init.cc:324</a></div></div>
<div class="ttc" id="agent__cmn_8h_html"><div class="ttname"><a href="../../de/d18/agent__cmn_8h.html">agent_cmn.h</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a9bcd2a1c64346986be1fb97180ae6629"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a9bcd2a1c64346986be1fb97180ae6629">VnswInterfaceListenerBase::IsValidLinkLocalAddress</a></div><div class="ttdeci">bool IsValidLinkLocalAddress(const Ip4Address &amp;addr) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00478">vnswif_listener_base.cc:478</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html_af9f008856a9ca2146ae0bbe7c98d3b63"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af9f008856a9ca2146ae0bbe7c98d3b63">VnswInterfaceListenerBase::HostInterfaceEntry::plen_</a></div><div class="ttdeci">uint8_t plen_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00103">vnswif_listener_base.h:103</a></div></div>
<div class="ttc" id="physical__interface_8h_html"><div class="ttname"><a href="../../d1/d6f/physical__interface_8h.html">physical_interface.h</a></div></div>
<div class="ttc" id="mirror__table_8h_html"><div class="ttname"><a href="../../de/db1/mirror__table_8h.html">mirror_table.h</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a0397661d99dc81f98c1847f4fbc40bcb"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a0397661d99dc81f98c1847f4fbc40bcb">VnswInterfaceListenerBase::agent</a></div><div class="ttdeci">Agent * agent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00163">vnswif_listener_base.h:163</a></div></div>
<div class="ttc" id="classVnEntry_html_aeb0a4bd40544fb911a4c61f0a6809c02"><div class="ttname"><a href="../../d8/d00/classVnEntry.html#aeb0a4bd40544fb911a4c61f0a6809c02">VnEntry::underlay_forwarding</a></div><div class="ttdeci">bool underlay_forwarding() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/vn_8h_source.html#l00226">vn.h:226</a></div></div>
<div class="ttc" id="classPhysicalInterface_html_a964346b365b842daa69221a0fa4193f9"><div class="ttname"><a href="../../d2/d81/classPhysicalInterface.html#a964346b365b842daa69221a0fa4193f9">PhysicalInterface::display_name</a></div><div class="ttdeci">const std::string &amp; display_name() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6f/physical__interface_8h_source.html#l00054">physical_interface.h:54</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html_af1dcc170af1beb90a037c45cf6ad8a1b"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#af1dcc170af1beb90a037c45cf6ad8a1b">VnswInterfaceListenerBase::HostInterfaceEntry::oper_seen_</a></div><div class="ttdeci">bool oper_seen_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00105">vnswif_listener_base.h:105</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a3965b2d84888178658bde80824ec558a"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a3965b2d84888178658bde80824ec558a">VnswInterfaceListenerBase::Activate</a></div><div class="ttdeci">void Activate(const std::string &amp;name, const HostInterfaceEntry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00300">vnswif_listener_base.cc:300</a></div></div>
<div class="ttc" id="classInetUnicastAgentRouteTable_html_a073b3c877351e5162e08f14e102a04c6"><div class="ttname"><a href="../../da/dcd/classInetUnicastAgentRouteTable.html#a073b3c877351e5162e08f14e102a04c6">InetUnicastAgentRouteTable::FindResolveRoute</a></div><div class="ttdeci">InetUnicastRouteEntry * FindResolveRoute(const Ip4Address &amp;ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/inet__unicast__route_8cc_source.html#l00090">inet_unicast_route.cc:90</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html_ad0ba036cdb651db159f818b473622471"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#ad0ba036cdb651db159f818b473622471">VnswInterfaceListenerBase::HostInterfaceEntry::oper_id_</a></div><div class="ttdeci">uint32_t oper_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00107">vnswif_listener_base.h:107</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a3cc499c116868e5f94d531ab6e07d402"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a3cc499c116868e5f94d531ab6e07d402">VnswInterfaceListenerBase::DelIpam</a></div><div class="ttdeci">bool DelIpam(const Ip4Address &amp;ip, uint8_t plen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00148">vnswif_listener_base.h:148</a></div></div>
<div class="ttc" id="classDBEntryBase_html"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html">DBEntryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d61/db__entry_8h_source.html#l00022">db_entry.h:22</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a2f28551c345db5cc3b838b3cd4d8d567"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a2f28551c345db5cc3b838b3cd4d8d567">VnswInterfaceListenerBase::VnNotify</a></div><div class="ttdeci">void VnNotify(DBTablePartBase *part, DBEntryBase *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da6/vnswif__listener__base_8cc_source.html#l00228">vnswif_listener_base.cc:228</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a4adae91b30a9451090048170b07d36c1"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a4adae91b30a9451090048170b07d36c1">VnswInterfaceListenerBase::intf_listener_id_</a></div><div class="ttdeci">DBTableBase::ListenerId intf_listener_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00238">vnswif_listener_base.h:238</a></div></div>
<div class="ttc" id="structDBState_html"><div class="ttname"><a href="../../d3/def/structDBState.html">DBState</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d61/db__entry_8h_source.html#l00017">db_entry.h:17</a></div></div>
<div class="ttc" id="structVnswInterfaceListenerBase_1_1HostInterfaceEntry_html_a38638530760080e14f17c8f9336d6af7"><div class="ttname"><a href="../../d8/d67/structVnswInterfaceListenerBase_1_1HostInterfaceEntry.html#a38638530760080e14f17c8f9336d6af7">VnswInterfaceListenerBase::HostInterfaceEntry::host_seen_</a></div><div class="ttdeci">bool host_seen_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00106">vnswif_listener_base.h:106</a></div></div>
<div class="ttc" id="classVnswInterfaceListenerBase_html_a27797c3f6301336adb1fd522090499d9ad95a85057a03423dd8e3d9b654a126f7"><div class="ttname"><a href="../../d3/d81/classVnswInterfaceListenerBase.html#a27797c3f6301336adb1fd522090499d9ad95a85057a03423dd8e3d9b654a126f7">VnswInterfaceListenerBase::VR_FABRIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/vnswif__listener__base_8h_source.html#l00091">vnswif_listener_base.h:91</a></div></div>
<div class="ttc" id="sandesh__trace_8h_html_ad09ddbb00929792cd2d9164441f09492"><div class="ttname"><a href="../../d0/db5/sandesh__trace_8h.html#ad09ddbb00929792cd2d9164441f09492">SandeshTraceBufferCreate</a></div><div class="ttdeci">SandeshTraceBufferPtr SandeshTraceBufferCreate(const std::string &amp;buf_name, size_t buf_size, bool trace_enable=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db5/sandesh__trace_8h_source.html#l00046">sandesh_trace.h:46</a></div></div>
<div class="ttc" id="cfg__init_8h_html"><div class="ttname"><a href="../../d4/d5d/cfg__init_8h.html">cfg_init.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0a7d39584c34dc4772b798c7b583750f.html">contrail</a></li><li class="navelem"><a class="el" href="../../dir_2a1a0f5bd3fae8c3e47f1701b5222318.html">controller</a></li><li class="navelem"><a class="el" href="../../dir_c5f44869b24dae5488ef95224fa0de41.html">src</a></li><li class="navelem"><a class="el" href="../../dir_e4311bf3a78fbdfcf1e54aa904787447.html">vnsw</a></li><li class="navelem"><a class="el" href="../../dir_1aebb61e8a90561fae5595a02a089af4.html">agent</a></li><li class="navelem"><a class="el" href="../../dir_ca77604c68e0f65a273cb7d8a0d7f6d0.html">vrouter</a></li><li class="navelem"><a class="el" href="../../dir_8e0269e73301386d5b0cd5624ef8d200.html">ksync</a></li><li class="navelem"><a class="el" href="../../d6/da6/vnswif__listener__base_8cc.html">vnswif_listener_base.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
