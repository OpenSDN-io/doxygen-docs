<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>OpenSDN source code: state_machine.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenSDN source code
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d4/d7f/state__machine_8h_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">state_machine.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d7f/state__machine_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2013 Juniper Networks, Inc. All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef SRC_BGP_STATE_MACHINE_H_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SRC_BGP_STATE_MACHINE_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;boost/statechart/state_machine.hpp&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d47/queue__task_8h.html">base/queue_task.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dd0/timer_8h.html">base/timer.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/de9/bgp__proto_8h.html">bgp/bgp_proto.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d15/tcp__session_8h.html">io/tcp_session.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;sandesh/sandesh.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span>sc = boost::statechart;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">class </span><a class="code" href="../../d3/d2d/classBgpPeer.html">BgpPeer</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">class </span><a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">class </span>BgpPeerInfo;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">class </span>BgpPeerInfoData;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">class </span><a class="code" href="../../d3/db7/classBgpMessage.html">BgpMessage</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span><a class="code" href="../../d0/dc5/classStateMachine.html">StateMachine</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">namespace </span>fsm {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">struct </span>Idle;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">struct </span>EvBgpNotification;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../d4/d7f/state__machine_8h.html#a6a1fb240df317b2d2a33ec9eba8cdb41">   33</a></span>&#160;<span class="keyword">typedef</span> boost::function&lt;bool(StateMachine *)&gt; <a class="code" href="../../d4/d7f/state__machine_8h.html#a6a1fb240df317b2d2a33ec9eba8cdb41">EvValidate</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// This class implements the state machine for a BgpPeer. Note that a single</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// state machine is used for a BgpPeer, instead of using one per TCP session.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// As a consequence, the state machine keeps track of the active and passive</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// sessions to/from the peer.  Connection collision is resolved using remote</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// and local router ids as specified in the RFC.  When the state machine has</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// determined which session (active or passive) will be used in the steady</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// state, ownership of that session is transferred to the peer and the other</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// session, if any, is closed.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Events for the state machine can be posted from a few different contexts.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// Administrative events are posted from the bgp::Config task, TCP related</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// events from the ASIO thread, Timer events from bgp::StateMachine task and</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// BGP Message related events are posted from the io::Reader task.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Timers run in the context of the bgp::StateMachine task instead of running</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// directly from the ASIO thread.  This avoids race conditions wherein timers</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// expire at the same time that the state machine task is attempting to cancel</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// them.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// TCP session related events are posted directly from the ASIO thread.  Race</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// conditions wherein the bgp::StateMachine task tries to delete a session at</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// the same time that the ASIO thread is attempting to notify an event for the</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// session are avoided by have the state machine post a pseudo event to delete</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// the session. See comments for the DeleteSession method for more information.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// All events on the state machine are processed asynchronously by enqueueing</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">// them to a WorkQueue. The WorkQueue is serviced by a bgp::StateMachine task.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">// The BgpPeer index is used as the instance id for the task. This allows the</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// state machines for multiple BgpPeers to run concurrently.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// Since events are processed asynchronously, it is possible that an event is</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// no longer relevant by the time we get around to processing it. For example,</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// we may see a TCP session close event after we&#39;ve already decided to delete</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// the session. The optional validate method in the event is used to determine</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// if an event is still valid/relevant before feeding it to the state machine.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// Note that the validate routine needs to be run right before we process the</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// event i.e. it&#39;s not correct to call it when posting the event.  Hence the</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// need for the EventContainer structure.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html">   75</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d0/dc5/classStateMachine.html">StateMachine</a> : <span class="keyword">public</span> sc::state_machine&lt;StateMachine, fsm::Idle&gt; {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a9a2bf42b4dfcf91bff6104684e597e35">   77</a></span>&#160;    <span class="keyword">typedef</span> boost::function&lt;void(void)&gt; <a class="code" href="../../d0/dc5/classStateMachine.html#a9a2bf42b4dfcf91bff6104684e597e35">EventCB</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#ad337d065c6ed6352975aa0e51d2ed0bd">   79</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ad337d065c6ed6352975aa0e51d2ed0bd">kOpenTime</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a535c61178517e23d304dd73132126af3">   80</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a535c61178517e23d304dd73132126af3">kConnectInterval</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a73d43e1c7c97f7d1fea24732348ddafc">   81</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a73d43e1c7c97f7d1fea24732348ddafc">kHoldTime</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a1baf2f35a34e9799dbf0231de5507b25">   82</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a1baf2f35a34e9799dbf0231de5507b25">kOpenSentHoldTime</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a6ba4deff4c18b38109a2802ccc010f7f">   83</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a6ba4deff4c18b38109a2802ccc010f7f">kIdleHoldTime</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#af98ee3b6723ebd77f1b80f28ccd02601">   84</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#af98ee3b6723ebd77f1b80f28ccd02601">kMaxIdleHoldTime</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#adc8a040e3046ba3d8160a7805c1fe83d">   85</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#adc8a040e3046ba3d8160a7805c1fe83d">kJitter</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">   87</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">State</a> {</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a719252e4af3f2d4d400138ed8a563978">   88</a></span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a719252e4af3f2d4d400138ed8a563978">IDLE</a>        = 0,</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70afd58a6922d5df51d503c5054fd5932a8">   89</a></span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70afd58a6922d5df51d503c5054fd5932a8">ACTIVE</a>      = 1,</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a6d25359cf8f21e56a16cf7149cde983e">   90</a></span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a6d25359cf8f21e56a16cf7149cde983e">CONNECT</a>     = 2,</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70ad25810a3df821e25fbc2f817682c3544">   91</a></span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70ad25810a3df821e25fbc2f817682c3544">OPENSENT</a>    = 3,</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70ae0c2aaeb5dc9884a9c271cbb49a963d7">   92</a></span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70ae0c2aaeb5dc9884a9c271cbb49a963d7">OPENCONFIRM</a> = 4,</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a18fd9a8aca1252c7c0be04f0aa464c14">   93</a></span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a18fd9a8aca1252c7c0be04f0aa464c14">ESTABLISHED</a> = 5</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    };</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a625c5eb083f9817d00cbfb5e889a92f4">StateMachine</a>(<a class="code" href="../../d3/d2d/classBgpPeer.html">BgpPeer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a7de3883f6247199098f5e4d49c36b4ca">peer</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a93d66cb2a89b186789d655a08b02674e">~StateMachine</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#afbbf1c765342ba3ee08fb9f50f90567a">Initialize</a>();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aa8498634875e4d828640a34b05b326e6">Shutdown</a>(<span class="keywordtype">int</span> subcode);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a754ef64d025185680a9c6b4be6d1a681">SetAdminState</a>(<span class="keywordtype">bool</span> down, <span class="keywordtype">int</span> subcode);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a9e7067b9fec56b088afe651411a2e9f5">IsQueueEmpty</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Ev, <span class="keywordtype">int</span> code&gt; <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ac9663092e6beac00c66b5a93c4ee01e4">OnIdle</a>(<span class="keyword">const</span> Ev &amp;event);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Ev&gt; <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a68765b732e06f7ab053861c38026e64a">OnIdleCease</a>(<span class="keyword">const</span> Ev &amp;event);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Ev, <span class="keywordtype">int</span> code&gt; <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a14f307892252eb73ebcbc22e8ab230d1">OnIdleError</a>(<span class="keyword">const</span> Ev &amp;event);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ad3c747eb59b70e9fbe7f6e1a69bc80be">OnIdleNotification</a>(<span class="keyword">const</span> <a class="code" href="../../d8/db5/structfsm_1_1EvBgpNotification.html">fsm::EvBgpNotification</a> &amp;event);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a4ce831f521eb339df39f4ad3314aeea5">GetConnectTime</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ae4870acb8623b562105a5351f58e0c51">StartConnectTimer</a>(<span class="keywordtype">int</span> seconds);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a630b32399e505f1565c9b4bbaeea532b">CancelConnectTimer</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a9951b3cb419b3b276abf1692a5666381">ConnectTimerRunning</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a9ba06dea43607a958fe9fbbdf93fb867">StartOpenTimer</a>(<span class="keywordtype">int</span> seconds);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#abf3a862d77b8f63b853f10ee4bf2dfab">CancelOpenTimer</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a227404ef1df9a44255791d30c53404c4">OpenTimerRunning</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a9c83195d5cb2301512243cb12befb405">GetConfiguredHoldTime</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ae7242d599eebce5cce81d61a6a7d5f40">StartHoldTimer</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a21556cade78f06be3e0b100c4cc43dd4">CancelHoldTimer</a>();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a59baec09c7efe36d018c0751a3c7e7df">HoldTimerRunning</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#abcb86362a42e2b8ea4879c350c42ec19">StartIdleHoldTimer</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a00e14b39637fe394840868a6aaef2c24">CancelIdleHoldTimer</a>();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aacfc4fa6233f900bc6f3bfd32c8fa64c">IdleHoldTimerRunning</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#abf4ad759528e98e18a2d74b96de8becf">StartSession</a>();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a3cafbde5ef6d23ba1d8dc13805e9a6a0">DeleteSession</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a873d728ba864a377a32811e0384a411f">AssignSession</a>(<span class="keywordtype">bool</span> active);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a62f52c6da63e7c761e1f9abbca57531e">OnSessionEvent</a>(<a class="code" href="../../d2/d0e/classTcpSession.html">TcpSession</a> *session, <a class="code" href="../../d2/d0e/classTcpSession.html#a00ea3012f13ed9be96a66e9e0ea5d33b">TcpSession::Event</a> event);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ac6c1d596f9f6ff7977a96c161f440177">PassiveOpen</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a283db132d13730cc81568c197dbcb56d">OnMessage</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session, <a class="code" href="../../d3/d88/structBgpProto_1_1BgpMessage.html">BgpProto::BgpMessage</a> *msg,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordtype">size_t</span> msgsize = 0);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a4dd6c43e96e565dba8f53dfe7d072a1c">OnMessageError</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session, <span class="keyword">const</span> <a class="code" href="../../d9/dc2/structParseErrorContext.html">ParseErrorContext</a> *context);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a53e61919b0aeb62bf969014cdc69fdb2">SendNotification</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session, <span class="keywordtype">int</span> code, <span class="keywordtype">int</span> subcode = 0,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                          <span class="keyword">const</span> std::string &amp;data = std::string());</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a3d347524dced89bf6db6e1d224e6cdf6">ProcessNotificationEvent</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a61644ffeeb86cbc24374d959e8b16607">SetDataCollectionKey</a>(BgpPeerInfo *peer_info) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">const</span> std::string &amp;<a class="code" href="../../d0/dc5/classStateMachine.html#a4927f09dfd81bbbc1cccff1487e6d6f5">StateName</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">const</span> std::string &amp;<a class="code" href="../../d0/dc5/classStateMachine.html#a3336894245e1fea375f2c79074ed07c4">LastStateName</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a7de3883f6247199098f5e4d49c36b4ca">  146</a></span>&#160;    <a class="code" href="../../d3/d2d/classBgpPeer.html">BgpPeer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a7de3883f6247199098f5e4d49c36b4ca">peer</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ac87506db7ada48b5cdf7338a755b16fa">peer_</a>; }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a05d6458c0abde86f4b1a54ebf3f94843">active_session</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ac0e480534c6a6d0cd8c7e1dbe0707cde">set_active_session</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a6b60130b1e4eb5b61e52e2e493c0308e">passive_session</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a8fcf5d27f202e2a9aa010df5100096e5">set_passive_session</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#aef2b58d0f0aeb8e7d7e685d5a323dccb">  152</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aef2b58d0f0aeb8e7d7e685d5a323dccb">connect_attempts</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a2aab88d6c45c4404a82f383828f3b61e">attempts_</a>; }</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a08e351f6c309b8e519ba684ceb213043">  153</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a08e351f6c309b8e519ba684ceb213043">connect_attempts_inc</a>() { <a class="code" href="../../d0/dc5/classStateMachine.html#a2aab88d6c45c4404a82f383828f3b61e">attempts_</a>++; }</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a1209834fd756165cc15aeb1ef96cd92c">  154</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a1209834fd756165cc15aeb1ef96cd92c">connect_attempts_clear</a>() { <a class="code" href="../../d0/dc5/classStateMachine.html#a2aab88d6c45c4404a82f383828f3b61e">attempts_</a> = 0; }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a0eb1f90ee3acad9fc0d13730e00e234a">  156</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a0eb1f90ee3acad9fc0d13730e00e234a">hold_time</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a284f6dc3253cef235752e716a782e4d7">hold_time_</a>; }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a47c6b8d5568964bc6961ebbf8d620722">reset_hold_time</a>();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a7ad93ecdaabac59f1451e96eade57712">set_hold_time</a>(<span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a0eb1f90ee3acad9fc0d13730e00e234a">hold_time</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a46586173dd309720e5b667844c93f033">  159</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a46586173dd309720e5b667844c93f033">keepalive_time_msecs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a284f6dc3253cef235752e716a782e4d7">hold_time_</a> * 1000 / 3; }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a913ffa705008a4d00b1e60008f24972d">  161</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a913ffa705008a4d00b1e60008f24972d">idle_hold_time</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a4e3d6141f71b9973f3aa75ee922606b1">idle_hold_time_</a>; }</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#ad5e9cd3889aaf1e73dcec80f4cb10ff7">  162</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ad5e9cd3889aaf1e73dcec80f4cb10ff7">reset_idle_hold_time</a>() { <a class="code" href="../../d0/dc5/classStateMachine.html#a4e3d6141f71b9973f3aa75ee922606b1">idle_hold_time_</a> = 0; }</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a803975d65470cadfbaec1f0e9750441e">  163</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a803975d65470cadfbaec1f0e9750441e">set_idle_hold_time</a>(<span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a913ffa705008a4d00b1e60008f24972d">idle_hold_time</a>) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="../../d0/dc5/classStateMachine.html#a4e3d6141f71b9973f3aa75ee922606b1">idle_hold_time_</a> = <a class="code" href="../../d0/dc5/classStateMachine.html#a913ffa705008a4d00b1e60008f24972d">idle_hold_time</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a342b7d0162e6224ae97e37491fa3a800">set_state</a>(<a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">State</a> state);</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a51cbe0bae3ddb185dd653883ad77c31b">  168</a></span>&#160;    <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">State</a> <a class="code" href="../../d0/dc5/classStateMachine.html#a51cbe0bae3ddb185dd653883ad77c31b">get_state</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a9fbc8d225a7ba6c272ac278782445694">state_</a>; }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="../../d0/dc5/classStateMachine.html#a9465c046cb6840a666305c61c6609651">last_state_change_at</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">const</span> uint64_t <a class="code" href="../../d0/dc5/classStateMachine.html#a43f69c93ff4a6adea02dfba6e007ef10">last_state_change_usecs_at</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a9626419fe133111a9b55381c0084e5ed">set_last_event</a>(<span class="keyword">const</span> std::string &amp;event);</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a10646f8418f006f5b32078966b7af2bb">  172</a></span>&#160;    <span class="keyword">const</span> std::string &amp;<a class="code" href="../../d0/dc5/classStateMachine.html#a10646f8418f006f5b32078966b7af2bb">last_event</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a1e0cc51917273e2a536ea184a789ae06">last_event_</a>; }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ae7b329bf00554361a21ffc7049062f4b">set_last_notification_in</a>(<span class="keywordtype">int</span> code, <span class="keywordtype">int</span> subcode,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keyword">const</span> std::string &amp;reason);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a2c76faa2a7eb10949457dd5b2b54dc47">set_last_notification_out</a>(<span class="keywordtype">int</span> code, <span class="keywordtype">int</span> subcode,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keyword">const</span> std::string &amp;reason);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="../../d0/dc5/classStateMachine.html#a0de2b543041f82b75d9342cd8cc05849">last_notification_out_error</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="../../d0/dc5/classStateMachine.html#acce38012868bc0073a88bb53befe7b53">last_notification_in_error</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a1181419c0c2f253de7e01dbae0b00d20">reset_last_info</a>();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aad14cf4d573e5addd350fe6bef5f0fd3">LogEvent</a>(std::string event_name, std::string msg,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                  <a class="code" href="../../de/dcb/load__balance_8h.html#a1d127017fb298b889f4ba24752d08b8e">SandeshLevel::type</a> log_level = SandeshLevel::SYS_DEBUG);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a0daeb5a4bff4b16f45dcf9d40007e85a">HoldTimerExpired</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a82b95dc927f3db9dc5695e1883ae6e6f">IsCloseGraceful</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#af3dc256403970060faf29dd67cf080e5">IsRouterTypeBGPaaS</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a1359a4f17fdee1a38f74ea8dec687def">IsPeerCloseInProgress</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a332eb46e71d4eae01b2aa31d37a5cd57">OnNotificationMessage</a>(<a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *session,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                       <a class="code" href="../../d3/d88/structBgpProto_1_1BgpMessage.html">BgpProto::BgpMessage</a> *msg);</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#aa4c85692d4c55436ee254c4b2f4e1196">  191</a></span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aa4c85692d4c55436ee254c4b2f4e1196">GetIdleHoldTimeMSecs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a6ba4deff4c18b38109a2802ccc010f7f">kIdleHoldTime</a>; }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a46076bff55a3d17f24cf267135874f62">  194</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d0/dc5/classStateMachine.html#a46076bff55a3d17f24cf267135874f62">StateMachineTest</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a956440e30c83a3ff317a8a5a9b8f2632">  195</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d0/dc5/classStateMachine.html#a956440e30c83a3ff317a8a5a9b8f2632">StateMachineUnitTest</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../d5/ded/structStateMachine_1_1EventContainer.html">  197</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d5/ded/structStateMachine_1_1EventContainer.html">EventContainer</a> {</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../d5/ded/structStateMachine_1_1EventContainer.html#a4c685374e3cb9c87a80754d1ae5794dd">  198</a></span>&#160;        boost::intrusive_ptr&lt;const sc::event_base&gt; <a class="code" href="../../d5/ded/structStateMachine_1_1EventContainer.html#a4c685374e3cb9c87a80754d1ae5794dd">event</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="../../d5/ded/structStateMachine_1_1EventContainer.html#a23576b4b9684c6fac3a84dcf35a0dcc7">  199</a></span>&#160;        <a class="code" href="../../d4/d7f/state__machine_8h.html#a6a1fb240df317b2d2a33ec9eba8cdb41">EvValidate</a> <a class="code" href="../../d5/ded/structStateMachine_1_1EventContainer.html#a23576b4b9684c6fac3a84dcf35a0dcc7">validate</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    };</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a54327b4a8302cfa5c43b3caa52fabbed">ConnectTimerExpired</a>();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aa4063f62d436d02b65e5b4160b42edab">FireConnectTimer</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#abc174479232ed0ac835abffeeeec2b22">OpenTimerExpired</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a86c55833c0899f4e42613684aff819bc">FireOpenTimer</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a5afcb9e31c48390692afe428028e5560">FireHoldTimer</a>();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a1523f42fa9f4e8e9c87d3fbaf7528bbf">IdleHoldTimerExpired</a>();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a7639bf794e6bd084ec5e7fa94387776a">FireIdleHoldTimer</a>();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#ad6027cf6fdec914310d937524baa8ce1">  210</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#ad6027cf6fdec914310d937524baa8ce1">TimerErrorHanlder</a>(std::string name, std::string error) { }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a08f51ed257432bc82b6af17ac78fd757">DeleteAllTimers</a>();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aba35014e26e3050e71bbf9d4f347c889">BGPPeerInfoSend</a>(<span class="keyword">const</span> BgpPeerInfoData &amp;peer_info);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Ev&gt; <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a8e265805a07cd564869ba5498cec8681">Enqueue</a>(<span class="keyword">const</span> Ev &amp;event);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a31c3b46e3b236a1b0e8ecf001cc40bc9">DequeueEvent</a>(EventContainer ec);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#aaf629941f9d85033e1c9ff736ac19974">DequeueEventDone</a>(<span class="keywordtype">bool</span> done);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#af78883b9bff1128095ce0f1d9a338049">UpdateFlapCount</a>();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a93b4e65d6e48dd779246406cc45564ff">PeerClose</a>(<span class="keywordtype">int</span> code, <span class="keywordtype">int</span> subcode);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a63eaf243655af68a65d1186e46747aa5">  220</a></span>&#160;    <a class="code" href="../../d4/d0c/classWorkQueue.html">WorkQueue&lt;EventContainer&gt;</a> <a class="code" href="../../d0/dc5/classStateMachine.html#a63eaf243655af68a65d1186e46747aa5">work_queue_</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#ac87506db7ada48b5cdf7338a755b16fa">  221</a></span>&#160;    <a class="code" href="../../d3/d2d/classBgpPeer.html">BgpPeer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#ac87506db7ada48b5cdf7338a755b16fa">peer_</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a1414c9d36fb3368118379e441d8b927b">  222</a></span>&#160;    <a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a1414c9d36fb3368118379e441d8b927b">active_session_</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a5614579e7cc6d571dd99efe714746e30">  223</a></span>&#160;    <a class="code" href="../../d5/de5/classBgpSession.html">BgpSession</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a5614579e7cc6d571dd99efe714746e30">passive_session_</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a9ec31d428de8590393662a21bb3e844f">  224</a></span>&#160;    <a class="code" href="../../dc/dea/classTimer.html">Timer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a9ec31d428de8590393662a21bb3e844f">connect_timer_</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a9861096e43c22dd44676998394748160">  225</a></span>&#160;    <a class="code" href="../../dc/dea/classTimer.html">Timer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#a9861096e43c22dd44676998394748160">open_timer_</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#aef57a6f10882ba8621e053ca1fcabda2">  226</a></span>&#160;    <a class="code" href="../../dc/dea/classTimer.html">Timer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#aef57a6f10882ba8621e053ca1fcabda2">hold_timer_</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#ad2143d8834cfc0bf739399b59f32ca05">  227</a></span>&#160;    <a class="code" href="../../dc/dea/classTimer.html">Timer</a> *<a class="code" href="../../d0/dc5/classStateMachine.html#ad2143d8834cfc0bf739399b59f32ca05">idle_hold_timer_</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a284f6dc3253cef235752e716a782e4d7">  228</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a284f6dc3253cef235752e716a782e4d7">hold_time_</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a4e3d6141f71b9973f3aa75ee922606b1">  229</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a4e3d6141f71b9973f3aa75ee922606b1">idle_hold_time_</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a2aab88d6c45c4404a82f383828f3b61e">  230</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a2aab88d6c45c4404a82f383828f3b61e">attempts_</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#acad1835a260543fbbbce38d31638b17e">  231</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/dc5/classStateMachine.html#acad1835a260543fbbbce38d31638b17e">seed_</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a6869904e21d71d92ad010070c28b1c4c">  232</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a6869904e21d71d92ad010070c28b1c4c">deleted_</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a9fbc8d225a7ba6c272ac278782445694">  233</a></span>&#160;    <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">State</a> <a class="code" href="../../d0/dc5/classStateMachine.html#a9fbc8d225a7ba6c272ac278782445694">state_</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a82c58939ac6592b8058ac044d8dd548f">  234</a></span>&#160;    <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">State</a> <a class="code" href="../../d0/dc5/classStateMachine.html#a82c58939ac6592b8058ac044d8dd548f">last_state_</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a1e0cc51917273e2a536ea184a789ae06">  235</a></span>&#160;    std::string <a class="code" href="../../d0/dc5/classStateMachine.html#a1e0cc51917273e2a536ea184a789ae06">last_event_</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a7c6db39d5ab7e09827542b9306492131">  236</a></span>&#160;    uint64_t <a class="code" href="../../d0/dc5/classStateMachine.html#a7c6db39d5ab7e09827542b9306492131">last_event_at_</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a38d5f0f8452d1fcd19e391414ac473a7">  237</a></span>&#160;    uint64_t <a class="code" href="../../d0/dc5/classStateMachine.html#a38d5f0f8452d1fcd19e391414ac473a7">last_state_change_at_</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a30221596611b626038cacd7dfc2e871d">  238</a></span>&#160;    std::pair&lt;int, int&gt; <a class="code" href="../../d0/dc5/classStateMachine.html#a30221596611b626038cacd7dfc2e871d">last_notification_in_</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a5fbe8f3e8001fa1508439bd3ac931fdb">  239</a></span>&#160;    std::string <a class="code" href="../../d0/dc5/classStateMachine.html#a5fbe8f3e8001fa1508439bd3ac931fdb">last_notification_in_error_</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a2a66b6796d8298f1a5f6e94e739da503">  240</a></span>&#160;    uint64_t <a class="code" href="../../d0/dc5/classStateMachine.html#a2a66b6796d8298f1a5f6e94e739da503">last_notification_in_at_</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#af52d3cf3dd6aaf284cef7672c2fef065">  241</a></span>&#160;    std::pair&lt;int, int&gt; <a class="code" href="../../d0/dc5/classStateMachine.html#af52d3cf3dd6aaf284cef7672c2fef065">last_notification_out_</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a46f50b4cd6852095839f859fda2dafdc">  242</a></span>&#160;    std::string <a class="code" href="../../d0/dc5/classStateMachine.html#a46f50b4cd6852095839f859fda2dafdc">last_notification_out_error_</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="../../d0/dc5/classStateMachine.html#a9889dee64589dc86867341e447d46d22">  243</a></span>&#160;    uint64_t <a class="code" href="../../d0/dc5/classStateMachine.html#a9889dee64589dc86867341e447d46d22">last_notification_out_at_</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../d0/dc5/classStateMachine.html#a58d8b4f64aa91a0392ab0b469811781b">DISALLOW_COPY_AND_ASSIGN</a>(<a class="code" href="../../d0/dc5/classStateMachine.html">StateMachine</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;};</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;std::ostream &amp;<a class="code" href="../../d1/d0a/namespaceBFD.html#a2ed418ae25470397aec9cd6023065b1f">operator&lt;&lt;</a>(std::ostream &amp;out, <span class="keyword">const</span> <a class="code" href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">StateMachine::State</a> &amp;state);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#endif  // SRC_BGP_STATE_MACHINE_H_</span></div>
<div class="ttc" id="structParseErrorContext_html"><div class="ttname"><a href="../../d9/dc2/structParseErrorContext.html">ParseErrorContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d66/parse__object_8h_source.html#l00083">parse_object.h:83</a></div></div>
<div class="ttc" id="classStateMachine_html_ad3c747eb59b70e9fbe7f6e1a69bc80be"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ad3c747eb59b70e9fbe7f6e1a69bc80be">StateMachine::OnIdleNotification</a></div><div class="ttdeci">void OnIdleNotification(const fsm::EvBgpNotification &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01203">state_machine.cc:1203</a></div></div>
<div class="ttc" id="classStateMachine_html_a3336894245e1fea375f2c79074ed07c4"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a3336894245e1fea375f2c79074ed07c4">StateMachine::LastStateName</a></div><div class="ttdeci">const std::string &amp; LastStateName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01582">state_machine.cc:1582</a></div></div>
<div class="ttc" id="classStateMachine_html_a2c76faa2a7eb10949457dd5b2b54dc47"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a2c76faa2a7eb10949457dd5b2b54dc47">StateMachine::set_last_notification_out</a></div><div class="ttdeci">void set_last_notification_out(int code, int subcode, const std::string &amp;reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01744">state_machine.cc:1744</a></div></div>
<div class="ttc" id="classStateMachine_html_ac87506db7ada48b5cdf7338a755b16fa"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ac87506db7ada48b5cdf7338a755b16fa">StateMachine::peer_</a></div><div class="ttdeci">BgpPeer * peer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00221">state_machine.h:221</a></div></div>
<div class="ttc" id="classStateMachine_html_a9861096e43c22dd44676998394748160"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9861096e43c22dd44676998394748160">StateMachine::open_timer_</a></div><div class="ttdeci">Timer * open_timer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00225">state_machine.h:225</a></div></div>
<div class="ttc" id="classStateMachine_html_acce38012868bc0073a88bb53befe7b53"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#acce38012868bc0073a88bb53befe7b53">StateMachine::last_notification_in_error</a></div><div class="ttdeci">const std::string last_notification_in_error() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01675">state_machine.cc:1675</a></div></div>
<div class="ttc" id="classStateMachine_html_a9fbc8d225a7ba6c272ac278782445694"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9fbc8d225a7ba6c272ac278782445694">StateMachine::state_</a></div><div class="ttdeci">State state_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00233">state_machine.h:233</a></div></div>
<div class="ttc" id="classStateMachine_html_ae4870acb8623b562105a5351f58e0c51"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ae4870acb8623b562105a5351f58e0c51">StateMachine::StartConnectTimer</a></div><div class="ttdeci">virtual void StartConnectTimer(int seconds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01214">state_machine.cc:1214</a></div></div>
<div class="ttc" id="classStateMachine_html"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html">StateMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00075">state_machine.h:75</a></div></div>
<div class="ttc" id="classWorkQueue_html"><div class="ttname"><a href="../../d4/d0c/classWorkQueue.html">WorkQueue&lt; EventContainer &gt;</a></div></div>
<div class="ttc" id="classStateMachine_html_a47c6b8d5568964bc6961ebbf8d620722"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a47c6b8d5568964bc6961ebbf8d620722">StateMachine::reset_hold_time</a></div><div class="ttdeci">void reset_hold_time()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01797">state_machine.cc:1797</a></div></div>
<div class="ttc" id="classStateMachine_html_a4927f09dfd81bbbc1cccff1487e6d6f5"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a4927f09dfd81bbbc1cccff1487e6d6f5">StateMachine::StateName</a></div><div class="ttdeci">const std::string &amp; StateName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01578">state_machine.cc:1578</a></div></div>
<div class="ttc" id="classStateMachine_html_a9ba06dea43607a958fe9fbbdf93fb867"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9ba06dea43607a958fe9fbbdf93fb867">StateMachine::StartOpenTimer</a></div><div class="ttdeci">virtual void StartOpenTimer(int seconds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01234">state_machine.cc:1234</a></div></div>
<div class="ttc" id="classStateMachine_html_a1523f42fa9f4e8e9c87d3fbaf7528bbf"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1523f42fa9f4e8e9c87d3fbaf7528bbf">StateMachine::IdleHoldTimerExpired</a></div><div class="ttdeci">bool IdleHoldTimerExpired()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01428">state_machine.cc:1428</a></div></div>
<div class="ttc" id="classStateMachine_html_abc174479232ed0ac835abffeeeec2b22"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#abc174479232ed0ac835abffeeeec2b22">StateMachine::OpenTimerExpired</a></div><div class="ttdeci">bool OpenTimerExpired()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01410">state_machine.cc:1410</a></div></div>
<div class="ttc" id="classStateMachine_html_a38d5f0f8452d1fcd19e391414ac473a7"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a38d5f0f8452d1fcd19e391414ac473a7">StateMachine::last_state_change_at_</a></div><div class="ttdeci">uint64_t last_state_change_at_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00237">state_machine.h:237</a></div></div>
<div class="ttc" id="classStateMachine_html_a6ba4deff4c18b38109a2802ccc010f7f"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a6ba4deff4c18b38109a2802ccc010f7f">StateMachine::kIdleHoldTime</a></div><div class="ttdeci">static const int kIdleHoldTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00083">state_machine.h:83</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70ae0c2aaeb5dc9884a9c271cbb49a963d7"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70ae0c2aaeb5dc9884a9c271cbb49a963d7">StateMachine::OPENCONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00092">state_machine.h:92</a></div></div>
<div class="ttc" id="classStateMachine_html_a43f69c93ff4a6adea02dfba6e007ef10"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a43f69c93ff4a6adea02dfba6e007ef10">StateMachine::last_state_change_usecs_at</a></div><div class="ttdeci">const uint64_t last_state_change_usecs_at() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01590">state_machine.cc:1590</a></div></div>
<div class="ttc" id="classStateMachine_html_a8fcf5d27f202e2a9aa010df5100096e5"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8fcf5d27f202e2a9aa010df5100096e5">StateMachine::set_passive_session</a></div><div class="ttdeci">void set_passive_session(BgpSession *session)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01355">state_machine.cc:1355</a></div></div>
<div class="ttc" id="namespaceBFD_html_a2ed418ae25470397aec9cd6023065b1f"><div class="ttname"><a href="../../d1/d0a/namespaceBFD.html#a2ed418ae25470397aec9cd6023065b1f">BFD::operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;out, BFDState state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d65/bfd__common_8cc_source.html#l00023">bfd_common.cc:23</a></div></div>
<div class="ttc" id="classStateMachine_html_abf4ad759528e98e18a2d74b96de8becf"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#abf4ad759528e98e18a2d74b96de8becf">StateMachine::StartSession</a></div><div class="ttdeci">void StartSession()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01308">state_machine.cc:1308</a></div></div>
<div class="ttc" id="classStateMachine_html_ad5e9cd3889aaf1e73dcec80f4cb10ff7"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ad5e9cd3889aaf1e73dcec80f4cb10ff7">StateMachine::reset_idle_hold_time</a></div><div class="ttdeci">void reset_idle_hold_time()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00162">state_machine.h:162</a></div></div>
<div class="ttc" id="classStateMachine_html_a5614579e7cc6d571dd99efe714746e30"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a5614579e7cc6d571dd99efe714746e30">StateMachine::passive_session_</a></div><div class="ttdeci">BgpSession * passive_session_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00223">state_machine.h:223</a></div></div>
<div class="ttc" id="classStateMachine_html_aa8498634875e4d828640a34b05b326e6"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aa8498634875e4d828640a34b05b326e6">StateMachine::Shutdown</a></div><div class="ttdeci">void Shutdown(int subcode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01138">state_machine.cc:1138</a></div></div>
<div class="ttc" id="classStateMachine_html_a93b4e65d6e48dd779246406cc45564ff"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a93b4e65d6e48dd779246406cc45564ff">StateMachine::PeerClose</a></div><div class="ttdeci">void PeerClose(int code, int subcode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01170">state_machine.cc:1170</a></div></div>
<div class="ttc" id="classStateMachine_html_aef2b58d0f0aeb8e7d7e685d5a323dccb"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aef2b58d0f0aeb8e7d7e685d5a323dccb">StateMachine::connect_attempts</a></div><div class="ttdeci">int connect_attempts() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00152">state_machine.h:152</a></div></div>
<div class="ttc" id="classStateMachine_html_a54327b4a8302cfa5c43b3caa52fabbed"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a54327b4a8302cfa5c43b3caa52fabbed">StateMachine::ConnectTimerExpired</a></div><div class="ttdeci">bool ConnectTimerExpired()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01405">state_machine.cc:1405</a></div></div>
<div class="ttc" id="classStateMachine_html_a3d347524dced89bf6db6e1d224e6cdf6"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a3d347524dced89bf6db6e1d224e6cdf6">StateMachine::ProcessNotificationEvent</a></div><div class="ttdeci">bool ProcessNotificationEvent(BgpSession *session)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01387">state_machine.cc:1387</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70ad25810a3df821e25fbc2f817682c3544"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70ad25810a3df821e25fbc2f817682c3544">StateMachine::OPENSENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00091">state_machine.h:91</a></div></div>
<div class="ttc" id="classStateMachine_html_adc8a040e3046ba3d8160a7805c1fe83d"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#adc8a040e3046ba3d8160a7805c1fe83d">StateMachine::kJitter</a></div><div class="ttdeci">static const int kJitter</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00085">state_machine.h:85</a></div></div>
<div class="ttc" id="classStateMachine_html_a2aab88d6c45c4404a82f383828f3b61e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a2aab88d6c45c4404a82f383828f3b61e">StateMachine::attempts_</a></div><div class="ttdeci">int attempts_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00230">state_machine.h:230</a></div></div>
<div class="ttc" id="classStateMachine_html_a4dd6c43e96e565dba8f53dfe7d072a1c"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a4dd6c43e96e565dba8f53dfe7d072a1c">StateMachine::OnMessageError</a></div><div class="ttdeci">void OnMessageError(BgpSession *session, const ParseErrorContext *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01548">state_machine.cc:1548</a></div></div>
<div class="ttc" id="classStateMachine_html_a9951b3cb419b3b276abf1692a5666381"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9951b3cb419b3b276abf1692a5666381">StateMachine::ConnectTimerRunning</a></div><div class="ttdeci">bool ConnectTimerRunning()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01230">state_machine.cc:1230</a></div></div>
<div class="ttc" id="classStateMachine_html_a5fbe8f3e8001fa1508439bd3ac931fdb"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a5fbe8f3e8001fa1508439bd3ac931fdb">StateMachine::last_notification_in_error_</a></div><div class="ttdeci">std::string last_notification_in_error_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00239">state_machine.h:239</a></div></div>
<div class="ttc" id="classStateMachine_html_a00e14b39637fe394840868a6aaef2c24"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a00e14b39637fe394840868a6aaef2c24">StateMachine::CancelIdleHoldTimer</a></div><div class="ttdeci">void CancelIdleHoldTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01259">state_machine.cc:1259</a></div></div>
<div class="ttc" id="structStateMachine_1_1EventContainer_html_a4c685374e3cb9c87a80754d1ae5794dd"><div class="ttname"><a href="../../d5/ded/structStateMachine_1_1EventContainer.html#a4c685374e3cb9c87a80754d1ae5794dd">StateMachine::EventContainer::event</a></div><div class="ttdeci">boost::intrusive_ptr&lt; const sc::event_base &gt; event</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00198">state_machine.h:198</a></div></div>
<div class="ttc" id="classStateMachine_html_a73d43e1c7c97f7d1fea24732348ddafc"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a73d43e1c7c97f7d1fea24732348ddafc">StateMachine::kHoldTime</a></div><div class="ttdeci">static const int kHoldTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00081">state_machine.h:81</a></div></div>
<div class="ttc" id="classStateMachine_html_a82c58939ac6592b8058ac044d8dd548f"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a82c58939ac6592b8058ac044d8dd548f">StateMachine::last_state_</a></div><div class="ttdeci">State last_state_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00234">state_machine.h:234</a></div></div>
<div class="ttc" id="classStateMachine_html_ad6027cf6fdec914310d937524baa8ce1"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ad6027cf6fdec914310d937524baa8ce1">StateMachine::TimerErrorHanlder</a></div><div class="ttdeci">void TimerErrorHanlder(std::string name, std::string error)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00210">state_machine.h:210</a></div></div>
<div class="ttc" id="classStateMachine_html_a6869904e21d71d92ad010070c28b1c4c"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a6869904e21d71d92ad010070c28b1c4c">StateMachine::deleted_</a></div><div class="ttdeci">bool deleted_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00232">state_machine.h:232</a></div></div>
<div class="ttc" id="classStateMachine_html_aa4063f62d436d02b65e5b4160b42edab"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aa4063f62d436d02b65e5b4160b42edab">StateMachine::FireConnectTimer</a></div><div class="ttdeci">void FireConnectTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01287">state_machine.cc:1287</a></div></div>
<div class="ttc" id="classStateMachine_html_a61644ffeeb86cbc24374d959e8b16607"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a61644ffeeb86cbc24374d959e8b16607">StateMachine::SetDataCollectionKey</a></div><div class="ttdeci">void SetDataCollectionKey(BgpPeerInfo *peer_info) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01671">state_machine.cc:1671</a></div></div>
<div class="ttc" id="classStateMachine_html_a0daeb5a4bff4b16f45dcf9d40007e85a"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a0daeb5a4bff4b16f45dcf9d40007e85a">StateMachine::HoldTimerExpired</a></div><div class="ttdeci">bool HoldTimerExpired()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01415">state_machine.cc:1415</a></div></div>
<div class="ttc" id="classStateMachine_html_ac0e480534c6a6d0cd8c7e1dbe0707cde"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ac0e480534c6a6d0cd8c7e1dbe0707cde">StateMachine::set_active_session</a></div><div class="ttdeci">void set_active_session(BgpSession *session)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01350">state_machine.cc:1350</a></div></div>
<div class="ttc" id="classStateMachine_html_a7639bf794e6bd084ec5e7fa94387776a"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a7639bf794e6bd084ec5e7fa94387776a">StateMachine::FireIdleHoldTimer</a></div><div class="ttdeci">void FireIdleHoldTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01299">state_machine.cc:1299</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70">StateMachine::State</a></div><div class="ttdeci">State</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00087">state_machine.h:87</a></div></div>
<div class="ttc" id="classStateMachine_html_abf3a862d77b8f63b853f10ee4bf2dfab"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#abf3a862d77b8f63b853f10ee4bf2dfab">StateMachine::CancelOpenTimer</a></div><div class="ttdeci">void CancelOpenTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01241">state_machine.cc:1241</a></div></div>
<div class="ttc" id="classStateMachine_html_a283db132d13730cc81568c197dbcb56d"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a283db132d13730cc81568c197dbcb56d">StateMachine::OnMessage</a></div><div class="ttdeci">void OnMessage(BgpSession *session, BgpProto::BgpMessage *msg, size_t msgsize=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01490">state_machine.cc:1490</a></div></div>
<div class="ttc" id="classStateMachine_html_a58d8b4f64aa91a0392ab0b469811781b"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a58d8b4f64aa91a0392ab0b469811781b">StateMachine::DISALLOW_COPY_AND_ASSIGN</a></div><div class="ttdeci">DISALLOW_COPY_AND_ASSIGN(StateMachine)</div></div>
<div class="ttc" id="classStateMachine_html_ae7b329bf00554361a21ffc7049062f4b"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ae7b329bf00554361a21ffc7049062f4b">StateMachine::set_last_notification_in</a></div><div class="ttdeci">void set_last_notification_in(int code, int subcode, const std::string &amp;reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01758">state_machine.cc:1758</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70a18fd9a8aca1252c7c0be04f0aa464c14"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a18fd9a8aca1252c7c0be04f0aa464c14">StateMachine::ESTABLISHED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00093">state_machine.h:93</a></div></div>
<div class="ttc" id="classTcpSession_html"><div class="ttname"><a href="../../d2/d0e/classTcpSession.html">TcpSession</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d15/tcp__session_8h_source.html#l00042">tcp_session.h:42</a></div></div>
<div class="ttc" id="timer_8h_html"><div class="ttname"><a href="../../d5/dd0/timer_8h.html">timer.h</a></div></div>
<div class="ttc" id="classStateMachine_html_a9c83195d5cb2301512243cb12befb405"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9c83195d5cb2301512243cb12befb405">StateMachine::GetConfiguredHoldTime</a></div><div class="ttdeci">int GetConfiguredHoldTime() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01690">state_machine.cc:1690</a></div></div>
<div class="ttc" id="classStateMachine_html_a51cbe0bae3ddb185dd653883ad77c31b"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a51cbe0bae3ddb185dd653883ad77c31b">StateMachine::get_state</a></div><div class="ttdeci">State get_state() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00168">state_machine.h:168</a></div></div>
<div class="ttc" id="classStateMachine_html_a10646f8418f006f5b32078966b7af2bb"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a10646f8418f006f5b32078966b7af2bb">StateMachine::last_event</a></div><div class="ttdeci">const std::string &amp; last_event() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00172">state_machine.h:172</a></div></div>
<div class="ttc" id="tcp__session_8h_html"><div class="ttname"><a href="../../de/d15/tcp__session_8h.html">tcp_session.h</a></div></div>
<div class="ttc" id="state__machine_8h_html_a6a1fb240df317b2d2a33ec9eba8cdb41"><div class="ttname"><a href="../../d4/d7f/state__machine_8h.html#a6a1fb240df317b2d2a33ec9eba8cdb41">EvValidate</a></div><div class="ttdeci">boost::function&lt; bool(StateMachine *)&gt; EvValidate</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00033">state_machine.h:33</a></div></div>
<div class="ttc" id="classStateMachine_html_a7c6db39d5ab7e09827542b9306492131"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a7c6db39d5ab7e09827542b9306492131">StateMachine::last_event_at_</a></div><div class="ttdeci">uint64_t last_event_at_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00236">state_machine.h:236</a></div></div>
<div class="ttc" id="classStateMachine_html_aef57a6f10882ba8621e053ca1fcabda2"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aef57a6f10882ba8621e053ca1fcabda2">StateMachine::hold_timer_</a></div><div class="ttdeci">Timer * hold_timer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00226">state_machine.h:226</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70a719252e4af3f2d4d400138ed8a563978"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a719252e4af3f2d4d400138ed8a563978">StateMachine::IDLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00088">state_machine.h:88</a></div></div>
<div class="ttc" id="classStateMachine_html_a4e3d6141f71b9973f3aa75ee922606b1"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a4e3d6141f71b9973f3aa75ee922606b1">StateMachine::idle_hold_time_</a></div><div class="ttdeci">int idle_hold_time_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00229">state_machine.h:229</a></div></div>
<div class="ttc" id="classStateMachine_html_a68765b732e06f7ab053861c38026e64a"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a68765b732e06f7ab053861c38026e64a">StateMachine::OnIdleCease</a></div><div class="ttdeci">void OnIdleCease(const Ev &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01185">state_machine.cc:1185</a></div></div>
<div class="ttc" id="classStateMachine_html_a625c5eb083f9817d00cbfb5e889a92f4"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a625c5eb083f9817d00cbfb5e889a92f4">StateMachine::StateMachine</a></div><div class="ttdeci">StateMachine(BgpPeer *peer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01080">state_machine.cc:1080</a></div></div>
<div class="ttc" id="classStateMachine_html_acad1835a260543fbbbce38d31638b17e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#acad1835a260543fbbbce38d31638b17e">StateMachine::seed_</a></div><div class="ttdeci">unsigned int seed_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00231">state_machine.h:231</a></div></div>
<div class="ttc" id="classStateMachine_html_aacfc4fa6233f900bc6f3bfd32c8fa64c"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aacfc4fa6233f900bc6f3bfd32c8fa64c">StateMachine::IdleHoldTimerRunning</a></div><div class="ttdeci">bool IdleHoldTimerRunning()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01263">state_machine.cc:1263</a></div></div>
<div class="ttc" id="classStateMachine_html_a9465c046cb6840a666305c61c6609651"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9465c046cb6840a666305c61c6609651">StateMachine::last_state_change_at</a></div><div class="ttdeci">const std::string last_state_change_at() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01586">state_machine.cc:1586</a></div></div>
<div class="ttc" id="classStateMachine_html_a1209834fd756165cc15aeb1ef96cd92c"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1209834fd756165cc15aeb1ef96cd92c">StateMachine::connect_attempts_clear</a></div><div class="ttdeci">void connect_attempts_clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00154">state_machine.h:154</a></div></div>
<div class="ttc" id="classTcpSession_html_a00ea3012f13ed9be96a66e9e0ea5d33b"><div class="ttname"><a href="../../d2/d0e/classTcpSession.html#a00ea3012f13ed9be96a66e9e0ea5d33b">TcpSession::Event</a></div><div class="ttdeci">Event</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d15/tcp__session_8h_source.html#l00047">tcp_session.h:47</a></div></div>
<div class="ttc" id="classStateMachine_html_abcb86362a42e2b8ea4879c350c42ec19"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#abcb86362a42e2b8ea4879c350c42ec19">StateMachine::StartIdleHoldTimer</a></div><div class="ttdeci">virtual void StartIdleHoldTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01249">state_machine.cc:1249</a></div></div>
<div class="ttc" id="classStateMachine_html_a9e7067b9fec56b088afe651411a2e9f5"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9e7067b9fec56b088afe651411a2e9f5">StateMachine::IsQueueEmpty</a></div><div class="ttdeci">bool IsQueueEmpty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01159">state_machine.cc:1159</a></div></div>
<div class="ttc" id="load__balance_8h_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="../../de/dcb/load__balance_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/load__balance_8h_source.html#l00109">load_balance.h:109</a></div></div>
<div class="ttc" id="classStateMachine_html_ae7242d599eebce5cce81d61a6a7d5f40"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ae7242d599eebce5cce81d61a6a7d5f40">StateMachine::StartHoldTimer</a></div><div class="ttdeci">virtual void StartHoldTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01267">state_machine.cc:1267</a></div></div>
<div class="ttc" id="classStateMachine_html_aba35014e26e3050e71bbf9d4f347c889"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aba35014e26e3050e71bbf9d4f347c889">StateMachine::BGPPeerInfoSend</a></div><div class="ttdeci">void BGPPeerInfoSend(const BgpPeerInfoData &amp;peer_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01720">state_machine.cc:1720</a></div></div>
<div class="ttc" id="classStateMachine_html_ac6c1d596f9f6ff7977a96c161f440177"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ac6c1d596f9f6ff7977a96c161f440177">StateMachine::PassiveOpen</a></div><div class="ttdeci">bool PassiveOpen(BgpSession *session)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01469">state_machine.cc:1469</a></div></div>
<div class="ttc" id="classStateMachine_html_a7ad93ecdaabac59f1451e96eade57712"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a7ad93ecdaabac59f1451e96eade57712">StateMachine::set_hold_time</a></div><div class="ttdeci">void set_hold_time(int hold_time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01788">state_machine.cc:1788</a></div></div>
<div class="ttc" id="classStateMachine_html_af98ee3b6723ebd77f1b80f28ccd02601"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#af98ee3b6723ebd77f1b80f28ccd02601">StateMachine::kMaxIdleHoldTime</a></div><div class="ttdeci">static const int kMaxIdleHoldTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00084">state_machine.h:84</a></div></div>
<div class="ttc" id="classStateMachine_html_a30221596611b626038cacd7dfc2e871d"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a30221596611b626038cacd7dfc2e871d">StateMachine::last_notification_in_</a></div><div class="ttdeci">std::pair&lt; int, int &gt; last_notification_in_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00238">state_machine.h:238</a></div></div>
<div class="ttc" id="classStateMachine_html_a8e265805a07cd564869ba5498cec8681"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8e265805a07cd564869ba5498cec8681">StateMachine::Enqueue</a></div><div class="ttdeci">bool Enqueue(const Ev &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01623">state_machine.cc:1623</a></div></div>
<div class="ttc" id="classStateMachine_html_a956440e30c83a3ff317a8a5a9b8f2632"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a956440e30c83a3ff317a8a5a9b8f2632">StateMachine::StateMachineUnitTest</a></div><div class="ttdeci">friend class StateMachineUnitTest</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00195">state_machine.h:195</a></div></div>
<div class="ttc" id="classStateMachine_html_a9889dee64589dc86867341e447d46d22"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9889dee64589dc86867341e447d46d22">StateMachine::last_notification_out_at_</a></div><div class="ttdeci">uint64_t last_notification_out_at_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00243">state_machine.h:243</a></div></div>
<div class="ttc" id="classStateMachine_html_a05d6458c0abde86f4b1a54ebf3f94843"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a05d6458c0abde86f4b1a54ebf3f94843">StateMachine::active_session</a></div><div class="ttdeci">BgpSession * active_session()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01360">state_machine.cc:1360</a></div></div>
<div class="ttc" id="classStateMachine_html_a53e61919b0aeb62bf969014cdc69fdb2"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a53e61919b0aeb62bf969014cdc69fdb2">StateMachine::SendNotification</a></div><div class="ttdeci">void SendNotification(BgpSession *session, int code, int subcode=0, const std::string &amp;data=std::string())</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01368">state_machine.cc:1368</a></div></div>
<div class="ttc" id="classStateMachine_html_a2a66b6796d8298f1a5f6e94e739da503"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a2a66b6796d8298f1a5f6e94e739da503">StateMachine::last_notification_in_at_</a></div><div class="ttdeci">uint64_t last_notification_in_at_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00240">state_machine.h:240</a></div></div>
<div class="ttc" id="classStateMachine_html_a754ef64d025185680a9c6b4be6d1a681"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a754ef64d025185680a9c6b4be6d1a681">StateMachine::SetAdminState</a></div><div class="ttdeci">void SetAdminState(bool down, int subcode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01146">state_machine.cc:1146</a></div></div>
<div class="ttc" id="classStateMachine_html_ad2143d8834cfc0bf739399b59f32ca05"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ad2143d8834cfc0bf739399b59f32ca05">StateMachine::idle_hold_timer_</a></div><div class="ttdeci">Timer * idle_hold_timer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00227">state_machine.h:227</a></div></div>
<div class="ttc" id="classStateMachine_html_a46076bff55a3d17f24cf267135874f62"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a46076bff55a3d17f24cf267135874f62">StateMachine::StateMachineTest</a></div><div class="ttdeci">friend class StateMachineTest</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00194">state_machine.h:194</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70a6d25359cf8f21e56a16cf7149cde983e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70a6d25359cf8f21e56a16cf7149cde983e">StateMachine::CONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00090">state_machine.h:90</a></div></div>
<div class="ttc" id="classStateMachine_html_a86c55833c0899f4e42613684aff819bc"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a86c55833c0899f4e42613684aff819bc">StateMachine::FireOpenTimer</a></div><div class="ttdeci">void FireOpenTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01291">state_machine.cc:1291</a></div></div>
<div class="ttc" id="classStateMachine_html_aaf629941f9d85033e1c9ff736ac19974"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aaf629941f9d85033e1c9ff736ac19974">StateMachine::DequeueEventDone</a></div><div class="ttdeci">void DequeueEventDone(bool done)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01667">state_machine.cc:1667</a></div></div>
<div class="ttc" id="classStateMachine_html_afbbf1c765342ba3ee08fb9f50f90567a"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#afbbf1c765342ba3ee08fb9f50f90567a">StateMachine::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01130">state_machine.cc:1130</a></div></div>
<div class="ttc" id="classStateMachine_html_a1359a4f17fdee1a38f74ea8dec687def"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1359a4f17fdee1a38f74ea8dec687def">StateMachine::IsPeerCloseInProgress</a></div><div class="ttdeci">virtual bool IsPeerCloseInProgress() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01134">state_machine.cc:1134</a></div></div>
<div class="ttc" id="classStateMachine_html_a62f52c6da63e7c761e1f9abbca57531e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a62f52c6da63e7c761e1f9abbca57531e">StateMachine::OnSessionEvent</a></div><div class="ttdeci">virtual void OnSessionEvent(TcpSession *session, TcpSession::Event event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01445">state_machine.cc:1445</a></div></div>
<div class="ttc" id="classStateMachine_html_aa4c85692d4c55436ee254c4b2f4e1196"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aa4c85692d4c55436ee254c4b2f4e1196">StateMachine::GetIdleHoldTimeMSecs</a></div><div class="ttdeci">virtual const int GetIdleHoldTimeMSecs() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00191">state_machine.h:191</a></div></div>
<div class="ttc" id="classStateMachine_html_a4ce831f521eb339df39f4ad3314aeea5"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a4ce831f521eb339df39f4ad3314aeea5">StateMachine::GetConnectTime</a></div><div class="ttdeci">int GetConnectTime() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01209">state_machine.cc:1209</a></div></div>
<div class="ttc" id="classStateMachine_html_ad337d065c6ed6352975aa0e51d2ed0bd"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ad337d065c6ed6352975aa0e51d2ed0bd">StateMachine::kOpenTime</a></div><div class="ttdeci">static const int kOpenTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00079">state_machine.h:79</a></div></div>
<div class="ttc" id="classStateMachine_html_a46f50b4cd6852095839f859fda2dafdc"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a46f50b4cd6852095839f859fda2dafdc">StateMachine::last_notification_out_error_</a></div><div class="ttdeci">std::string last_notification_out_error_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00242">state_machine.h:242</a></div></div>
<div class="ttc" id="bgp__proto_8h_html"><div class="ttname"><a href="../../df/de9/bgp__proto_8h.html">bgp_proto.h</a></div></div>
<div class="ttc" id="classStateMachine_html_a08f51ed257432bc82b6af17ac78fd757"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a08f51ed257432bc82b6af17ac78fd757">StateMachine::DeleteAllTimers</a></div><div class="ttdeci">void DeleteAllTimers()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01113">state_machine.cc:1113</a></div></div>
<div class="ttc" id="classStateMachine_html_a8ec52ec2ac33298c4ee7fafc13a4bc70afd58a6922d5df51d503c5054fd5932a8"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a8ec52ec2ac33298c4ee7fafc13a4bc70afd58a6922d5df51d503c5054fd5932a8">StateMachine::ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00089">state_machine.h:89</a></div></div>
<div class="ttc" id="classStateMachine_html_af78883b9bff1128095ce0f1d9a338049"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#af78883b9bff1128095ce0f1d9a338049">StateMachine::UpdateFlapCount</a></div><div class="ttdeci">void UpdateFlapCount()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01163">state_machine.cc:1163</a></div></div>
<div class="ttc" id="structStateMachine_1_1EventContainer_html"><div class="ttname"><a href="../../d5/ded/structStateMachine_1_1EventContainer.html">StateMachine::EventContainer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00197">state_machine.h:197</a></div></div>
<div class="ttc" id="classStateMachine_html_a332eb46e71d4eae01b2aa31d37a5cd57"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a332eb46e71d4eae01b2aa31d37a5cd57">StateMachine::OnNotificationMessage</a></div><div class="ttdeci">virtual void OnNotificationMessage(BgpSession *session, BgpProto::BgpMessage *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01478">state_machine.cc:1478</a></div></div>
<div class="ttc" id="classStateMachine_html_a6b60130b1e4eb5b61e52e2e493c0308e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a6b60130b1e4eb5b61e52e2e493c0308e">StateMachine::passive_session</a></div><div class="ttdeci">BgpSession * passive_session()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01364">state_machine.cc:1364</a></div></div>
<div class="ttc" id="classStateMachine_html_a227404ef1df9a44255791d30c53404c4"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a227404ef1df9a44255791d30c53404c4">StateMachine::OpenTimerRunning</a></div><div class="ttdeci">bool OpenTimerRunning()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01245">state_machine.cc:1245</a></div></div>
<div class="ttc" id="classStateMachine_html_a14f307892252eb73ebcbc22e8ab230d1"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a14f307892252eb73ebcbc22e8ab230d1">StateMachine::OnIdleError</a></div><div class="ttdeci">void OnIdleError(const Ev &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01196">state_machine.cc:1196</a></div></div>
<div class="ttc" id="classStateMachine_html_a0de2b543041f82b75d9342cd8cc05849"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a0de2b543041f82b75d9342cd8cc05849">StateMachine::last_notification_out_error</a></div><div class="ttdeci">const std::string last_notification_out_error() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01681">state_machine.cc:1681</a></div></div>
<div class="ttc" id="classStateMachine_html_a93d66cb2a89b186789d655a08b02674e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a93d66cb2a89b186789d655a08b02674e">StateMachine::~StateMachine</a></div><div class="ttdeci">virtual ~StateMachine()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01124">state_machine.cc:1124</a></div></div>
<div class="ttc" id="classStateMachine_html_a1e0cc51917273e2a536ea184a789ae06"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1e0cc51917273e2a536ea184a789ae06">StateMachine::last_event_</a></div><div class="ttdeci">std::string last_event_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00235">state_machine.h:235</a></div></div>
<div class="ttc" id="classStateMachine_html_af52d3cf3dd6aaf284cef7672c2fef065"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#af52d3cf3dd6aaf284cef7672c2fef065">StateMachine::last_notification_out_</a></div><div class="ttdeci">std::pair&lt; int, int &gt; last_notification_out_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00241">state_machine.h:241</a></div></div>
<div class="ttc" id="classStateMachine_html_a59baec09c7efe36d018c0751a3c7e7df"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a59baec09c7efe36d018c0751a3c7e7df">StateMachine::HoldTimerRunning</a></div><div class="ttdeci">bool HoldTimerRunning()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01281">state_machine.cc:1281</a></div></div>
<div class="ttc" id="classStateMachine_html_a82b95dc927f3db9dc5695e1883ae6e6f"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a82b95dc927f3db9dc5695e1883ae6e6f">StateMachine::IsCloseGraceful</a></div><div class="ttdeci">virtual bool IsCloseGraceful() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01433">state_machine.cc:1433</a></div></div>
<div class="ttc" id="classStateMachine_html_a342b7d0162e6224ae97e37491fa3a800"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a342b7d0162e6224ae97e37491fa3a800">StateMachine::set_state</a></div><div class="ttdeci">void set_state(State state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01772">state_machine.cc:1772</a></div></div>
<div class="ttc" id="classStateMachine_html_a9626419fe133111a9b55381c0084e5ed"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9626419fe133111a9b55381c0084e5ed">StateMachine::set_last_event</a></div><div class="ttdeci">void set_last_event(const std::string &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01725">state_machine.cc:1725</a></div></div>
<div class="ttc" id="classStateMachine_html_a1baf2f35a34e9799dbf0231de5507b25"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1baf2f35a34e9799dbf0231de5507b25">StateMachine::kOpenSentHoldTime</a></div><div class="ttdeci">static const int kOpenSentHoldTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00082">state_machine.h:82</a></div></div>
<div class="ttc" id="classStateMachine_html_a873d728ba864a377a32811e0384a411f"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a873d728ba864a377a32811e0384a411f">StateMachine::AssignSession</a></div><div class="ttdeci">void AssignSession(bool active)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01340">state_machine.cc:1340</a></div></div>
<div class="ttc" id="structStateMachine_1_1EventContainer_html_a23576b4b9684c6fac3a84dcf35a0dcc7"><div class="ttname"><a href="../../d5/ded/structStateMachine_1_1EventContainer.html#a23576b4b9684c6fac3a84dcf35a0dcc7">StateMachine::EventContainer::validate</a></div><div class="ttdeci">EvValidate validate</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00199">state_machine.h:199</a></div></div>
<div class="ttc" id="classStateMachine_html_a630b32399e505f1565c9b4bbaeea532b"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a630b32399e505f1565c9b4bbaeea532b">StateMachine::CancelConnectTimer</a></div><div class="ttdeci">void CancelConnectTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01226">state_machine.cc:1226</a></div></div>
<div class="ttc" id="classStateMachine_html_a7de3883f6247199098f5e4d49c36b4ca"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a7de3883f6247199098f5e4d49c36b4ca">StateMachine::peer</a></div><div class="ttdeci">BgpPeer * peer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00146">state_machine.h:146</a></div></div>
<div class="ttc" id="classStateMachine_html_a9a2bf42b4dfcf91bff6104684e597e35"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9a2bf42b4dfcf91bff6104684e597e35">StateMachine::EventCB</a></div><div class="ttdeci">boost::function&lt; void(void)&gt; EventCB</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00077">state_machine.h:77</a></div></div>
<div class="ttc" id="structBgpProto_1_1BgpMessage_html"><div class="ttname"><a href="../../d3/d88/structBgpProto_1_1BgpMessage.html">BgpProto::BgpMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/bgp__proto_8h_source.html#l00050">bgp_proto.h:50</a></div></div>
<div class="ttc" id="classStateMachine_html_a535c61178517e23d304dd73132126af3"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a535c61178517e23d304dd73132126af3">StateMachine::kConnectInterval</a></div><div class="ttdeci">static const int kConnectInterval</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00080">state_machine.h:80</a></div></div>
<div class="ttc" id="classStateMachine_html_a1414c9d36fb3368118379e441d8b927b"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1414c9d36fb3368118379e441d8b927b">StateMachine::active_session_</a></div><div class="ttdeci">BgpSession * active_session_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00222">state_machine.h:222</a></div></div>
<div class="ttc" id="classStateMachine_html_ac9663092e6beac00c66b5a93c4ee01e4"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#ac9663092e6beac00c66b5a93c4ee01e4">StateMachine::OnIdle</a></div><div class="ttdeci">void OnIdle(const Ev &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01179">state_machine.cc:1179</a></div></div>
<div class="ttc" id="classStateMachine_html_a08e351f6c309b8e519ba684ceb213043"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a08e351f6c309b8e519ba684ceb213043">StateMachine::connect_attempts_inc</a></div><div class="ttdeci">void connect_attempts_inc()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00153">state_machine.h:153</a></div></div>
<div class="ttc" id="classStateMachine_html_a46586173dd309720e5b667844c93f033"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a46586173dd309720e5b667844c93f033">StateMachine::keepalive_time_msecs</a></div><div class="ttdeci">virtual int keepalive_time_msecs() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00159">state_machine.h:159</a></div></div>
<div class="ttc" id="classBgpPeer_html"><div class="ttname"><a href="../../d3/d2d/classBgpPeer.html">BgpPeer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/bgp__peer_8h_source.html#l00082">bgp_peer.h:82</a></div></div>
<div class="ttc" id="queue__task_8h_html"><div class="ttname"><a href="../../d5/d47/queue__task_8h.html">queue_task.h</a></div></div>
<div class="ttc" id="classBgpSession_html"><div class="ttname"><a href="../../d5/de5/classBgpSession.html">BgpSession</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/bgp__session_8h_source.html#l00041">bgp_session.h:41</a></div></div>
<div class="ttc" id="classStateMachine_html_a5afcb9e31c48390692afe428028e5560"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a5afcb9e31c48390692afe428028e5560">StateMachine::FireHoldTimer</a></div><div class="ttdeci">void FireHoldTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01295">state_machine.cc:1295</a></div></div>
<div class="ttc" id="classStateMachine_html_a284f6dc3253cef235752e716a782e4d7"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a284f6dc3253cef235752e716a782e4d7">StateMachine::hold_time_</a></div><div class="ttdeci">int hold_time_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00228">state_machine.h:228</a></div></div>
<div class="ttc" id="classTimer_html"><div class="ttname"><a href="../../dc/dea/classTimer.html">Timer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd0/timer_8h_source.html#l00054">timer.h:54</a></div></div>
<div class="ttc" id="classBgpMessage_html"><div class="ttname"><a href="../../d3/db7/classBgpMessage.html">BgpMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d18/bgp__message__builder_8h_source.html#l00015">bgp_message_builder.h:15</a></div></div>
<div class="ttc" id="classStateMachine_html_a0eb1f90ee3acad9fc0d13730e00e234a"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a0eb1f90ee3acad9fc0d13730e00e234a">StateMachine::hold_time</a></div><div class="ttdeci">int hold_time() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00156">state_machine.h:156</a></div></div>
<div class="ttc" id="classStateMachine_html_a21556cade78f06be3e0b100c4cc43dd4"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a21556cade78f06be3e0b100c4cc43dd4">StateMachine::CancelHoldTimer</a></div><div class="ttdeci">void CancelHoldTimer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01277">state_machine.cc:1277</a></div></div>
<div class="ttc" id="classStateMachine_html_aad14cf4d573e5addd350fe6bef5f0fd3"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#aad14cf4d573e5addd350fe6bef5f0fd3">StateMachine::LogEvent</a></div><div class="ttdeci">void LogEvent(std::string event_name, std::string msg, SandeshLevel::type log_level=SandeshLevel::SYS_DEBUG)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01634">state_machine.cc:1634</a></div></div>
<div class="ttc" id="classStateMachine_html_af3dc256403970060faf29dd67cf080e5"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#af3dc256403970060faf29dd67cf080e5">StateMachine::IsRouterTypeBGPaaS</a></div><div class="ttdeci">virtual bool IsRouterTypeBGPaaS() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01437">state_machine.cc:1437</a></div></div>
<div class="ttc" id="structfsm_1_1EvBgpNotification_html"><div class="ttname"><a href="../../d8/db5/structfsm_1_1EvBgpNotification.html">fsm::EvBgpNotification</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l00302">state_machine.cc:302</a></div></div>
<div class="ttc" id="classStateMachine_html_a3cafbde5ef6d23ba1d8dc13805e9a6a0"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a3cafbde5ef6d23ba1d8dc13805e9a6a0">StateMachine::DeleteSession</a></div><div class="ttdeci">virtual void DeleteSession(BgpSession *session)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01327">state_machine.cc:1327</a></div></div>
<div class="ttc" id="classStateMachine_html_a1181419c0c2f253de7e01dbae0b00d20"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a1181419c0c2f253de7e01dbae0b00d20">StateMachine::reset_last_info</a></div><div class="ttdeci">void reset_last_info()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01806">state_machine.cc:1806</a></div></div>
<div class="ttc" id="classStateMachine_html_a803975d65470cadfbaec1f0e9750441e"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a803975d65470cadfbaec1f0e9750441e">StateMachine::set_idle_hold_time</a></div><div class="ttdeci">void set_idle_hold_time(int idle_hold_time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00163">state_machine.h:163</a></div></div>
<div class="ttc" id="classStateMachine_html_a31c3b46e3b236a1b0e8ecf001cc40bc9"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a31c3b46e3b236a1b0e8ecf001cc40bc9">StateMachine::DequeueEvent</a></div><div class="ttdeci">bool DequeueEvent(EventContainer ec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcb/state__machine_8cc_source.html#l01645">state_machine.cc:1645</a></div></div>
<div class="ttc" id="classStateMachine_html_a63eaf243655af68a65d1186e46747aa5"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a63eaf243655af68a65d1186e46747aa5">StateMachine::work_queue_</a></div><div class="ttdeci">WorkQueue&lt; EventContainer &gt; work_queue_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00220">state_machine.h:220</a></div></div>
<div class="ttc" id="classStateMachine_html_a9ec31d428de8590393662a21bb3e844f"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a9ec31d428de8590393662a21bb3e844f">StateMachine::connect_timer_</a></div><div class="ttdeci">Timer * connect_timer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00224">state_machine.h:224</a></div></div>
<div class="ttc" id="classStateMachine_html_a913ffa705008a4d00b1e60008f24972d"><div class="ttname"><a href="../../d0/dc5/classStateMachine.html#a913ffa705008a4d00b1e60008f24972d">StateMachine::idle_hold_time</a></div><div class="ttdeci">int idle_hold_time() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/state__machine_8h_source.html#l00161">state_machine.h:161</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0a7d39584c34dc4772b798c7b583750f.html">contrail</a></li><li class="navelem"><a class="el" href="../../dir_2a1a0f5bd3fae8c3e47f1701b5222318.html">controller</a></li><li class="navelem"><a class="el" href="../../dir_c5f44869b24dae5488ef95224fa0de41.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5ec91433f7a345fb76510642ab518f16.html">bgp</a></li><li class="navelem"><a class="el" href="../../d4/d7f/state__machine_8h.html">state_machine.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
