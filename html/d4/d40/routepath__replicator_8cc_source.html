<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSDN source code: routepath_replicator.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSDN source code
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/d40/routepath__replicator_8cc_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">routepath_replicator.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d40/routepath__replicator_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2013 Juniper Networks, Inc. All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d43/routepath__replicator_8h.html">bgp/routing-instance/routepath_replicator.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;boost/foreach.hpp&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/ddd/set__util_8h.html">base/set_util.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/de9/task__annotations_8h.html">base/task_annotations.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/de9/task__trigger_8h.html">base/task_trigger.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d8a/bgp__config_8h.html">bgp/bgp_config.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d1a/bgp__log_8h.html">bgp/bgp_log.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d82/bgp__route_8h.html">bgp/bgp_route.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d53/bgp__server_8h.html">bgp/bgp_server.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7f/origin__vn_8h.html">bgp/origin-vn/origin_vn.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d52/path__resolver_8h.html">bgp/routing-instance/path_resolver.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/df1/routing__instance_8h.html">bgp/routing-instance/routing_instance.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d0b/rtarget__group__mgr_8h.html">bgp/routing-instance/rtarget_group_mgr.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;bgp/routing-instance/routing_instance_analytics_types.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">using</span> std::ostringstream;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using</span> std::make_pair;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using</span> std::pair;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using</span> std::string;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using</span> std::vector;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// RoutePathReplication trace macro. Optionally logs the server name as well for</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// easier debugging in multi server unit tests</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">   34</a></span>&#160;<span class="preprocessor">#define RPR_TRACE(obj, ...)                                                    \</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">do {                                                                           \</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">    if (LoggingDisabled()) break;                                              \</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">    bgp_log_test::LogServerName(server());                                     \</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">    Rpr##obj##Log::Send(&quot;RoutingInstance&quot;</span>,                                     \</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            SandeshLevel::SYS_DEBUG, __FILE__, __LINE__, __VA_ARGS__);         \</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    Rpr##obj::TraceMsg(trace_buf_, __FILE__, __LINE__, __VA_ARGS__);           \</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;} while (false)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d4/d40/routepath__replicator_8cc.html#aea7d2a23d84d20467081e97f2ec0fe6c">   43</a></span>&#160;<span class="preprocessor">#define RPR_TRACE_ONLY(obj, ...)                                               \</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">do {                                                                           \</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">    if (LoggingDisabled()) break;                                              \</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">    bgp_log_test::LogServerName(server());                                     \</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">    Rpr##obj::TraceMsg(trace_buf_, __FILE__, __LINE__, __VA_ARGS__);           \</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">} while (false)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d6/d6f/classTableState_1_1DeleteActor.html">   50</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html">TableState::DeleteActor</a> : <span class="keyword">public</span> <a class="code" href="../../dd/d9e/classLifetimeActor.html">LifetimeActor</a> {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d6/d6f/classTableState_1_1DeleteActor.html#af9b48f602ddb94802c441f6f1a032892">   52</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#af9b48f602ddb94802c441f6f1a032892">DeleteActor</a>(<a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        : <a class="code" href="../../dd/d9e/classLifetimeActor.html">LifetimeActor</a>(ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#af48d7b8911475438f8dcb58fdd791753">replicator</a>()-&gt;server()-&gt;lifetime_manager()),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;          <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">ts_</a>(ts) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a66f6829241dc7d6901b436e203eab483">   57</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a66f6829241dc7d6901b436e203eab483">MayDelete</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">ts_</a>-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a4797a42c9e2979c822fee6ecf68a4121">MayDelete</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d6/d6f/classTableState_1_1DeleteActor.html#ab031071340d3595810a58d259788e096">   61</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#ab031071340d3595810a58d259788e096">Shutdown</a>() {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d6/d6f/classTableState_1_1DeleteActor.html#af3505e268f400e30889a19e6937f7a4f">   64</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#af3505e268f400e30889a19e6937f7a4f">Destroy</a>() {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">ts_</a>-&gt;<a class="code" href="../../dd/d9a/classTableState.html#af48d7b8911475438f8dcb58fdd791753">replicator</a>()-&gt;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a30d421c0fe1e5621d3e49a5f854bf38c">DeleteTableState</a>(<a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">ts_</a>-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a673c19868bd3b66d380b438ac18f0b3c">table</a>());</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">   69</a></span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *<a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">ts_</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;};</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a4b3cc1f571ae83e82b9c4eccf408a33a">   72</a></span>&#160;<a class="code" href="../../dd/d9a/classTableState.html#a4b3cc1f571ae83e82b9c4eccf408a33a">TableState::TableState</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html">RoutePathReplicator</a> *replicator, <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    : replicator_(replicator),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      table_(table),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      listener_id_(<a class="code" href="../../d7/df2/classDBTableBase.html">DBTableBase</a>::kInvalidId),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      deleter_(new <a class="code" href="../../d6/d6f/classTableState_1_1DeleteActor.html">DeleteActor</a>(this)),</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      table_delete_ref_(this, table-&gt;<a class="code" href="../../db/d83/structdeleter.html">deleter</a>()) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    assert(<a class="code" href="../../dd/d9a/classTableState.html#a673c19868bd3b66d380b438ac18f0b3c">table</a>-&gt;<a class="code" href="../../d0/def/classBgpTable.html#af5af7e396646606ce93c95f0365e0448">deleter</a>() != NULL);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a6f0aa8567f8d8e3d9ccfca5da144da83">   81</a></span>&#160;<a class="code" href="../../dd/d9a/classTableState.html#a6f0aa8567f8d8e3d9ccfca5da144da83">TableState::~TableState</a>() {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">walk_ref</a>() != NULL) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="../../dd/d9a/classTableState.html#a673c19868bd3b66d380b438ac18f0b3c">table</a>()-&gt;<a class="code" href="../../d5/d0a/classDBTable.html#aa510876627227108a8dbaa9decae3bb5">ReleaseWalker</a>(<a class="code" href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">walk_ref</a>());</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a1920f13299cafe2dfdc9411af1635299">   87</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d9a/classTableState.html#a1920f13299cafe2dfdc9411af1635299">TableState::ManagedDelete</a>() {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">deleter</a>()-&gt;<a class="code" href="../../dd/d9e/classLifetimeActor.html#a191ee854f04aa04e7046fe70d4963b6f">Delete</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a58504adb81d6bdbdc126f7f0146adaf8">   91</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/d9a/classTableState.html#a58504adb81d6bdbdc126f7f0146adaf8">TableState::deleted</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">deleter</a>()-&gt;<a class="code" href="../../dd/d9e/classLifetimeActor.html#a5eba36c599b876e1f8dcc3be7b1aeb23">IsDeleted</a>();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">   95</a></span>&#160;<a class="code" href="../../dd/d9e/classLifetimeActor.html">LifetimeActor</a> *<a class="code" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">TableState::deleter</a>() {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/classTableState.html#a3b05db11cdee87493c8a455007be2d2b">deleter_</a>.get();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a100b016e019fdefef43dba0bf615e54e">   99</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../dd/d9e/classLifetimeActor.html">LifetimeActor</a> *<a class="code" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">TableState::deleter</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/classTableState.html#a3b05db11cdee87493c8a455007be2d2b">deleter_</a>.get();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a4797a42c9e2979c822fee6ecf68a4121">  103</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/d9a/classTableState.html#a4797a42c9e2979c822fee6ecf68a4121">TableState::MayDelete</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/classTableState.html#affe6b03f9a4a027160441c15462641a5">list_</a>.empty() &amp;&amp; !<a class="code" href="../../dd/d9a/classTableState.html#af3c40eea86a7b53f0766e97ee53fba95">route_count</a>() &amp;&amp;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        ((<a class="code" href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">walk_ref</a>() == NULL) || !<a class="code" href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">walk_ref</a>()-&gt;walk_is_active()))</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#ad48dc24b7fb3576b0ee6e4468bd4bb2c">  110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d9a/classTableState.html#ad48dc24b7fb3576b0ee6e4468bd4bb2c">TableState::RetryDelete</a>() {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">deleter</a>()-&gt;IsDeleted())</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">deleter</a>()-&gt;<a class="code" href="../../dd/d9e/classLifetimeActor.html#a6fd805b59fb8bc1119ee7778f623596c">RetryDelete</a>();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a3d1b53eb1a57508beb3b30aae800dd5b">  116</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d9a/classTableState.html#a3d1b53eb1a57508beb3b30aae800dd5b">TableState::AddGroup</a>(<a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html#affe6b03f9a4a027160441c15462641a5">list_</a>.insert(group);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a1c91bfc4d00453c5778f82baf91b7090">  120</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d9a/classTableState.html#a1c91bfc4d00453c5778f82baf91b7090">TableState::RemoveGroup</a>(<a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html#affe6b03f9a4a027160441c15462641a5">list_</a>.erase(group);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#a899ee5fcdb2606e2012c0888a45eebd1">  124</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *<a class="code" href="../../dd/d9a/classTableState.html#a899ee5fcdb2606e2012c0888a45eebd1">TableState::FindGroup</a>(<a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    GroupList::const_iterator it = <a class="code" href="../../dd/d9a/classTableState.html#affe6b03f9a4a027160441c15462641a5">list_</a>.find(group);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> (it != <a class="code" href="../../dd/d9a/classTableState.html#affe6b03f9a4a027160441c15462641a5">list_</a>.end() ? *it : NULL);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../dd/d9a/classTableState.html#af3c40eea86a7b53f0766e97ee53fba95">  129</a></span>&#160;uint32_t <a class="code" href="../../dd/d9a/classTableState.html#af3c40eea86a7b53f0766e97ee53fba95">TableState::route_count</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/classTableState.html#aeadd93f4a3ea6b065ab5748aa8818f8f">table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a6db88b67b84999b9cfa054ebac38b1cf">GetDBStateCount</a>(<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../da/dbd/classRtReplicated.html#a4539a0358b71595adfbe3d847f1d04bb">  133</a></span>&#160;<a class="code" href="../../da/dbd/classRtReplicated.html#a4539a0358b71595adfbe3d847f1d04bb">RtReplicated::RtReplicated</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html">RoutePathReplicator</a> *replicator)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    : replicator_(replicator) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../da/dbd/classRtReplicated.html#a28cf25823d5ca42a39c12afece2124b5">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/dbd/classRtReplicated.html#a28cf25823d5ca42a39c12afece2124b5">RtReplicated::AddRouteInfo</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    ReplicatedRtPathList::const_iterator it) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    pair&lt;ReplicatedRtPathList::iterator, bool&gt; result;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    result = <a class="code" href="../../da/dbd/classRtReplicated.html#a3f71fbbd645a045670aace6e7be692fe">replicate_list_</a>.insert(*it);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    assert(result.second);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../da/dbd/classRtReplicated.html#a0711667eb9655d68bdcf27fd65efeb80">  144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/dbd/classRtReplicated.html#a0711667eb9655d68bdcf27fd65efeb80">RtReplicated::DeleteRouteInfo</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    ReplicatedRtPathList::const_iterator it) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="../../da/dbd/classRtReplicated.html#a4ebf395c1f7862f8e0ff5e6162a2f641">replicator_</a>-&gt;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a11f202cf56d157a499a59893d1dcb66a">DeleteSecondaryPath</a>(table, rt, *it);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../da/dbd/classRtReplicated.html#a3f71fbbd645a045670aace6e7be692fe">replicate_list_</a>.erase(it);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">// Return the list of secondary table names for the given primary path.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// We go through all SecondaryRouteInfos and skip the ones that don&#39;t</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// match the primary path.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../da/dbd/classRtReplicated.html#ad790497a89506851e82d4d7dc57c25a3">  155</a></span>&#160;vector&lt;string&gt; <a class="code" href="../../da/dbd/classRtReplicated.html#ad790497a89506851e82d4d7dc57c25a3">RtReplicated::GetTableNameList</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    vector&lt;string&gt; table_list;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html">SecondaryRouteInfo</a> &amp;rinfo, <a class="code" href="../../da/dbd/classRtReplicated.html#a3f71fbbd645a045670aace6e7be692fe">replicate_list_</a>) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (rinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a911d661170d209999b91bd230530b258">peer_</a> != path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>())</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">if</span> (rinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a92c0c7601a6566b50b66a1936bc09b69">path_id_</a> != path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a6284dadd76a06f19337a406dba117261">GetPathId</a>())</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">if</span> (rinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a455d9167dc6836921b0c34c2a383ae13">src_</a> != path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#ae586140cbe5d22634efdd18a06188277">GetSource</a>())</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        table_list.push_back(rinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>());</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> table_list;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a5cb8f247bf834edcf77acc7dfbae1e91">  169</a></span>&#160;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a5cb8f247bf834edcf77acc7dfbae1e91">RoutePathReplicator::RoutePathReplicator</a>(<a class="code" href="../../db/d26/classBgpServer.html">BgpServer</a> *server,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="../../de/d6b/classAddress.html#a58d0c167a9c218030c678110e9e69987">Address::Family</a> family)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    : server_(server),</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      family_(family),</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      vpn_table_(NULL),</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      trace_buf_(<a class="code" href="../../d0/db5/sandesh__trace_8h.html#ad09ddbb00929792cd2d9164441f09492">SandeshTraceBufferCreate</a>(<span class="stringliteral">&quot;RoutePathReplicator&quot;</span>, 500)) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#ad2c8cf4ba3d1d8742179ef89d8dc71fd">  177</a></span>&#160;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ad2c8cf4ba3d1d8742179ef89d8dc71fd">RoutePathReplicator::~RoutePathReplicator</a>() {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    assert(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.empty());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a2787cafd55e41d0d4679e2a677ad6dce">  181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a2787cafd55e41d0d4679e2a677ad6dce">RoutePathReplicator::Initialize</a>() {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    assert(!<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../d2/d72/classRoutingInstanceMgr.html">RoutingInstanceMgr</a> *mgr = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">server_</a>-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a43eb0f3a32d47b86eb7df4713bbb89a9">routing_instance_mgr</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    assert(mgr);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="../../de/ddf/classRoutingInstance.html">RoutingInstance</a> *master = mgr-&gt;<a class="code" href="../../d2/d72/classRoutingInstanceMgr.html#a6ebf31404a14e516e9d4a38cc8bd53b4">GetDefaultRoutingInstance</a>();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    assert(master);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a> = master-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#adff46853277535019d5d828bc1f74628">GetTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aa3838a39311ec6874fb0409ca8168caa">family_</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    assert(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    assert(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a7f9df745add56e5fcdf17bfee6fcc71a">AddTableState</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a7f9df745add56e5fcdf17bfee6fcc71a">  192</a></span>&#160;<a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a7f9df745add56e5fcdf17bfee6fcc71a">RoutePathReplicator::AddTableState</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    assert(table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a306bbc41c5a6837964b4766d9c7ac689">IsVpnTable</a>() || group);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    TableStateList::iterator loc = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.find(table);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (loc == <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.end()) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <span class="keyword">new</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a60094acbc00fa0082519902bc7a60f05">TableState</a>(<span class="keyword">this</span>, table);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../d7/df2/classDBTableBase.html#acec2b821673f83ccdbcbf2205d766328">DBTableBase::ListenerId</a> <span class="keywordtype">id</span> = table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a58ca11bafdf9674c431357ecaa893b96">Register</a>(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            boost::bind(&amp;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aeeba14bb5efb85afd5a05aecebc004e0">RoutePathReplicator::RouteListener</a>, <span class="keyword">this</span>, ts, _1, _2),</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="stringliteral">&quot;RoutePathReplicator&quot;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a8078c9a7e3c02bdc66033e3d7196e8bb">set_listener_id</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (group)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a3d1b53eb1a57508beb3b30aae800dd5b">AddGroup</a>(group);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.insert(make_pair(table, ts));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(RegTable, table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> ts;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        assert(group);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = loc-&gt;second;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a3d1b53eb1a57508beb3b30aae800dd5b">AddGroup</a>(group);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">return</span> ts;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a634e25bf531bca9d97197199729519d4">  216</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a634e25bf531bca9d97197199729519d4">RoutePathReplicator::RemoveTableState</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(table);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    assert(ts);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a1c91bfc4d00453c5778f82baf91b7090">RemoveGroup</a>(group);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a30d421c0fe1e5621d3e49a5f854bf38c">  222</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a30d421c0fe1e5621d3e49a5f854bf38c">RoutePathReplicator::DeleteTableState</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(table);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    assert(ts);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(UnregTable, table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>());</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#ac129112bd99b80830a6377aa9bf1c609">Unregister</a>(ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.erase(table);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">delete</span> ts;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">  231</a></span>&#160;<a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">RoutePathReplicator::FindTableState</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    TableStateList::iterator loc = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.find(table);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> (loc != <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.end() ? loc-&gt;second : NULL);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a6c8dc69d198de6d9b4e5d487da254b5b">  236</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">RoutePathReplicator::FindTableState</a>(</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    TableStateList::const_iterator loc =</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.find(<span class="keyword">const_cast&lt;</span><a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *<span class="keyword">&gt;</span>(table));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> (loc != <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">table_state_list_</a>.end() ? loc-&gt;second : NULL);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">  244</a></span>&#160;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">RoutePathReplicator::RequestWalk</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;bgp::Config&quot;</span>, <span class="stringliteral">&quot;bgp::ConfigHelper&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(table);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    assert(ts);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (!ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">walk_ref</a>()) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="../../d5/d0a/classDBTable.html#ad3172876c9c18a7f6a12772ce54879ea">DBTable::DBTableWalkRef</a> walk_ref = table-&gt;<a class="code" href="../../d5/d0a/classDBTable.html#a4cd7cf25eb51341e32e98c8005f33bb3">AllocWalker</a>(</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          boost::bind(&amp;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aeeba14bb5efb85afd5a05aecebc004e0">RoutePathReplicator::RouteListener</a>, <span class="keyword">this</span>, ts, _1, _2),</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          boost::bind(&amp;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a9ffd7bec0cd08dc31aef1bb02b6fe5fb">RoutePathReplicator::BulkReplicationDone</a>, <span class="keyword">this</span>, _2));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        table-&gt;<a class="code" href="../../d5/d0a/classDBTable.html#a7869bc4aceaa662eb5453bd29f4b54df">WalkTable</a>(walk_ref);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#aff0c442f129042a68406a875de95ad07">set_walk_ref</a>(walk_ref);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        table-&gt;<a class="code" href="../../d5/d0a/classDBTable.html#a000743f5b39b3e1fc06dbc9f443b8ffa">WalkAgain</a>(ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">walk_ref</a>());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a9ffd7bec0cd08dc31aef1bb02b6fe5fb">  260</a></span>&#160;<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a9ffd7bec0cd08dc31aef1bb02b6fe5fb">RoutePathReplicator::BulkReplicationDone</a>(<a class="code" href="../../d7/df2/classDBTableBase.html">DBTableBase</a> *dbtable) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;db::Walker&quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *<span class="keyword">&gt;</span>(dbtable);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(WalkDone, table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>());</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(table);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ad48dc24b7fb3576b0ee6e4468bd4bb2c">RetryDelete</a>();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#ab536cbdd4b3761ed75d6bb0f1a4a813c">  268</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab536cbdd4b3761ed75d6bb0f1a4a813c">RoutePathReplicator::JoinVpnTable</a>(<a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;bgp::Config&quot;</span>, <span class="stringliteral">&quot;bgp::ConfigHelper&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *vpn_ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!vpn_ts || vpn_ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#a899ee5fcdb2606e2012c0888a45eebd1">FindGroup</a>(group))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(TableJoin, <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a72c7fccdc7b49a3d18671f77ceb2bb3e">rt</a>().<a class="code" href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">ToString</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a4619d10e8e8aad2457b99dc85f90fc70">AddImportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(TableJoin, <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a72c7fccdc7b49a3d18671f77ceb2bb3e">rt</a>().<a class="code" href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">ToString</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a21bb1b4ad20a09629d9aae9364d2cc75">AddExportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a7f9df745add56e5fcdf17bfee6fcc71a">AddTableState</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>, group);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a33923ae4ed48490af7957bb1629b31be">  280</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a33923ae4ed48490af7957bb1629b31be">RoutePathReplicator::LeaveVpnTable</a>(<a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;bgp::Config&quot;</span>, <span class="stringliteral">&quot;bgp::ConfigHelper&quot;</span>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *vpn_ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (!vpn_ts)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(TableLeave, <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a72c7fccdc7b49a3d18671f77ceb2bb3e">rt</a>().<a class="code" href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">ToString</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a94ab280ed4e90d44ef0fdc26f37647f3">RemoveImportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(TableLeave, <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a72c7fccdc7b49a3d18671f77ceb2bb3e">rt</a>().<a class="code" href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">ToString</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a77004bcd9efa0f57e26f4c51db6efa04">RemoveExportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a634e25bf531bca9d97197199729519d4">RemoveTableState</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">vpn_table_</a>, group);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">// Add a given BgpTable to RtGroup of given RouteTarget.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">// It will create a new RtGroup if none exists.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">// In case of export RouteTarget, create TableState if it doesn&#39;t exist.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#abc2cc87ddd6b4190e58dc3fea9760448">  297</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#abc2cc87ddd6b4190e58dc3fea9760448">RoutePathReplicator::Join</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <span class="keyword">const</span> <a class="code" href="../../dd/d0f/classRouteTarget.html">RouteTarget</a> &amp;rt,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                               <span class="keywordtype">bool</span> <span class="keyword">import</span>) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;bgp::Config&quot;</span>, <span class="stringliteral">&quot;bgp::ConfigHelper&quot;</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    tbb::mutex::scoped_lock lock(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a341e20e97e1f56a35a0a6187361ce9d3">mutex_</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(TableJoin, table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), rt.<a class="code" href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">ToString</a>(), <span class="keyword">import</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">bool</span> first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>()-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">rtarget_group_mgr</a>()-&gt;<a class="code" href="../../da/d47/classRTargetGroupMgr.html#a67e0d09a3684d11d815cb00f01597df0">LocateRtGroup</a>(rt);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">import</span>) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        first = group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a4619d10e8e8aad2457b99dc85f90fc70">AddImportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), table);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a862b16f4c16b8d80ddff25a5a30c7071">HasDepRoutes</a>())</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>()-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">rtarget_group_mgr</a>()-&gt;<a class="code" href="../../da/d47/classRTargetGroupMgr.html#aa8aa0f6b262cf56d47b392c304246ca2">NotifyRtGroup</a>(rt);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aa3838a39311ec6874fb0409ca8168caa">family_</a> == <a class="code" href="../../de/d6b/classAddress.html#a58d0c167a9c218030c678110e9e69987abb069c400a63792e38aed961e280c935">Address::INETVPN</a>)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">server_</a>-&gt;<a class="code" href="../../db/d26/classBgpServer.html#ad3089ed15fd73369a30cef88d51cb854">NotifyAllStaticRoutes</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        BOOST_FOREACH(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *sec_table, group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#aee3ac5af8c3a80f02da8ddd8d800d685">GetExportTables</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>())) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">if</span> (sec_table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a306bbc41c5a6837964b4766d9c7ac689">IsVpnTable</a>() || sec_table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a70afef7ab99e415744d30bc173835745">empty</a>())</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">RequestWalk</a>(sec_table);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        first = group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a21bb1b4ad20a09629d9aae9364d2cc75">AddExportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), table);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a7f9df745add56e5fcdf17bfee6fcc71a">AddTableState</a>(table, group);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (!table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a70afef7ab99e415744d30bc173835745">empty</a>()) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">RequestWalk</a>(table);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Join the vpn table when group is created.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (first)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab536cbdd4b3761ed75d6bb0f1a4a813c">JoinVpnTable</a>(group);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">// Remove a BgpTable from RtGroup of given RouteTarget.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// If the last group is going away, the RtGroup will be removed</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// In case of export RouteTarget, trigger remove of TableState appropriate.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#af4ed660f7a6c3047054073f9dccf07b7">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#af4ed660f7a6c3047054073f9dccf07b7">RoutePathReplicator::Leave</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <span class="keyword">const</span> <a class="code" href="../../dd/d0f/classRouteTarget.html">RouteTarget</a> &amp;rt,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                <span class="keywordtype">bool</span> <span class="keyword">import</span>) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;bgp::Config&quot;</span>, <span class="stringliteral">&quot;bgp::ConfigHelper&quot;</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    tbb::mutex::scoped_lock lock(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a341e20e97e1f56a35a0a6187361ce9d3">mutex_</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>()-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">rtarget_group_mgr</a>()-&gt;<a class="code" href="../../da/d47/classRTargetGroupMgr.html#af9c43a9d0c9958d7a1a80f2e98dc82d9">GetRtGroup</a>(rt);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    assert(group);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(TableLeave, table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), rt.<a class="code" href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">ToString</a>(), <span class="keyword">import</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">import</span>) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a94ab280ed4e90d44ef0fdc26f37647f3">RemoveImportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), table);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">if</span> (group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a862b16f4c16b8d80ddff25a5a30c7071">HasDepRoutes</a>())</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>()-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">rtarget_group_mgr</a>()-&gt;<a class="code" href="../../da/d47/classRTargetGroupMgr.html#aa8aa0f6b262cf56d47b392c304246ca2">NotifyRtGroup</a>(rt);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aa3838a39311ec6874fb0409ca8168caa">family_</a> == <a class="code" href="../../de/d6b/classAddress.html#a58d0c167a9c218030c678110e9e69987abb069c400a63792e38aed961e280c935">Address::INETVPN</a>)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">server_</a>-&gt;<a class="code" href="../../db/d26/classBgpServer.html#ad3089ed15fd73369a30cef88d51cb854">NotifyAllStaticRoutes</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        BOOST_FOREACH(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *sec_table, group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#aee3ac5af8c3a80f02da8ddd8d800d685">GetExportTables</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>())) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span> (sec_table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a306bbc41c5a6837964b4766d9c7ac689">IsVpnTable</a>() || sec_table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a70afef7ab99e415744d30bc173835745">empty</a>())</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">RequestWalk</a>(sec_table);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a77004bcd9efa0f57e26f4c51db6efa04">RemoveExportTable</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>(), table);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a634e25bf531bca9d97197199729519d4">RemoveTableState</a>(table, group);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> (!table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a70afef7ab99e415744d30bc173835745">empty</a>()) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">RequestWalk</a>(table);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Leave the vpn table when the last VRF has left the group.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (!group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#acc0dab2ed403530c0aa4b6f359c3d914">HasVrfTables</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>())) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a33923ae4ed48490af7957bb1629b31be">LeaveVpnTable</a>(group);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>()-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">rtarget_group_mgr</a>()-&gt;<a class="code" href="../../da/d47/classRTargetGroupMgr.html#a1b10f50fe6b244dc75c29343080bc623">RemoveRtGroup</a>(rt);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a703e5ab64ac77f9cffb91d62ffd5cd1d">  370</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a703e5ab64ac77f9cffb91d62ffd5cd1d">RoutePathReplicator::DBStateSync</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt, <a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *dbstate,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/dbd/classRtReplicated.html#a8b54c6a2c9ce523e6dc0670174cdfdbc">RtReplicated::ReplicatedRtPathList</a> *future) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="../../db/ddd/set__util_8h.html#a067b995af9dcfdbcbc405204332c0549">set_synchronize</a>(dbstate-&gt;<a class="code" href="../../da/dbd/classRtReplicated.html#a6304a4c1a31c988f45bfd6f5357cdb31">GetMutableList</a>(), future,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        boost::bind(&amp;<a class="code" href="../../da/dbd/classRtReplicated.html#a28cf25823d5ca42a39c12afece2124b5">RtReplicated::AddRouteInfo</a>, dbstate, table, rt, _1),</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        boost::bind(&amp;<a class="code" href="../../da/dbd/classRtReplicated.html#a0711667eb9655d68bdcf27fd65efeb80">RtReplicated::DeleteRouteInfo</a>, dbstate, table, rt, _1));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (dbstate-&gt;<a class="code" href="../../da/dbd/classRtReplicated.html#a8ae4fcd894f3c3b69c894c6d19b61736">GetList</a>().empty()) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a62fa4794268381f4287f95adf8704de6">ClearState</a>(table, ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>());</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keyword">delete</span> dbstate;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">if</span> (table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#a6db88b67b84999b9cfa054ebac38b1cf">GetDBStateCount</a>(ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>()) == 0)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ad48dc24b7fb3576b0ee6e4468bd4bb2c">RetryDelete</a>();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="../../d4/d40/routepath__replicator_8cc.html#af6853491763a5bf4f11363809cfecf0a">  385</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a> <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#af6853491763a5bf4f11363809cfecf0a">UpdateOriginVn</a>(<a class="code" href="../../db/d26/classBgpServer.html">BgpServer</a> *server,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html">ExtCommunity</a> *ext_community,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                      <span class="keywordtype">int</span> vn_index) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="../../db/d4e/bgp__common_8h.html#add8e85a92ef8e9194921ce44a16d8b5c">as_t</a> asn = server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a936dcd6c87b2cc752c3eb37d6d4c26eb">autonomous_system</a>();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a> extcomm_ptr;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (vn_index) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (asn &gt; <a class="code" href="../../db/d4e/bgp__common_8h.html#a6217a74d7cf8aeb28b2483acf90c5fda">AS2_MAX</a> &amp;&amp; vn_index &gt; 0xffff) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <a class="code" href="../../d9/d40/classOriginVn.html">OriginVn</a> origin_vn(asn, <a class="code" href="../../db/d4e/bgp__common_8h.html#a3f7cf820fc365a92523b26d0dc0831cb">AS_TRANS</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            extcomm_ptr = server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a11d3641787a525001c39958986c10d8b">extcomm_db</a>()-&gt;<a class="code" href="../../d2/ddb/classExtCommunityDB.html#adabed51b1c1bb5fcadf1a311beb63a88">ReplaceOriginVnAndLocate</a>(</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                ext_community, origin_vn.<a class="code" href="../../d9/d40/classOriginVn.html#a98d7269b86e91d56e73672b1d25ada82">GetExtCommunity</a>());</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="../../d9/d40/classOriginVn.html">OriginVn</a> origin_vn2(<a class="code" href="../../db/d4e/bgp__common_8h.html#a3f7cf820fc365a92523b26d0dc0831cb">AS_TRANS</a>, vn_index);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            extcomm_ptr = server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a11d3641787a525001c39958986c10d8b">extcomm_db</a>()-&gt;<a class="code" href="../../d2/ddb/classExtCommunityDB.html#a13407442f3bebfadb44cef63faec164b">AppendAndLocate</a>(</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                extcomm_ptr.get(), origin_vn2.<a class="code" href="../../d9/d40/classOriginVn.html#a98d7269b86e91d56e73672b1d25ada82">GetExtCommunity</a>());</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <a class="code" href="../../d9/d40/classOriginVn.html">OriginVn</a> origin_vn(asn, vn_index);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            extcomm_ptr = server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a11d3641787a525001c39958986c10d8b">extcomm_db</a>()-&gt;<a class="code" href="../../d2/ddb/classExtCommunityDB.html#adabed51b1c1bb5fcadf1a311beb63a88">ReplaceOriginVnAndLocate</a>(</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                ext_community, origin_vn.<a class="code" href="../../d9/d40/classOriginVn.html#a98d7269b86e91d56e73672b1d25ada82">GetExtCommunity</a>());</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">return</span> extcomm_ptr;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    extcomm_ptr = server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a11d3641787a525001c39958986c10d8b">extcomm_db</a>()-&gt;<a class="code" href="../../d2/ddb/classExtCommunityDB.html#aeee37a16f9de61d22d55623e442bd633">RemoveOriginVnAndLocate</a>(ext_community);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> extcomm_ptr;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">// Update the ExtCommunity with the RouteTargets from the export list</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">// and the OriginVn. The OriginVn is derived from the RouteTargets in</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">// vpn routes.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="../../d4/d40/routepath__replicator_8cc.html#af7c41b3869905ebf1cd0b5dd4abf7931">  414</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a> <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#af7c41b3869905ebf1cd0b5dd4abf7931">UpdateExtCommunity</a>(<a class="code" href="../../db/d26/classBgpServer.html">BgpServer</a> *server,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../de/ddf/classRoutingInstance.html">RoutingInstance</a> *rtinstance, <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html">ExtCommunity</a> *ext_community,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html#a4fcc6e4052f4d113fce6afee7c0aef48">ExtCommunity::ExtCommunityList</a> &amp;export_list) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// Add RouteTargets exported by the instance for a non-master instance.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a> extcomm_ptr;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (!rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#af94df463231787adb37889c6bcadf905">IsMasterRoutingInstance</a>()) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        extcomm_ptr =</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a11d3641787a525001c39958986c10d8b">extcomm_db</a>()-&gt;<a class="code" href="../../d2/ddb/classExtCommunityDB.html#a13407442f3bebfadb44cef63faec164b">AppendAndLocate</a>(ext_community, export_list);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">return</span> extcomm_ptr;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Bail if we have a vpn route without extended communities.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (!ext_community)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a>(NULL);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// Nothing to do if we already have the OriginVn community with our AS</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// or with a vn index from the global range.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> &amp;comm,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                  ext_community-&gt;<a class="code" href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">communities</a>()) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../da/d36/classExtCommunity.html#aa7a1660cc0a873c71dbaf9abf4364769">ExtCommunity::is_origin_vn</a>(comm))</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="../../d9/d40/classOriginVn.html">OriginVn</a> origin_vn(comm);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">if</span> (!origin_vn.<a class="code" href="../../d9/d40/classOriginVn.html#a03ea8f4c698f499fee05d77b3b99e2c2">IsGlobal</a>() &amp;&amp;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            origin_vn.<a class="code" href="../../d9/d40/classOriginVn.html#a0ee17ddb790acbfd3a79201a82aa7156">as_number</a>() != server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a936dcd6c87b2cc752c3eb37d6d4c26eb">autonomous_system</a>()) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a>(ext_community);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// Add the OriginVn if we have a valid vn index.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">int</span> vn_index =</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        server-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a43eb0f3a32d47b86eb7df4713bbb89a9">routing_instance_mgr</a>()-&gt;<a class="code" href="../../d2/d72/classRoutingInstanceMgr.html#a09d2ea4ff8a5dac47e49d12af6c51e18">GetVnIndexByExtCommunity</a>(ext_community);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#af6853491763a5bf4f11363809cfecf0a">UpdateOriginVn</a>(server, ext_community, vn_index);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">// Concurrency: Called in the context of the DB partition task.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">// This function handles</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">//   1. Table Notification for path replication</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">//   2. Table walk for import/export of new targets</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">// Replicate a path (clone the BgpPath) to secondary BgpTables based on the</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">// export targets of the primary BgpTable.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">// If primary table is a VRF table attach it&#39;s export targets to replicated</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">// path in the VPN table.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#aeeba14bb5efb85afd5a05aecebc004e0">  461</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aeeba14bb5efb85afd5a05aecebc004e0">RoutePathReplicator::RouteListener</a>(<a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a> *root, <a class="code" href="../../d8/d44/classDBEntryBase.html">DBEntryBase</a> *entry) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a>(<span class="stringliteral">&quot;db::DBTable&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *<span class="keyword">&gt;</span>(root-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">parent</a>());</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *<span class="keyword">&gt;</span>(entry);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../de/ddf/classRoutingInstance.html">RoutingInstance</a> *rtinstance = table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a49b826c28aa443dcc2c755af75e9dec6">routing_instance</a>();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="../../d7/df2/classDBTableBase.html#acec2b821673f83ccdbcbf2205d766328">DBTableBase::ListenerId</a> <span class="keywordtype">id</span> = ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    assert(<span class="keywordtype">id</span> != <a class="code" href="../../d7/df2/classDBTableBase.html#a9f280152749cd0aa47c12b622daf6ccb">DBTableBase::kInvalidId</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// Get the DBState.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *dbstate =</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *<span class="keyword">&gt;</span>(rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a30b3fad9d44882f47eb246c9b19cd579">GetState</a>(table, <span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="../../da/dbd/classRtReplicated.html#a8b54c6a2c9ce523e6dc0670174cdfdbc">RtReplicated::ReplicatedRtPathList</a> replicated_path_list;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">//Flag to track if any change happenned to route in last 30 minutes</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordtype">bool</span> route_unchanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="comment">//List of tables that needs replication of route</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a> addedTables;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">//List of tables that doesn&#39;t need replication of route</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a> deletedTables;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">//List of tables having the latest changes in route</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a> previousTables;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">//Threshold used for optimised replication</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    uint64_t optimizationThresholdTime = 30ULL * 60 * 1000000;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    uint64_t start = <a class="code" href="../../d0/d91/time__util_8h.html#afd0d4d28c676a532b89ce6cfd1fc7e95">UTCTimestampUsec</a>();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">//Optimize only if last route change occurred 30 mins before.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">//We update the route_unchanged flag to true</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> ( (start - rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a3e5f199bbed8863b141d3cc1af81fbf8">last_update_at</a>() &gt; optimizationThresholdTime) &amp;&amp;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;          dbstate != NULL)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#aeeba14bb5efb85afd5a05aecebc004e0">RouteListener</a>, <span class="stringliteral">&quot;Route change occurred before threshold \</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="stringliteral">        time, optimising replication&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        route_unchanged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// Cleanup if the route is not usable.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// If route aggregation is enabled, contributing route/more specific route</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// for a aggregate route will NOT be replicated to destination table</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (!rt-&gt;<a class="code" href="../../d6/dbd/classBgpRoute.html#ab237eb65b2f5957623b022bd53453e45">IsUsable</a>() || (table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a8adf12bf476098ae54b9282202e72ef8">IsRouteAggregationSupported</a>() &amp;&amp;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                            !rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#a16b1960dca35e58893fd73a6e4700a32">deleted</a>() &amp;&amp;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                            table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a2c5a959f2f671c40c573917637d33e30">IsContributingRoute</a>(rt))) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">if</span> (!dbstate) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a703e5ab64ac77f9cffb91d62ffd5cd1d">DBStateSync</a>(table, ts, rt, dbstate, &amp;replicated_path_list);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// Create and set new DBState on the route.  This will get cleaned up via</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// via the call to DBStateSync if we don&#39;t need to replicate the route to</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// any tables.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (dbstate == NULL) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        dbstate = <span class="keyword">new</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a00b7d2b92950b777f49f4f698a67199a">RtReplicated</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#aecee6124adfd4bae453b29ad3e2dc067">SetState</a>(table, <span class="keywordtype">id</span>, dbstate);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// Get the export route target list from the routing instance.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="../../da/d36/classExtCommunity.html#a4fcc6e4052f4d113fce6afee7c0aef48">ExtCommunity::ExtCommunityList</a> export_list;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (!rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#af94df463231787adb37889c6bcadf905">IsMasterRoutingInstance</a>()) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        BOOST_FOREACH(<a class="code" href="../../dd/d0f/classRouteTarget.html">RouteTarget</a> rtarget, rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#ad54d8f3aa6aff285d01db3f33cb11eea">GetExportList</a>()) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            export_list.push_back(rtarget.<a class="code" href="../../dd/d0f/classRouteTarget.html#afc55e01194b7262b39a6a65d0b48ff1b">GetExtCommunity</a>());</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// Updating previousTables with the list of tables having the information</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// about the route.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (route_unchanged){</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        replicated_path_list = dbstate-&gt;<a class="code" href="../../da/dbd/classRtReplicated.html#a8ae4fcd894f3c3b69c894c6d19b61736">GetList</a>();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        BOOST_FOREACH (<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html">RtReplicated::SecondaryRouteInfo</a> path,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                       replicated_path_list){</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            previousTables.insert(path.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">table_</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">// Replicate all feasible and non-replicated paths.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">for</span> (Route::PathList::iterator it = rt-&gt;<a class="code" href="../../de/df8/classRoute.html#a49d8d04d1f4c15575dde4f8760dfb779">GetPathList</a>().begin();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        it != rt-&gt;<a class="code" href="../../de/df8/classRoute.html#a49d8d04d1f4c15575dde4f8760dfb779">GetPathList</a>().end(); ++it) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *<span class="keyword">&gt;</span>(it.operator-&gt;());</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// Skip if the source peer is down.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span> (!path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a73583e2a5991a7045e9563095a11baf8">IsStale</a>() &amp;&amp; !path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#af72a66becc5fd158e153fb283c89269c">IsLlgrStale</a>() &amp;&amp; path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>() &amp;&amp;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            !path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>()-&gt;<a class="code" href="../../dd/d38/classIPeer.html#a4a0f185c84c943bddc08879297de385f">IsReady</a>())</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">// No need to replicate aliased or replicated paths.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="keywordflow">if</span> (path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a8e7b1c967e3831c136b0437319b79dc3">IsReplicated</a>() || path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a2549360812e6ea0fde37bcc5c317ffad">IsAliased</a>())</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">// Do not replicate non-ecmp paths.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> (rt-&gt;<a class="code" href="../../d6/dbd/classBgpRoute.html#a6ed6f992ae97aa0d7675cb4cebab949e">BestPath</a>()-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#aead42c841ac82b2ab5bdb9f99207d503">PathCompare</a>(*path, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// Do not replicate if nexthop is not hitched by ermvpn tree.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#af94d894499c2ad1bbc3ab2b628a7ac8c">CheckErmVpn</a>())</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr = path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#ab2964ebef496ce3c14f457bd5e3e04c9">GetAttr</a>();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html">ExtCommunity</a> *ext_community = attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#ab5d58214ded24f3074bb3fafca9af08a">ext_community</a>();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a> extcomm_ptr =</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;          <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#af7c41b3869905ebf1cd0b5dd4abf7931">UpdateExtCommunity</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>(), rtinstance, ext_community, export_list);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        ext_community = extcomm_ptr.get();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">if</span> (!ext_community)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// Go through all extended communities.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="comment">// Get the vn_index from the OriginVn extended community.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// For each RouteTarget extended community, get the list of tables</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="comment">// to which we need to replicate the path.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordtype">int</span> vn_index = 0;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a> secondary_tables;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> &amp;comm,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                      ext_community-&gt;<a class="code" href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">communities</a>()) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d36/classExtCommunity.html#aa7a1660cc0a873c71dbaf9abf4364769">ExtCommunity::is_origin_vn</a>(comm)) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <a class="code" href="../../d9/d40/classOriginVn.html">OriginVn</a> origin_vn(comm);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                vn_index = origin_vn.<a class="code" href="../../d9/d40/classOriginVn.html#a2a99a8009f48503299b581af042feaab">vn_index</a>();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/d36/classExtCommunity.html#a0cf4e6823900985792c350827040c8c1">ExtCommunity::is_route_target</a>(comm)) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <a class="code" href="../../db/d6b/classRtGroup.html">RtGroup</a> *group =</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">server</a>()-&gt;<a class="code" href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">rtarget_group_mgr</a>()-&gt;<a class="code" href="../../da/d47/classRTargetGroupMgr.html#af9c43a9d0c9958d7a1a80f2e98dc82d9">GetRtGroup</a>(comm);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">if</span> (!group)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <a class="code" href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a> import_list =</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    group-&gt;<a class="code" href="../../db/d6b/classRtGroup.html#a12defaa2cfccf54352d1fc72c00b695f">GetImportTables</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">family</a>());</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">if</span> (import_list.empty())</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                secondary_tables.insert(import_list.begin(), import_list.end());</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="comment">// Update with family specific secondary tables.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#ac61606ff4bc07deec33b2a2554d13ce7">UpdateSecondaryTablesForReplication</a>(rt, &amp;secondary_tables);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// Skip if we don&#39;t need to replicate the path to any tables.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">if</span> (secondary_tables.empty())</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment">// Add OriginVn when replicating self-originated routes from a VRF.</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (!vn_index &amp;&amp; !rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#af94df463231787adb37889c6bcadf905">IsMasterRoutingInstance</a>() &amp;&amp;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a0dc72eb8333d09faa92f855042905667">IsVrfOriginated</a>() &amp;&amp; rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#ab6649555e35fcdb116180e09d443c0be">virtual_network_index</a>()) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            vn_index = rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#ab6649555e35fcdb116180e09d443c0be">virtual_network_index</a>();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            extcomm_ptr = <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#af6853491763a5bf4f11363809cfecf0a">UpdateOriginVn</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">server_</a>, extcomm_ptr.get(), vn_index);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> (route_unchanged){</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            addedTables = <a class="code" href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a>();</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="comment">// Finding the difference between sets, secondary_tables and</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="comment">// previousTables</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            std::set_difference(secondary_tables.begin(), secondary_tables.end(),</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                previousTables.begin(), previousTables.end(),</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                std::inserter(addedTables, addedTables.end()));</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            std::set_difference(previousTables.begin(), previousTables.end(),</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                secondary_tables.begin(), secondary_tables.end(),</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                std::inserter(deletedTables, deletedTables.end()));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            BOOST_FOREACH (<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html">RtReplicated::SecondaryRouteInfo</a> path,</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                       dbstate-&gt;<a class="code" href="../../da/dbd/classRtReplicated.html#a8ae4fcd894f3c3b69c894c6d19b61736">GetList</a>()){</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <span class="keywordflow">if</span> (deletedTables.find(path.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">table_</a>)!=deletedTables.end()) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    replicated_path_list.erase(path);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="comment">//Updating the secondary tables with the difference.</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            secondary_tables = addedTables;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// Replicate path to all destination tables.</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        BOOST_FOREACH(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *dest, secondary_tables) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="comment">// Skip if destination is same as source table.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">if</span> (dest == table)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../de/ddf/classRoutingInstance.html">RoutingInstance</a> *dest_rtinstance = dest-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a49b826c28aa443dcc2c755af75e9dec6">routing_instance</a>();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <a class="code" href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a> new_extcomm_ptr = extcomm_ptr;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="comment">// If the origin vn is unresolved, see if route has a RouteTarget</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="comment">// that&#39;s in the set of export RouteTargets for the dest instance.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">// If so, we set the origin vn for the replicated route to be the</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="comment">// vn for the dest instance.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (!vn_index &amp;&amp; dest_rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#ab6649555e35fcdb116180e09d443c0be">virtual_network_index</a>() &amp;&amp;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                dest_rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#a4fd42d17c3cea5e57ca237614b2a4167">HasExportTarget</a>(ext_community)) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="keywordtype">int</span> dest_vn_index = dest_rtinstance-&gt;<a class="code" href="../../de/ddf/classRoutingInstance.html#ab6649555e35fcdb116180e09d443c0be">virtual_network_index</a>();</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                new_extcomm_ptr = <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#af6853491763a5bf4f11363809cfecf0a">UpdateOriginVn</a>(<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">server_</a>, extcomm_ptr.get(),</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                                 dest_vn_index);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="comment">// Replicate the route to the destination table.  The destination</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="comment">// table may decide to not replicate based on it&#39;s own policy e.g.</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="comment">// multicast routes are never leaked across routing-instances.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *replicated_rt = dest-&gt;<a class="code" href="../../d0/def/classBgpTable.html#a47693bf172b75faf5d174678ca9a4442">RouteReplicate</a>(</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">server_</a>, table, rt, path, new_extcomm_ptr);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">if</span> (!replicated_rt)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="comment">// Add information about the secondary path to the replicated path</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="comment">// list.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html">RtReplicated::SecondaryRouteInfo</a> rtinfo(dest, path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>(),</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a6284dadd76a06f19337a406dba117261">GetPathId</a>(), path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#ae586140cbe5d22634efdd18a06188277">GetSource</a>(), replicated_rt);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            pair&lt;RtReplicated::ReplicatedRtPathList::iterator, bool&gt; result;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            result = replicated_path_list.insert(rtinfo);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="comment">// Assert if the insertion to replication path list fails</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">if</span> (!route_unchanged)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                assert(result.second);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#aea7d2a23d84d20467081e97f2ec0fe6c">RPR_TRACE_ONLY</a>(Replicate, table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>(),</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                           path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a1b8248f352d037a65f8a200dc1ed73a4">ToString</a>(),</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                           <a class="code" href="../../d7/d0c/classBgpPath.html#a6b5b4b6bded1c3c205bae585a0fefde2">BgpPath::PathIdString</a>(path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a6284dadd76a06f19337a406dba117261">GetPathId</a>()),</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                           dest-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), replicated_rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>());</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// Update the DBState to reflect the new list of secondary paths. The</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// DBState will get cleared if the list is empty.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a703e5ab64ac77f9cffb91d62ffd5cd1d">DBStateSync</a>(table, ts, rt, dbstate, &amp;replicated_path_list);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a98a33bb22a6f0956047c0fe8ffc68db7">  681</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *<a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a98a33bb22a6f0956047c0fe8ffc68db7">RoutePathReplicator::GetReplicationState</a>(</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(table);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (!ts)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *dbstate =</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *<span class="keyword">&gt;</span>(rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a30b3fad9d44882f47eb246c9b19cd579">GetState</a>(table, ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>()));</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> dbstate;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">// Return the list of secondary table names for the given primary path.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#ac1fedb9f0f0c8bfd605be96091384729">  694</a></span>&#160;vector&lt;string&gt; <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ac1fedb9f0f0c8bfd605be96091384729">RoutePathReplicator::GetReplicatedTableNameList</a>(</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <span class="keyword">const</span> <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt, <span class="keyword">const</span> <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d9a/classTableState.html">TableState</a> *ts = <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">FindTableState</a>(table);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (!ts)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span> vector&lt;string&gt;();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *dbstate = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../da/dbd/classRtReplicated.html">RtReplicated</a> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a30b3fad9d44882f47eb246c9b19cd579">GetState</a>(table, ts-&gt;<a class="code" href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">listener_id</a>()));</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (!dbstate)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">return</span> vector&lt;string&gt;();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span> dbstate-&gt;<a class="code" href="../../da/dbd/classRtReplicated.html#ad790497a89506851e82d4d7dc57c25a3">GetTableNameList</a>(path);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="../../d3/dd9/classRoutePathReplicator.html#a11f202cf56d157a499a59893d1dcb66a">  706</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d3/dd9/classRoutePathReplicator.html#a11f202cf56d157a499a59893d1dcb66a">RoutePathReplicator::DeleteSecondaryPath</a>(<a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *table, <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt,</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html">RtReplicated::SecondaryRouteInfo</a> &amp;rtinfo) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *rt_secondary = rtinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#afb3ac5d2e87652b7d92be8ae388499ae">rt_</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="../../d0/def/classBgpTable.html">BgpTable</a> *secondary_table = rtinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">table_</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d38/classIPeer.html">IPeer</a> *peer = rtinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a911d661170d209999b91bd230530b258">peer_</a>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    uint32_t path_id = rtinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a92c0c7601a6566b50b66a1936bc09b69">path_id_</a>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0">BgpPath::PathSource</a> src = rtinfo.<a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a455d9167dc6836921b0c34c2a383ae13">src_</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a> *partition =</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        secondary_table-&gt;<a class="code" href="../../d5/d0a/classDBTable.html#abdc783ae6c9e307f0934728526963804">GetTablePartition</a>(rt_secondary);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *secondary_path = rt_secondary-&gt;<a class="code" href="../../d6/dbd/classBgpRoute.html#ab42ff4db7d866f8c43b74abb0dda7bc6">FindSecondaryPath</a>(rt, src,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                                              peer, path_id);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (secondary_path &amp;&amp; secondary_path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a6f34789deaa57952ec4927e7096da21e">NeedsResolution</a>()) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;       secondary_table-&gt;<a class="code" href="../../d0/def/classBgpTable.html#aab98e8fb1d0266de0e36dbeb5ed866bc">path_resolver</a>()-&gt;<a class="code" href="../../d1/d31/classPathResolver.html#a779277f5fd63b60121bc26a949102ba5">StopPathResolution</a>(partition-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#ab2c2209d80e30404b505fed9efb59e92">index</a>(),</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                                                       secondary_path);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    assert(rt_secondary-&gt;<a class="code" href="../../d6/dbd/classBgpRoute.html#ab15ef4e4dfd191557d5605ae8a918d2b">RemoveSecondaryPath</a>(rt, src, peer, path_id));</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (rt_secondary-&gt;<a class="code" href="../../d6/dbd/classBgpRoute.html#ab42d07fb69a5e18ee4262c36fa76cba7">count</a>() == 0) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#aea7d2a23d84d20467081e97f2ec0fe6c">RPR_TRACE_ONLY</a>(Flush, secondary_table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), rt_secondary-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>(),</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                       peer ? peer-&gt;<a class="code" href="../../dd/d38/classIPeer.html#a4770db71267187cf7aa665d344272199">ToString</a>() : <span class="stringliteral">&quot;Nil&quot;</span>,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                       <a class="code" href="../../d7/d0c/classBgpPath.html#a6b5b4b6bded1c3c205bae585a0fefde2">BgpPath::PathIdString</a>(path_id), table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(),</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                       rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>(), <span class="stringliteral">&quot;Delete&quot;</span>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        partition-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a866048e74826317ec97c1a8424bdc5e0">Delete</a>(rt_secondary);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        partition-&gt;<a class="code" href="../../d3/da7/classDBTablePartBase.html#a0c7a5bdb3d0299137af4c91b61546e92">Notify</a>(rt_secondary);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="../../d4/d40/routepath__replicator_8cc.html#aea7d2a23d84d20467081e97f2ec0fe6c">RPR_TRACE_ONLY</a>(Flush, secondary_table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(), rt_secondary-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>(),</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                       peer ? peer-&gt;<a class="code" href="../../dd/d38/classIPeer.html#a4770db71267187cf7aa665d344272199">ToString</a>() : <span class="stringliteral">&quot;Nil&quot;</span>,</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                       <a class="code" href="../../d7/d0c/classBgpPath.html#a6b5b4b6bded1c3c205bae585a0fefde2">BgpPath::PathIdString</a>(path_id), table-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>(),</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                       rt-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>(), <span class="stringliteral">&quot;Path update&quot;</span>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a740c99a2f4f34abb6cdb02b649f43e65">  738</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a740c99a2f4f34abb6cdb02b649f43e65">RtReplicated::SecondaryRouteInfo::ToString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    ostringstream out;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    out &lt;&lt; <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">table_</a>-&gt;<a class="code" href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">name</a>() &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">table_</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a911d661170d209999b91bd230530b258">peer_</a>-&gt;<a class="code" href="../../dd/d38/classIPeer.html#a4770db71267187cf7aa665d344272199">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a911d661170d209999b91bd230530b258">peer_</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#afb3ac5d2e87652b7d92be8ae388499ae">rt_</a>-&gt;<a class="code" href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#afb3ac5d2e87652b7d92be8ae388499ae">rt_</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span> out.str();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div>
<div class="ttc" id="abgp__common_8h_html_a3f7cf820fc365a92523b26d0dc0831cb"><div class="ttname"><a href="../../db/d4e/bgp__common_8h.html#a3f7cf820fc365a92523b26d0dc0831cb">AS_TRANS</a></div><div class="ttdeci">#define AS_TRANS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4e/bgp__common_8h_source.html#l00023">bgp_common.h:23</a></div></div>
<div class="ttc" id="abgp__common_8h_html_a6217a74d7cf8aeb28b2483acf90c5fda"><div class="ttname"><a href="../../db/d4e/bgp__common_8h.html#a6217a74d7cf8aeb28b2483acf90c5fda">AS2_MAX</a></div><div class="ttdeci">#define AS2_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4e/bgp__common_8h_source.html#l00024">bgp_common.h:24</a></div></div>
<div class="ttc" id="abgp__common_8h_html_add8e85a92ef8e9194921ce44a16d8b5c"><div class="ttname"><a href="../../db/d4e/bgp__common_8h.html#add8e85a92ef8e9194921ce44a16d8b5c">as_t</a></div><div class="ttdeci">uint32_t as_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4e/bgp__common_8h_source.html#l00021">bgp_common.h:21</a></div></div>
<div class="ttc" id="abgp__config_8h_html"><div class="ttname"><a href="../../df/d8a/bgp__config_8h.html">bgp_config.h</a></div></div>
<div class="ttc" id="abgp__log_8h_html"><div class="ttname"><a href="../../d1/d1a/bgp__log_8h.html">bgp_log.h</a></div></div>
<div class="ttc" id="abgp__route_8h_html"><div class="ttname"><a href="../../d2/d82/bgp__route_8h.html">bgp_route.h</a></div></div>
<div class="ttc" id="abgp__server_8h_html"><div class="ttname"><a href="../../d6/d53/bgp__server_8h.html">bgp_server.h</a></div></div>
<div class="ttc" id="aclassAddress_html_a58d0c167a9c218030c678110e9e69987"><div class="ttname"><a href="../../de/d6b/classAddress.html#a58d0c167a9c218030c678110e9e69987">Address::Family</a></div><div class="ttdeci">Family</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9b/address_8h_source.html#l00024">address.h:24</a></div></div>
<div class="ttc" id="aclassAddress_html_a58d0c167a9c218030c678110e9e69987abb069c400a63792e38aed961e280c935"><div class="ttname"><a href="../../de/d6b/classAddress.html#a58d0c167a9c218030c678110e9e69987abb069c400a63792e38aed961e280c935">Address::INETVPN</a></div><div class="ttdeci">@ INETVPN</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9b/address_8h_source.html#l00028">address.h:28</a></div></div>
<div class="ttc" id="aclassBgpAttr_html"><div class="ttname"><a href="../../d5/dcf/classBgpAttr.html">BgpAttr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4d/bgp__attr_8h_source.html#l00825">bgp_attr.h:825</a></div></div>
<div class="ttc" id="aclassBgpAttr_html_ab5d58214ded24f3074bb3fafca9af08a"><div class="ttname"><a href="../../d5/dcf/classBgpAttr.html#ab5d58214ded24f3074bb3fafca9af08a">BgpAttr::ext_community</a></div><div class="ttdeci">const ExtCommunity * ext_community() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4d/bgp__attr_8h_source.html#l00917">bgp_attr.h:917</a></div></div>
<div class="ttc" id="aclassBgpPath_html"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html">BgpPath</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00019">bgp_path.h:19</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a0dc72eb8333d09faa92f855042905667"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a0dc72eb8333d09faa92f855042905667">BgpPath::IsVrfOriginated</a></div><div class="ttdeci">bool IsVrfOriginated() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00068">bgp_path.h:68</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a1b8248f352d037a65f8a200dc1ed73a4"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a1b8248f352d037a65f8a200dc1ed73a4">BgpPath::ToString</a></div><div class="ttdeci">virtual std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d17/bgp__path_8cc_source.html#l00177">bgp_path.cc:177</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a2549360812e6ea0fde37bcc5c317ffad"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a2549360812e6ea0fde37bcc5c317ffad">BgpPath::IsAliased</a></div><div class="ttdeci">bool IsAliased() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00098">bgp_path.h:98</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a4aed2d95615ed6e1ee79c645ebc21c05"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">BgpPath::GetPeer</a></div><div class="ttdeci">IPeer * GetPeer()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00076">bgp_path.h:76</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a6284dadd76a06f19337a406dba117261"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a6284dadd76a06f19337a406dba117261">BgpPath::GetPathId</a></div><div class="ttdeci">const uint32_t GetPathId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00078">bgp_path.h:78</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a6b5b4b6bded1c3c205bae585a0fefde2"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a6b5b4b6bded1c3c205bae585a0fefde2">BgpPath::PathIdString</a></div><div class="ttdeci">static std::string PathIdString(uint32_t path_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d17/bgp__path_8cc_source.html#l00018">bgp_path.cc:18</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a6f34789deaa57952ec4927e7096da21e"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a6f34789deaa57952ec4927e7096da21e">BgpPath::NeedsResolution</a></div><div class="ttdeci">bool NeedsResolution() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00135">bgp_path.h:135</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a73583e2a5991a7045e9563095a11baf8"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a73583e2a5991a7045e9563095a11baf8">BgpPath::IsStale</a></div><div class="ttdeci">bool IsStale() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00107">bgp_path.h:107</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a8e7b1c967e3831c136b0437319b79dc3"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a8e7b1c967e3831c136b0437319b79dc3">BgpPath::IsReplicated</a></div><div class="ttdeci">virtual bool IsReplicated() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00091">bgp_path.h:91</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0">BgpPath::PathSource</a></div><div class="ttdeci">PathSource</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00037">bgp_path.h:37</a></div></div>
<div class="ttc" id="aclassBgpPath_html_ab2964ebef496ce3c14f457bd5e3e04c9"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#ab2964ebef496ce3c14f457bd5e3e04c9">BgpPath::GetAttr</a></div><div class="ttdeci">const BgpAttr * GetAttr() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00087">bgp_path.h:87</a></div></div>
<div class="ttc" id="aclassBgpPath_html_ae586140cbe5d22634efdd18a06188277"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#ae586140cbe5d22634efdd18a06188277">BgpPath::GetSource</a></div><div class="ttdeci">PathSource GetSource() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00103">bgp_path.h:103</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aead42c841ac82b2ab5bdb9f99207d503"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aead42c841ac82b2ab5bdb9f99207d503">BgpPath::PathCompare</a></div><div class="ttdeci">int PathCompare(const BgpPath &amp;rhs, bool allow_ecmp) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d17/bgp__path_8cc_source.html#l00058">bgp_path.cc:58</a></div></div>
<div class="ttc" id="aclassBgpPath_html_af72a66becc5fd158e153fb283c89269c"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#af72a66becc5fd158e153fb283c89269c">BgpPath::IsLlgrStale</a></div><div class="ttdeci">bool IsLlgrStale() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00110">bgp_path.h:110</a></div></div>
<div class="ttc" id="aclassBgpPath_html_af94d894499c2ad1bbc3ab2b628a7ac8c"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#af94d894499c2ad1bbc3ab2b628a7ac8c">BgpPath::CheckErmVpn</a></div><div class="ttdeci">bool CheckErmVpn() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00136">bgp_path.h:136</a></div></div>
<div class="ttc" id="aclassBgpRoute_html"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html">BgpRoute</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/bgp__route_8h_source.html#l00023">bgp_route.h:23</a></div></div>
<div class="ttc" id="aclassBgpRoute_html_a6ed6f992ae97aa0d7675cb4cebab949e"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html#a6ed6f992ae97aa0d7675cb4cebab949e">BgpRoute::BestPath</a></div><div class="ttdeci">const BgpPath * BestPath() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/bgp__route_8cc_source.html#l00046">bgp_route.cc:46</a></div></div>
<div class="ttc" id="aclassBgpRoute_html_ab15ef4e4dfd191557d5605ae8a918d2b"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html#ab15ef4e4dfd191557d5605ae8a918d2b">BgpRoute::RemoveSecondaryPath</a></div><div class="ttdeci">bool RemoveSecondaryPath(const BgpRoute *src_rt, BgpPath::PathSource src, const IPeer *peer, uint32_t path_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/bgp__route_8cc_source.html#l00397">bgp_route.cc:397</a></div></div>
<div class="ttc" id="aclassBgpRoute_html_ab237eb65b2f5957623b022bd53453e45"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html#ab237eb65b2f5957623b022bd53453e45">BgpRoute::IsUsable</a></div><div class="ttdeci">bool IsUsable() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/bgp__route_8cc_source.html#l00324">bgp_route.cc:324</a></div></div>
<div class="ttc" id="aclassBgpRoute_html_ab42d07fb69a5e18ee4262c36fa76cba7"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html#ab42d07fb69a5e18ee4262c36fa76cba7">BgpRoute::count</a></div><div class="ttdeci">size_t count() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/bgp__route_8cc_source.html#l00420">bgp_route.cc:420</a></div></div>
<div class="ttc" id="aclassBgpRoute_html_ab42ff4db7d866f8c43b74abb0dda7bc6"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html#ab42ff4db7d866f8c43b74abb0dda7bc6">BgpRoute::FindSecondaryPath</a></div><div class="ttdeci">BgpPath * FindSecondaryPath(BgpRoute *src_rt, BgpPath::PathSource src, const IPeer *peer, uint32_t path_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/bgp__route_8cc_source.html#l00372">bgp_route.cc:372</a></div></div>
<div class="ttc" id="aclassBgpServer_html"><div class="ttname"><a href="../../db/d26/classBgpServer.html">BgpServer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d53/bgp__server_8h_source.html#l00059">bgp_server.h:59</a></div></div>
<div class="ttc" id="aclassBgpServer_html_a05180112f100456223934bccc05b9fa6"><div class="ttname"><a href="../../db/d26/classBgpServer.html#a05180112f100456223934bccc05b9fa6">BgpServer::rtarget_group_mgr</a></div><div class="ttdeci">RTargetGroupMgr * rtarget_group_mgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d53/bgp__server_8h_source.html#l00111">bgp_server.h:111</a></div></div>
<div class="ttc" id="aclassBgpServer_html_a11d3641787a525001c39958986c10d8b"><div class="ttname"><a href="../../db/d26/classBgpServer.html#a11d3641787a525001c39958986c10d8b">BgpServer::extcomm_db</a></div><div class="ttdeci">ExtCommunityDB * extcomm_db()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d53/bgp__server_8h_source.html#l00190">bgp_server.h:190</a></div></div>
<div class="ttc" id="aclassBgpServer_html_a43eb0f3a32d47b86eb7df4713bbb89a9"><div class="ttname"><a href="../../db/d26/classBgpServer.html#a43eb0f3a32d47b86eb7df4713bbb89a9">BgpServer::routing_instance_mgr</a></div><div class="ttdeci">RoutingInstanceMgr * routing_instance_mgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d53/bgp__server_8h_source.html#l00103">bgp_server.h:103</a></div></div>
<div class="ttc" id="aclassBgpServer_html_a936dcd6c87b2cc752c3eb37d6d4c26eb"><div class="ttname"><a href="../../db/d26/classBgpServer.html#a936dcd6c87b2cc752c3eb37d6d4c26eb">BgpServer::autonomous_system</a></div><div class="ttdeci">as_t autonomous_system() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d53/bgp__server_8h_source.html#l00209">bgp_server.h:209</a></div></div>
<div class="ttc" id="aclassBgpServer_html_ad3089ed15fd73369a30cef88d51cb854"><div class="ttname"><a href="../../db/d26/classBgpServer.html#ad3089ed15fd73369a30cef88d51cb854">BgpServer::NotifyAllStaticRoutes</a></div><div class="ttdeci">void NotifyAllStaticRoutes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d87/bgp__server_8cc_source.html#l01012">bgp_server.cc:1012</a></div></div>
<div class="ttc" id="aclassBgpTable_html"><div class="ttname"><a href="../../d0/def/classBgpTable.html">BgpTable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/bgp__table_8h_source.html#l00035">bgp_table.h:35</a></div></div>
<div class="ttc" id="aclassBgpTable_html_a2c5a959f2f671c40c573917637d33e30"><div class="ttname"><a href="../../d0/def/classBgpTable.html#a2c5a959f2f671c40c573917637d33e30">BgpTable::IsContributingRoute</a></div><div class="ttdeci">bool IsContributingRoute(const BgpRoute *route) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc1/bgp__table_8cc_source.html#l01148">bgp_table.cc:1148</a></div></div>
<div class="ttc" id="aclassBgpTable_html_a306bbc41c5a6837964b4766d9c7ac689"><div class="ttname"><a href="../../d0/def/classBgpTable.html#a306bbc41c5a6837964b4766d9c7ac689">BgpTable::IsVpnTable</a></div><div class="ttdeci">virtual bool IsVpnTable() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/bgp__table_8h_source.html#l00110">bgp_table.h:110</a></div></div>
<div class="ttc" id="aclassBgpTable_html_a47693bf172b75faf5d174678ca9a4442"><div class="ttname"><a href="../../d0/def/classBgpTable.html#a47693bf172b75faf5d174678ca9a4442">BgpTable::RouteReplicate</a></div><div class="ttdeci">virtual BgpRoute * RouteReplicate(BgpServer *server, BgpTable *table, BgpRoute *src, const BgpPath *path, ExtCommunityPtr community)=0</div></div>
<div class="ttc" id="aclassBgpTable_html_a49b826c28aa443dcc2c755af75e9dec6"><div class="ttname"><a href="../../d0/def/classBgpTable.html#a49b826c28aa443dcc2c755af75e9dec6">BgpTable::routing_instance</a></div><div class="ttdeci">RoutingInstance * routing_instance()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/bgp__table_8h_source.html#l00148">bgp_table.h:148</a></div></div>
<div class="ttc" id="aclassBgpTable_html_a8adf12bf476098ae54b9282202e72ef8"><div class="ttname"><a href="../../d0/def/classBgpTable.html#a8adf12bf476098ae54b9282202e72ef8">BgpTable::IsRouteAggregationSupported</a></div><div class="ttdeci">virtual bool IsRouteAggregationSupported() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/bgp__table_8h_source.html#l00112">bgp_table.h:112</a></div></div>
<div class="ttc" id="aclassBgpTable_html_aab98e8fb1d0266de0e36dbeb5ed866bc"><div class="ttname"><a href="../../d0/def/classBgpTable.html#aab98e8fb1d0266de0e36dbeb5ed866bc">BgpTable::path_resolver</a></div><div class="ttdeci">PathResolver * path_resolver()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/bgp__table_8h_source.html#l00153">bgp_table.h:153</a></div></div>
<div class="ttc" id="aclassBgpTable_html_ac61606ff4bc07deec33b2a2554d13ce7"><div class="ttname"><a href="../../d0/def/classBgpTable.html#ac61606ff4bc07deec33b2a2554d13ce7">BgpTable::UpdateSecondaryTablesForReplication</a></div><div class="ttdeci">virtual void UpdateSecondaryTablesForReplication(BgpRoute *rt, TableSet *secondary_tables)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d36/bgp__table_8h_source.html#l00135">bgp_table.h:135</a></div></div>
<div class="ttc" id="aclassBgpTable_html_af5af7e396646606ce93c95f0365e0448"><div class="ttname"><a href="../../d0/def/classBgpTable.html#af5af7e396646606ce93c95f0365e0448">BgpTable::deleter</a></div><div class="ttdeci">LifetimeActor * deleter()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc1/bgp__table_8cc_source.html#l01114">bgp_table.cc:1114</a></div></div>
<div class="ttc" id="aclassDBEntryBase_html"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html">DBEntryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d61/db__entry_8h_source.html#l00022">db_entry.h:22</a></div></div>
<div class="ttc" id="aclassDBEntryBase_html_a19f4005a36e617490f47cd315f61ebe5"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#a19f4005a36e617490f47cd315f61ebe5">DBEntryBase::ToString</a></div><div class="ttdeci">virtual std::string ToString() const =0</div></div>
<div class="ttc" id="aclassDBEntryBase_html_a30b3fad9d44882f47eb246c9b19cd579"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#a30b3fad9d44882f47eb246c9b19cd579">DBEntryBase::GetState</a></div><div class="ttdeci">DBState * GetState(DBTableBase *tbl_base, ListenerId listener) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/db__entry_8cc_source.html#l00037">db_entry.cc:37</a></div></div>
<div class="ttc" id="aclassDBEntryBase_html_a3e5f199bbed8863b141d3cc1af81fbf8"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#a3e5f199bbed8863b141d3cc1af81fbf8">DBEntryBase::last_update_at</a></div><div class="ttdeci">const uint64_t last_update_at() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d61/db__entry_8h_source.html#l00072">db_entry.h:72</a></div></div>
<div class="ttc" id="aclassDBEntryBase_html_a62fa4794268381f4287f95adf8704de6"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#a62fa4794268381f4287f95adf8704de6">DBEntryBase::ClearState</a></div><div class="ttdeci">void ClearState(DBTableBase *tbl_base, ListenerId listener)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/db__entry_8cc_source.html#l00073">db_entry.cc:73</a></div></div>
<div class="ttc" id="aclassDBEntryBase_html_aecee6124adfd4bae453b29ad3e2dc067"><div class="ttname"><a href="../../d8/d44/classDBEntryBase.html#aecee6124adfd4bae453b29ad3e2dc067">DBEntryBase::SetState</a></div><div class="ttdeci">void SetState(DBTableBase *tbl_base, ListenerId listener, DBState *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/db__entry_8cc_source.html#l00022">db_entry.cc:22</a></div></div>
<div class="ttc" id="aclassDBTableBase_html"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html">DBTableBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00059">db_table.h:59</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_a58ca11bafdf9674c431357ecaa893b96"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#a58ca11bafdf9674c431357ecaa893b96">DBTableBase::Register</a></div><div class="ttdeci">ListenerId Register(ChangeCallback callback, const std::string &amp;name=&quot;unspecified&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00181">db_table.cc:181</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_a6db88b67b84999b9cfa054ebac38b1cf"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#a6db88b67b84999b9cfa054ebac38b1cf">DBTableBase::GetDBStateCount</a></div><div class="ttdeci">uint64_t GetDBStateCount(ListenerId listener)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00216">db_table.cc:216</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_a70afef7ab99e415744d30bc173835745"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#a70afef7ab99e415744d30bc173835745">DBTableBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00101">db_table.h:101</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_a9f280152749cd0aa47c12b622daf6ccb"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#a9f280152749cd0aa47c12b622daf6ccb">DBTableBase::kInvalidId</a></div><div class="ttdeci">static const int kInvalidId</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00064">db_table.h:64</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_ac129112bd99b80830a6377aa9bf1c609"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#ac129112bd99b80830a6377aa9bf1c609">DBTableBase::Unregister</a></div><div class="ttdeci">void Unregister(ListenerId listener)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00186">db_table.cc:186</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_acec2b821673f83ccdbcbf2205d766328"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#acec2b821673f83ccdbcbf2205d766328">DBTableBase::ListenerId</a></div><div class="ttdeci">int ListenerId</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00062">db_table.h:62</a></div></div>
<div class="ttc" id="aclassDBTableBase_html_af607278191728ac8360828fa7a01d4a6"><div class="ttname"><a href="../../d7/df2/classDBTableBase.html#af607278191728ac8360828fa7a01d4a6">DBTableBase::name</a></div><div class="ttdeci">const std::string &amp; name() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00110">db_table.h:110</a></div></div>
<div class="ttc" id="aclassDBTablePartBase_html"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html">DBTablePartBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/db__table__partition_8h_source.html#l00018">db_table_partition.h:18</a></div></div>
<div class="ttc" id="aclassDBTablePartBase_html_a036097d2f7e774a0a6ac2466d5e50a28"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html#a036097d2f7e774a0a6ac2466d5e50a28">DBTablePartBase::parent</a></div><div class="ttdeci">DBTableBase * parent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/db__table__partition_8h_source.html#l00041">db_table_partition.h:41</a></div></div>
<div class="ttc" id="aclassDBTablePartBase_html_a0c7a5bdb3d0299137af4c91b61546e92"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html#a0c7a5bdb3d0299137af4c91b61546e92">DBTablePartBase::Notify</a></div><div class="ttdeci">void Notify(DBEntryBase *entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d52/db__table__partition_8cc_source.html#l00019">db_table_partition.cc:19</a></div></div>
<div class="ttc" id="aclassDBTablePartBase_html_a866048e74826317ec97c1a8424bdc5e0"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html#a866048e74826317ec97c1a8424bdc5e0">DBTablePartBase::Delete</a></div><div class="ttdeci">void Delete(DBEntryBase *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d52/db__table__partition_8cc_source.html#l00073">db_table_partition.cc:73</a></div></div>
<div class="ttc" id="aclassDBTablePartBase_html_ab2c2209d80e30404b505fed9efb59e92"><div class="ttname"><a href="../../d3/da7/classDBTablePartBase.html#ab2c2209d80e30404b505fed9efb59e92">DBTablePartBase::index</a></div><div class="ttdeci">int index() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/db__table__partition_8h_source.html#l00042">db_table_partition.h:42</a></div></div>
<div class="ttc" id="aclassDBTable_html_a000743f5b39b3e1fc06dbc9f443b8ffa"><div class="ttname"><a href="../../d5/d0a/classDBTable.html#a000743f5b39b3e1fc06dbc9f443b8ffa">DBTable::WalkAgain</a></div><div class="ttdeci">void WalkAgain(DBTableWalkRef walk)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00631">db_table.cc:631</a></div></div>
<div class="ttc" id="aclassDBTable_html_a4cd7cf25eb51341e32e98c8005f33bb3"><div class="ttname"><a href="../../d5/d0a/classDBTable.html#a4cd7cf25eb51341e32e98c8005f33bb3">DBTable::AllocWalker</a></div><div class="ttdeci">DBTableWalkRef AllocWalker(WalkFn walk_fn, WalkCompleteFn walk_complete)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00613">db_table.cc:613</a></div></div>
<div class="ttc" id="aclassDBTable_html_a7869bc4aceaa662eb5453bd29f4b54df"><div class="ttname"><a href="../../d5/d0a/classDBTable.html#a7869bc4aceaa662eb5453bd29f4b54df">DBTable::WalkTable</a></div><div class="ttdeci">void WalkTable(DBTableWalkRef walk)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00625">db_table.cc:625</a></div></div>
<div class="ttc" id="aclassDBTable_html_aa510876627227108a8dbaa9decae3bb5"><div class="ttname"><a href="../../d5/d0a/classDBTable.html#aa510876627227108a8dbaa9decae3bb5">DBTable::ReleaseWalker</a></div><div class="ttdeci">void ReleaseWalker(DBTableWalkRef &amp;walk)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00619">db_table.cc:619</a></div></div>
<div class="ttc" id="aclassDBTable_html_abdc783ae6c9e307f0934728526963804"><div class="ttname"><a href="../../d5/d0a/classDBTable.html#abdc783ae6c9e307f0934728526963804">DBTable::GetTablePartition</a></div><div class="ttdeci">virtual DBTablePartBase * GetTablePartition(const DBRequestKey *key)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/db__table_8cc_source.html#l00436">db_table.cc:436</a></div></div>
<div class="ttc" id="aclassDBTable_html_ad3172876c9c18a7f6a12772ce54879ea"><div class="ttname"><a href="../../d5/d0a/classDBTable.html#ad3172876c9c18a7f6a12772ce54879ea">DBTable::DBTableWalkRef</a></div><div class="ttdeci">boost::intrusive_ptr&lt; DBTableWalk &gt; DBTableWalkRef</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/db__table_8h_source.html#l00169">db_table.h:169</a></div></div>
<div class="ttc" id="aclassExtCommunityDB_html_a13407442f3bebfadb44cef63faec164b"><div class="ttname"><a href="../../d2/ddb/classExtCommunityDB.html#a13407442f3bebfadb44cef63faec164b">ExtCommunityDB::AppendAndLocate</a></div><div class="ttdeci">ExtCommunityPtr AppendAndLocate(const ExtCommunity *src, const ExtCommunity::ExtCommunityList &amp;list)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/community_8cc_source.html#l00696">community.cc:696</a></div></div>
<div class="ttc" id="aclassExtCommunityDB_html_adabed51b1c1bb5fcadf1a311beb63a88"><div class="ttname"><a href="../../d2/ddb/classExtCommunityDB.html#adabed51b1c1bb5fcadf1a311beb63a88">ExtCommunityDB::ReplaceOriginVnAndLocate</a></div><div class="ttdeci">ExtCommunityPtr ReplaceOriginVnAndLocate(const ExtCommunity *src, const ExtCommunity::ExtCommunityValue &amp;origin_vn)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/community_8cc_source.html#l00884">community.cc:884</a></div></div>
<div class="ttc" id="aclassExtCommunityDB_html_aeee37a16f9de61d22d55623e442bd633"><div class="ttname"><a href="../../d2/ddb/classExtCommunityDB.html#aeee37a16f9de61d22d55623e442bd633">ExtCommunityDB::RemoveOriginVnAndLocate</a></div><div class="ttdeci">ExtCommunityPtr RemoveOriginVnAndLocate(const ExtCommunity *src)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/community_8cc_source.html#l00871">community.cc:871</a></div></div>
<div class="ttc" id="aclassExtCommunity_html"><div class="ttname"><a href="../../da/d36/classExtCommunity.html">ExtCommunity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00151">community.h:151</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a0cf4e6823900985792c350827040c8c1"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a0cf4e6823900985792c350827040c8c1">ExtCommunity::is_route_target</a></div><div class="ttdeci">static bool is_route_target(const ExtCommunityValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00266">community.h:266</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a4fcc6e4052f4d113fce6afee7c0aef48"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a4fcc6e4052f4d113fce6afee7c0aef48">ExtCommunity::ExtCommunityList</a></div><div class="ttdeci">std::vector&lt; ExtCommunityValue &gt; ExtCommunityList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00154">community.h:154</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a57c9ebe6fcfbd38db9d26a331a7675fc"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a></div><div class="ttdeci">boost::array&lt; uint8_t, 8 &gt; ExtCommunityValue</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00153">community.h:153</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a968a0558c4724383c5ac0edf9f91a3d2"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">ExtCommunity::communities</a></div><div class="ttdeci">const ExtCommunityList &amp; communities() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00181">community.h:181</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_aa7a1660cc0a873c71dbaf9abf4364769"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#aa7a1660cc0a873c71dbaf9abf4364769">ExtCommunity::is_origin_vn</a></div><div class="ttdeci">static bool is_origin_vn(const ExtCommunityValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00194">community.h:194</a></div></div>
<div class="ttc" id="aclassIPeer_html"><div class="ttname"><a href="../../dd/d38/classIPeer.html">IPeer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/ipeer_8h_source.html#l00186">ipeer.h:186</a></div></div>
<div class="ttc" id="aclassIPeer_html_a4770db71267187cf7aa665d344272199"><div class="ttname"><a href="../../dd/d38/classIPeer.html#a4770db71267187cf7aa665d344272199">IPeer::ToString</a></div><div class="ttdeci">virtual const std::string &amp; ToString() const =0</div></div>
<div class="ttc" id="aclassIPeer_html_a4a0f185c84c943bddc08879297de385f"><div class="ttname"><a href="../../dd/d38/classIPeer.html#a4a0f185c84c943bddc08879297de385f">IPeer::IsReady</a></div><div class="ttdeci">virtual bool IsReady() const =0</div></div>
<div class="ttc" id="aclassLifetimeActor_html"><div class="ttname"><a href="../../dd/d9e/classLifetimeActor.html">LifetimeActor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d11/lifetime_8h_source.html#l00116">lifetime.h:116</a></div></div>
<div class="ttc" id="aclassLifetimeActor_html_a191ee854f04aa04e7046fe70d4963b6f"><div class="ttname"><a href="../../dd/d9e/classLifetimeActor.html#a191ee854f04aa04e7046fe70d4963b6f">LifetimeActor::Delete</a></div><div class="ttdeci">virtual void Delete()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/lifetime_8cc_source.html#l00038">lifetime.cc:38</a></div></div>
<div class="ttc" id="aclassLifetimeActor_html_a5eba36c599b876e1f8dcc3be7b1aeb23"><div class="ttname"><a href="../../dd/d9e/classLifetimeActor.html#a5eba36c599b876e1f8dcc3be7b1aeb23">LifetimeActor::IsDeleted</a></div><div class="ttdeci">bool IsDeleted() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d11/lifetime_8h_source.html#l00131">lifetime.h:131</a></div></div>
<div class="ttc" id="aclassLifetimeActor_html_a6fd805b59fb8bc1119ee7778f623596c"><div class="ttname"><a href="../../dd/d9e/classLifetimeActor.html#a6fd805b59fb8bc1119ee7778f623596c">LifetimeActor::RetryDelete</a></div><div class="ttdeci">void RetryDelete()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de3/lifetime_8cc_source.html#l00071">lifetime.cc:71</a></div></div>
<div class="ttc" id="aclassOriginVn_html"><div class="ttname"><a href="../../d9/d40/classOriginVn.html">OriginVn</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/origin__vn_8h_source.html#l00016">origin_vn.h:16</a></div></div>
<div class="ttc" id="aclassOriginVn_html_a03ea8f4c698f499fee05d77b3b99e2c2"><div class="ttname"><a href="../../d9/d40/classOriginVn.html#a03ea8f4c698f499fee05d77b3b99e2c2">OriginVn::IsGlobal</a></div><div class="ttdeci">bool IsGlobal() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d80/origin__vn_8cc_source.html#l00134">origin_vn.cc:134</a></div></div>
<div class="ttc" id="aclassOriginVn_html_a0ee17ddb790acbfd3a79201a82aa7156"><div class="ttname"><a href="../../d9/d40/classOriginVn.html#a0ee17ddb790acbfd3a79201a82aa7156">OriginVn::as_number</a></div><div class="ttdeci">as_t as_number() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d80/origin__vn_8cc_source.html#l00110">origin_vn.cc:110</a></div></div>
<div class="ttc" id="aclassOriginVn_html_a2a99a8009f48503299b581af042feaab"><div class="ttname"><a href="../../d9/d40/classOriginVn.html#a2a99a8009f48503299b581af042feaab">OriginVn::vn_index</a></div><div class="ttdeci">int vn_index() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d80/origin__vn_8cc_source.html#l00122">origin_vn.cc:122</a></div></div>
<div class="ttc" id="aclassOriginVn_html_a98d7269b86e91d56e73672b1d25ada82"><div class="ttname"><a href="../../d9/d40/classOriginVn.html#a98d7269b86e91d56e73672b1d25ada82">OriginVn::GetExtCommunity</a></div><div class="ttdeci">const bytes_type &amp; GetExtCommunity() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/origin__vn_8h_source.html#l00033">origin_vn.h:33</a></div></div>
<div class="ttc" id="aclassPathResolver_html_a779277f5fd63b60121bc26a949102ba5"><div class="ttname"><a href="../../d1/d31/classPathResolver.html#a779277f5fd63b60121bc26a949102ba5">PathResolver::StopPathResolution</a></div><div class="ttdeci">void StopPathResolution(int part_id, const BgpPath *path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc3/path__resolver_8cc_source.html#l00194">path_resolver.cc:194</a></div></div>
<div class="ttc" id="aclassRTargetGroupMgr_html_a1b10f50fe6b244dc75c29343080bc623"><div class="ttname"><a href="../../da/d47/classRTargetGroupMgr.html#a1b10f50fe6b244dc75c29343080bc623">RTargetGroupMgr::RemoveRtGroup</a></div><div class="ttdeci">void RemoveRtGroup(const RouteTarget &amp;rt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d06/rtarget__group__mgr_8cc_source.html#l00402">rtarget_group_mgr.cc:402</a></div></div>
<div class="ttc" id="aclassRTargetGroupMgr_html_a67e0d09a3684d11d815cb00f01597df0"><div class="ttname"><a href="../../da/d47/classRTargetGroupMgr.html#a67e0d09a3684d11d815cb00f01597df0">RTargetGroupMgr::LocateRtGroup</a></div><div class="ttdeci">RtGroup * LocateRtGroup(const RouteTarget &amp;rt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d06/rtarget__group__mgr_8cc_source.html#l00369">rtarget_group_mgr.cc:369</a></div></div>
<div class="ttc" id="aclassRTargetGroupMgr_html_aa8aa0f6b262cf56d47b392c304246ca2"><div class="ttname"><a href="../../da/d47/classRTargetGroupMgr.html#aa8aa0f6b262cf56d47b392c304246ca2">RTargetGroupMgr::NotifyRtGroup</a></div><div class="ttdeci">void NotifyRtGroup(const RouteTarget &amp;rt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d06/rtarget__group__mgr_8cc_source.html#l00396">rtarget_group_mgr.cc:396</a></div></div>
<div class="ttc" id="aclassRTargetGroupMgr_html_af9c43a9d0c9958d7a1a80f2e98dc82d9"><div class="ttname"><a href="../../da/d47/classRTargetGroupMgr.html#af9c43a9d0c9958d7a1a80f2e98dc82d9">RTargetGroupMgr::GetRtGroup</a></div><div class="ttdeci">RtGroup * GetRtGroup(const RouteTarget &amp;rt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d06/rtarget__group__mgr_8cc_source.html#l00353">rtarget_group_mgr.cc:353</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html">RoutePathReplicator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00237">routepath_replicator.h:237</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a00b7d2b92950b777f49f4f698a67199a"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a00b7d2b92950b777f49f4f698a67199a">RoutePathReplicator::RtReplicated</a></div><div class="ttdeci">friend class RtReplicated</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00254">routepath_replicator.h:254</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a11f202cf56d157a499a59893d1dcb66a"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a11f202cf56d157a499a59893d1dcb66a">RoutePathReplicator::DeleteSecondaryPath</a></div><div class="ttdeci">void DeleteSecondaryPath(BgpTable *table, BgpRoute *rt, const RtReplicated::SecondaryRouteInfo &amp;rtinfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00706">routepath_replicator.cc:706</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a12ea738500dd6c1480935ca249035766"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a12ea738500dd6c1480935ca249035766">RoutePathReplicator::server_</a></div><div class="ttdeci">BgpServer * server_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00286">routepath_replicator.h:286</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a2787cafd55e41d0d4679e2a677ad6dce"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a2787cafd55e41d0d4679e2a677ad6dce">RoutePathReplicator::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00181">routepath_replicator.cc:181</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a30d421c0fe1e5621d3e49a5f854bf38c"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a30d421c0fe1e5621d3e49a5f854bf38c">RoutePathReplicator::DeleteTableState</a></div><div class="ttdeci">void DeleteTableState(BgpTable *table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00222">routepath_replicator.cc:222</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a33923ae4ed48490af7957bb1629b31be"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a33923ae4ed48490af7957bb1629b31be">RoutePathReplicator::LeaveVpnTable</a></div><div class="ttdeci">void LeaveVpnTable(RtGroup *group)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00280">routepath_replicator.cc:280</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a341e20e97e1f56a35a0a6187361ce9d3"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a341e20e97e1f56a35a0a6187361ce9d3">RoutePathReplicator::mutex_</a></div><div class="ttdeci">tbb::mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00287">routepath_replicator.h:287</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a58df519ea36e5099f00146da4f9c7c1d"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a58df519ea36e5099f00146da4f9c7c1d">RoutePathReplicator::vpn_table_</a></div><div class="ttdeci">BgpTable * vpn_table_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00290">routepath_replicator.h:290</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a5cb8f247bf834edcf77acc7dfbae1e91"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a5cb8f247bf834edcf77acc7dfbae1e91">RoutePathReplicator::RoutePathReplicator</a></div><div class="ttdeci">RoutePathReplicator(BgpServer *server, Address::Family family)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00169">routepath_replicator.cc:169</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a60094acbc00fa0082519902bc7a60f05"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a60094acbc00fa0082519902bc7a60f05">RoutePathReplicator::TableState</a></div><div class="ttdeci">friend class TableState</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00255">routepath_replicator.h:255</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a634e25bf531bca9d97197199729519d4"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a634e25bf531bca9d97197199729519d4">RoutePathReplicator::RemoveTableState</a></div><div class="ttdeci">void RemoveTableState(BgpTable *table, RtGroup *group)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00216">routepath_replicator.cc:216</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a6598574164e625c7ca01fb5811d90850"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a6598574164e625c7ca01fb5811d90850">RoutePathReplicator::server</a></div><div class="ttdeci">BgpServer * server()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00282">routepath_replicator.h:282</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a703e5ab64ac77f9cffb91d62ffd5cd1d"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a703e5ab64ac77f9cffb91d62ffd5cd1d">RoutePathReplicator::DBStateSync</a></div><div class="ttdeci">void DBStateSync(BgpTable *table, TableState *ts, BgpRoute *rt, RtReplicated *dbstate, const RtReplicated::ReplicatedRtPathList *future)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00370">routepath_replicator.cc:370</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a71167fb94c49d947edabace2a6bea33a"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a71167fb94c49d947edabace2a6bea33a">RoutePathReplicator::table_state_list_</a></div><div class="ttdeci">TableStateList table_state_list_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00288">routepath_replicator.h:288</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a7f9df745add56e5fcdf17bfee6fcc71a"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a7f9df745add56e5fcdf17bfee6fcc71a">RoutePathReplicator::AddTableState</a></div><div class="ttdeci">TableState * AddTableState(BgpTable *table, RtGroup *group=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00192">routepath_replicator.cc:192</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a8aab14a8fe780abab831a7b2e2a75441"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a8aab14a8fe780abab831a7b2e2a75441">RoutePathReplicator::family</a></div><div class="ttdeci">Address::Family family() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00283">routepath_replicator.h:283</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a98a33bb22a6f0956047c0fe8ffc68db7"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a98a33bb22a6f0956047c0fe8ffc68db7">RoutePathReplicator::GetReplicationState</a></div><div class="ttdeci">const RtReplicated * GetReplicationState(BgpTable *table, BgpRoute *rt) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00681">routepath_replicator.cc:681</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_a9ffd7bec0cd08dc31aef1bb02b6fe5fb"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#a9ffd7bec0cd08dc31aef1bb02b6fe5fb">RoutePathReplicator::BulkReplicationDone</a></div><div class="ttdeci">void BulkReplicationDone(DBTableBase *dbtable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00260">routepath_replicator.cc:260</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_aa3838a39311ec6874fb0409ca8168caa"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#aa3838a39311ec6874fb0409ca8168caa">RoutePathReplicator::family_</a></div><div class="ttdeci">Address::Family family_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00289">routepath_replicator.h:289</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_ab3873083acd6e42ccbb682eb13cf50bf"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#ab3873083acd6e42ccbb682eb13cf50bf">RoutePathReplicator::FindTableState</a></div><div class="ttdeci">TableState * FindTableState(BgpTable *table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00231">routepath_replicator.cc:231</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_ab536cbdd4b3761ed75d6bb0f1a4a813c"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#ab536cbdd4b3761ed75d6bb0f1a4a813c">RoutePathReplicator::JoinVpnTable</a></div><div class="ttdeci">void JoinVpnTable(RtGroup *group)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00268">routepath_replicator.cc:268</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_abc2cc87ddd6b4190e58dc3fea9760448"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#abc2cc87ddd6b4190e58dc3fea9760448">RoutePathReplicator::Join</a></div><div class="ttdeci">void Join(BgpTable *table, const RouteTarget &amp;rt, bool import)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00297">routepath_replicator.cc:297</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_ac1fedb9f0f0c8bfd605be96091384729"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#ac1fedb9f0f0c8bfd605be96091384729">RoutePathReplicator::GetReplicatedTableNameList</a></div><div class="ttdeci">std::vector&lt; std::string &gt; GetReplicatedTableNameList(const BgpTable *table, const BgpRoute *route, const BgpPath *path) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00694">routepath_replicator.cc:694</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_ad2c8cf4ba3d1d8742179ef89d8dc71fd"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#ad2c8cf4ba3d1d8742179ef89d8dc71fd">RoutePathReplicator::~RoutePathReplicator</a></div><div class="ttdeci">virtual ~RoutePathReplicator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00177">routepath_replicator.cc:177</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_adb4d835093a27bff7921add820890787"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#adb4d835093a27bff7921add820890787">RoutePathReplicator::RequestWalk</a></div><div class="ttdeci">void RequestWalk(BgpTable *table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00244">routepath_replicator.cc:244</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_aeeba14bb5efb85afd5a05aecebc004e0"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#aeeba14bb5efb85afd5a05aecebc004e0">RoutePathReplicator::RouteListener</a></div><div class="ttdeci">bool RouteListener(TableState *ts, DBTablePartBase *root, DBEntryBase *entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00461">routepath_replicator.cc:461</a></div></div>
<div class="ttc" id="aclassRoutePathReplicator_html_af4ed660f7a6c3047054073f9dccf07b7"><div class="ttname"><a href="../../d3/dd9/classRoutePathReplicator.html#af4ed660f7a6c3047054073f9dccf07b7">RoutePathReplicator::Leave</a></div><div class="ttdeci">void Leave(BgpTable *table, const RouteTarget &amp;rt, bool import)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00335">routepath_replicator.cc:335</a></div></div>
<div class="ttc" id="aclassRouteTarget_html"><div class="ttname"><a href="../../dd/d0f/classRouteTarget.html">RouteTarget</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d25/rtarget__address_8h_source.html#l00016">rtarget_address.h:16</a></div></div>
<div class="ttc" id="aclassRouteTarget_html_a159fd265c4092c8ab5b0abc2ced11438"><div class="ttname"><a href="../../dd/d0f/classRouteTarget.html#a159fd265c4092c8ab5b0abc2ced11438">RouteTarget::ToString</a></div><div class="ttdeci">std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d35/rtarget__address_8cc_source.html#l00136">rtarget_address.cc:136</a></div></div>
<div class="ttc" id="aclassRouteTarget_html_afc55e01194b7262b39a6a65d0b48ff1b"><div class="ttname"><a href="../../dd/d0f/classRouteTarget.html#afc55e01194b7262b39a6a65d0b48ff1b">RouteTarget::GetExtCommunity</a></div><div class="ttdeci">const bytes_type &amp; GetExtCommunity() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d25/rtarget__address_8h_source.html#l00046">rtarget_address.h:46</a></div></div>
<div class="ttc" id="aclassRoute_html_a49d8d04d1f4c15575dde4f8760dfb779"><div class="ttname"><a href="../../de/df8/classRoute.html#a49d8d04d1f4c15575dde4f8760dfb779">Route::GetPathList</a></div><div class="ttdeci">const PathList &amp; GetPathList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7f/route_8h_source.html#l00046">route.h:46</a></div></div>
<div class="ttc" id="aclassRoutingInstanceMgr_html"><div class="ttname"><a href="../../d2/d72/classRoutingInstanceMgr.html">RoutingInstanceMgr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/routing__instance_8h_source.html#l00288">routing_instance.h:288</a></div></div>
<div class="ttc" id="aclassRoutingInstanceMgr_html_a09d2ea4ff8a5dac47e49d12af6c51e18"><div class="ttname"><a href="../../d2/d72/classRoutingInstanceMgr.html#a09d2ea4ff8a5dac47e49d12af6c51e18">RoutingInstanceMgr::GetVnIndexByExtCommunity</a></div><div class="ttdeci">int GetVnIndexByExtCommunity(const ExtCommunity *community) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/routing__instance_8cc_source.html#l00274">routing_instance.cc:274</a></div></div>
<div class="ttc" id="aclassRoutingInstanceMgr_html_a6ebf31404a14e516e9d4a38cc8bd53b4"><div class="ttname"><a href="../../d2/d72/classRoutingInstanceMgr.html#a6ebf31404a14e516e9d4a38cc8bd53b4">RoutingInstanceMgr::GetDefaultRoutingInstance</a></div><div class="ttdeci">RoutingInstance * GetDefaultRoutingInstance()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/routing__instance_8cc_source.html#l00359">routing_instance.cc:359</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html">RoutingInstance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/routing__instance_8h_source.html#l00054">routing_instance.h:54</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html_a16b1960dca35e58893fd73a6e4700a32"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html#a16b1960dca35e58893fd73a6e4700a32">RoutingInstance::deleted</a></div><div class="ttdeci">bool deleted() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/routing__instance_8cc_source.html#l01446">routing_instance.cc:1446</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html_a4fd42d17c3cea5e57ca237614b2a4167"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html#a4fd42d17c3cea5e57ca237614b2a4167">RoutingInstance::HasExportTarget</a></div><div class="ttdeci">bool HasExportTarget(const ExtCommunity *extcomm) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/routing__instance_8cc_source.html#l01825">routing_instance.cc:1825</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html_ab6649555e35fcdb116180e09d443c0be"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html#ab6649555e35fcdb116180e09d443c0be">RoutingInstance::virtual_network_index</a></div><div class="ttdeci">int virtual_network_index() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/routing__instance_8cc_source.html#l01461">routing_instance.cc:1461</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html_ad54d8f3aa6aff285d01db3f33cb11eea"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html#ad54d8f3aa6aff285d01db3f33cb11eea">RoutingInstance::GetExportList</a></div><div class="ttdeci">const RouteTargetList &amp; GetExportList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/routing__instance_8h_source.html#l00096">routing_instance.h:96</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html_adff46853277535019d5d828bc1f74628"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html#adff46853277535019d5d828bc1f74628">RoutingInstance::GetTable</a></div><div class="ttdeci">BgpTable * GetTable(Address::Family fmly)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/routing__instance_8cc_source.html#l01772">routing_instance.cc:1772</a></div></div>
<div class="ttc" id="aclassRoutingInstance_html_af94df463231787adb37889c6bcadf905"><div class="ttname"><a href="../../de/ddf/classRoutingInstance.html#af94df463231787adb37889c6bcadf905">RoutingInstance::IsMasterRoutingInstance</a></div><div class="ttdeci">bool IsMasterRoutingInstance() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/routing__instance_8h_source.html#l00116">routing_instance.h:116</a></div></div>
<div class="ttc" id="aclassRtGroup_html"><div class="ttname"><a href="../../db/d6b/classRtGroup.html">RtGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/rtarget__group_8h_source.html#l00061">rtarget_group.h:61</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a12defaa2cfccf54352d1fc72c00b695f"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a12defaa2cfccf54352d1fc72c00b695f">RtGroup::GetImportTables</a></div><div class="ttdeci">const RtGroupMemberList &amp; GetImportTables(Address::Family family) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00039">rtarget_group.cc:39</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a21bb1b4ad20a09629d9aae9364d2cc75"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a21bb1b4ad20a09629d9aae9364d2cc75">RtGroup::AddExportTable</a></div><div class="ttdeci">bool AddExportTable(Address::Family family, BgpTable *tbl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00055">rtarget_group.cc:55</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a4619d10e8e8aad2457b99dc85f90fc70"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a4619d10e8e8aad2457b99dc85f90fc70">RtGroup::AddImportTable</a></div><div class="ttdeci">bool AddImportTable(Address::Family family, BgpTable *tbl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00049">rtarget_group.cc:49</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a72c7fccdc7b49a3d18671f77ceb2bb3e"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a72c7fccdc7b49a3d18671f77ceb2bb3e">RtGroup::rt</a></div><div class="ttdeci">const RouteTarget &amp; rt()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00103">rtarget_group.cc:103</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a77004bcd9efa0f57e26f4c51db6efa04"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a77004bcd9efa0f57e26f4c51db6efa04">RtGroup::RemoveExportTable</a></div><div class="ttdeci">bool RemoveExportTable(Address::Family family, BgpTable *tbl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00066">rtarget_group.cc:66</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a862b16f4c16b8d80ddff25a5a30c7071"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a862b16f4c16b8d80ddff25a5a30c7071">RtGroup::HasDepRoutes</a></div><div class="ttdeci">bool HasDepRoutes() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00122">rtarget_group.cc:122</a></div></div>
<div class="ttc" id="aclassRtGroup_html_a94ab280ed4e90d44ef0fdc26f37647f3"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#a94ab280ed4e90d44ef0fdc26f37647f3">RtGroup::RemoveImportTable</a></div><div class="ttdeci">bool RemoveImportTable(Address::Family family, BgpTable *tbl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00061">rtarget_group.cc:61</a></div></div>
<div class="ttc" id="aclassRtGroup_html_acc0dab2ed403530c0aa4b6f359c3d914"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#acc0dab2ed403530c0aa4b6f359c3d914">RtGroup::HasVrfTables</a></div><div class="ttdeci">bool HasVrfTables(Address::Family family) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00083">rtarget_group.cc:83</a></div></div>
<div class="ttc" id="aclassRtGroup_html_ad7b8bc79b6e19b6698ea81f65ba31521"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#ad7b8bc79b6e19b6698ea81f65ba31521">RtGroup::RtGroupMemberList</a></div><div class="ttdeci">std::set&lt; BgpTable * &gt; RtGroupMemberList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/rtarget__group_8h_source.html#l00063">rtarget_group.h:63</a></div></div>
<div class="ttc" id="aclassRtGroup_html_aee3ac5af8c3a80f02da8ddd8d800d685"><div class="ttname"><a href="../../db/d6b/classRtGroup.html#aee3ac5af8c3a80f02da8ddd8d800d685">RtGroup::GetExportTables</a></div><div class="ttdeci">const RtGroupMemberList &amp; GetExportTables(Address::Family family) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc3/rtarget__group_8cc_source.html#l00044">rtarget_group.cc:44</a></div></div>
<div class="ttc" id="aclassRtReplicated_html"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html">RtReplicated</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00131">routepath_replicator.h:131</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a0711667eb9655d68bdcf27fd65efeb80"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a0711667eb9655d68bdcf27fd65efeb80">RtReplicated::DeleteRouteInfo</a></div><div class="ttdeci">void DeleteRouteInfo(BgpTable *table, BgpRoute *rt, ReplicatedRtPathList::const_iterator it)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00144">routepath_replicator.cc:144</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a28cf25823d5ca42a39c12afece2124b5"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a28cf25823d5ca42a39c12afece2124b5">RtReplicated::AddRouteInfo</a></div><div class="ttdeci">void AddRouteInfo(BgpTable *table, BgpRoute *rt, ReplicatedRtPathList::const_iterator it)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00137">routepath_replicator.cc:137</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a3f71fbbd645a045670aace6e7be692fe"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a3f71fbbd645a045670aace6e7be692fe">RtReplicated::replicate_list_</a></div><div class="ttdeci">ReplicatedRtPathList replicate_list_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00182">routepath_replicator.h:182</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a4539a0358b71595adfbe3d847f1d04bb"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a4539a0358b71595adfbe3d847f1d04bb">RtReplicated::RtReplicated</a></div><div class="ttdeci">RtReplicated(RoutePathReplicator *replicator)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00133">routepath_replicator.cc:133</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a4ebf395c1f7862f8e0ff5e6162a2f641"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a4ebf395c1f7862f8e0ff5e6162a2f641">RtReplicated::replicator_</a></div><div class="ttdeci">RoutePathReplicator * replicator_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00181">routepath_replicator.h:181</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a6304a4c1a31c988f45bfd6f5357cdb31"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a6304a4c1a31c988f45bfd6f5357cdb31">RtReplicated::GetMutableList</a></div><div class="ttdeci">ReplicatedRtPathList * GetMutableList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00177">routepath_replicator.h:177</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a8ae4fcd894f3c3b69c894c6d19b61736"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a8ae4fcd894f3c3b69c894c6d19b61736">RtReplicated::GetList</a></div><div class="ttdeci">const ReplicatedRtPathList &amp; GetList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00176">routepath_replicator.h:176</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_a8b54c6a2c9ce523e6dc0670174cdfdbc"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#a8b54c6a2c9ce523e6dc0670174cdfdbc">RtReplicated::ReplicatedRtPathList</a></div><div class="ttdeci">std::set&lt; SecondaryRouteInfo &gt; ReplicatedRtPathList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00167">routepath_replicator.h:167</a></div></div>
<div class="ttc" id="aclassRtReplicated_html_ad790497a89506851e82d4d7dc57c25a3"><div class="ttname"><a href="../../da/dbd/classRtReplicated.html#ad790497a89506851e82d4d7dc57c25a3">RtReplicated::GetTableNameList</a></div><div class="ttdeci">std::vector&lt; std::string &gt; GetTableNameList(const BgpPath *path) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00155">routepath_replicator.cc:155</a></div></div>
<div class="ttc" id="aclassTableState_1_1DeleteActor_html"><div class="ttname"><a href="../../d6/d6f/classTableState_1_1DeleteActor.html">TableState::DeleteActor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00050">routepath_replicator.cc:50</a></div></div>
<div class="ttc" id="aclassTableState_1_1DeleteActor_html_a3f472fa02f22d802c88ec57396d2a0b9"><div class="ttname"><a href="../../d6/d6f/classTableState_1_1DeleteActor.html#a3f472fa02f22d802c88ec57396d2a0b9">TableState::DeleteActor::ts_</a></div><div class="ttdeci">TableState * ts_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00069">routepath_replicator.cc:69</a></div></div>
<div class="ttc" id="aclassTableState_1_1DeleteActor_html_a66f6829241dc7d6901b436e203eab483"><div class="ttname"><a href="../../d6/d6f/classTableState_1_1DeleteActor.html#a66f6829241dc7d6901b436e203eab483">TableState::DeleteActor::MayDelete</a></div><div class="ttdeci">virtual bool MayDelete() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00057">routepath_replicator.cc:57</a></div></div>
<div class="ttc" id="aclassTableState_1_1DeleteActor_html_ab031071340d3595810a58d259788e096"><div class="ttname"><a href="../../d6/d6f/classTableState_1_1DeleteActor.html#ab031071340d3595810a58d259788e096">TableState::DeleteActor::Shutdown</a></div><div class="ttdeci">virtual void Shutdown()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00061">routepath_replicator.cc:61</a></div></div>
<div class="ttc" id="aclassTableState_1_1DeleteActor_html_af3505e268f400e30889a19e6937f7a4f"><div class="ttname"><a href="../../d6/d6f/classTableState_1_1DeleteActor.html#af3505e268f400e30889a19e6937f7a4f">TableState::DeleteActor::Destroy</a></div><div class="ttdeci">virtual void Destroy()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00064">routepath_replicator.cc:64</a></div></div>
<div class="ttc" id="aclassTableState_1_1DeleteActor_html_af9b48f602ddb94802c441f6f1a032892"><div class="ttname"><a href="../../d6/d6f/classTableState_1_1DeleteActor.html#af9b48f602ddb94802c441f6f1a032892">TableState::DeleteActor::DeleteActor</a></div><div class="ttdeci">DeleteActor(TableState *ts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00052">routepath_replicator.cc:52</a></div></div>
<div class="ttc" id="aclassTableState_html"><div class="ttname"><a href="../../dd/d9a/classTableState.html">TableState</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00048">routepath_replicator.h:48</a></div></div>
<div class="ttc" id="aclassTableState_html_a1920f13299cafe2dfdc9411af1635299"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a1920f13299cafe2dfdc9411af1635299">TableState::ManagedDelete</a></div><div class="ttdeci">void ManagedDelete()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00087">routepath_replicator.cc:87</a></div></div>
<div class="ttc" id="aclassTableState_html_a1c91bfc4d00453c5778f82baf91b7090"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a1c91bfc4d00453c5778f82baf91b7090">TableState::RemoveGroup</a></div><div class="ttdeci">void RemoveGroup(RtGroup *group)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00120">routepath_replicator.cc:120</a></div></div>
<div class="ttc" id="aclassTableState_html_a38c2a83d523f2966a934bc9f6d505ce2"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a38c2a83d523f2966a934bc9f6d505ce2">TableState::walk_ref</a></div><div class="ttdeci">const DBTable::DBTableWalkRef &amp; walk_ref() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00092">routepath_replicator.h:92</a></div></div>
<div class="ttc" id="aclassTableState_html_a3b05db11cdee87493c8a455007be2d2b"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a3b05db11cdee87493c8a455007be2d2b">TableState::deleter_</a></div><div class="ttdeci">boost::scoped_ptr&lt; DeleteActor &gt; deleter_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00109">routepath_replicator.h:109</a></div></div>
<div class="ttc" id="aclassTableState_html_a3d1b53eb1a57508beb3b30aae800dd5b"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a3d1b53eb1a57508beb3b30aae800dd5b">TableState::AddGroup</a></div><div class="ttdeci">void AddGroup(RtGroup *group)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00116">routepath_replicator.cc:116</a></div></div>
<div class="ttc" id="aclassTableState_html_a4797a42c9e2979c822fee6ecf68a4121"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a4797a42c9e2979c822fee6ecf68a4121">TableState::MayDelete</a></div><div class="ttdeci">bool MayDelete() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00103">routepath_replicator.cc:103</a></div></div>
<div class="ttc" id="aclassTableState_html_a4b3cc1f571ae83e82b9c4eccf408a33a"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a4b3cc1f571ae83e82b9c4eccf408a33a">TableState::TableState</a></div><div class="ttdeci">TableState(RoutePathReplicator *replicator, BgpTable *table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00072">routepath_replicator.cc:72</a></div></div>
<div class="ttc" id="aclassTableState_html_a58504adb81d6bdbdc126f7f0146adaf8"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a58504adb81d6bdbdc126f7f0146adaf8">TableState::deleted</a></div><div class="ttdeci">bool deleted() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00091">routepath_replicator.cc:91</a></div></div>
<div class="ttc" id="aclassTableState_html_a673c19868bd3b66d380b438ac18f0b3c"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a673c19868bd3b66d380b438ac18f0b3c">TableState::table</a></div><div class="ttdeci">BgpTable * table() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00084">routepath_replicator.h:84</a></div></div>
<div class="ttc" id="aclassTableState_html_a6f0aa8567f8d8e3d9ccfca5da144da83"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a6f0aa8567f8d8e3d9ccfca5da144da83">TableState::~TableState</a></div><div class="ttdeci">~TableState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00081">routepath_replicator.cc:81</a></div></div>
<div class="ttc" id="aclassTableState_html_a8078c9a7e3c02bdc66033e3d7196e8bb"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a8078c9a7e3c02bdc66033e3d7196e8bb">TableState::set_listener_id</a></div><div class="ttdeci">void set_listener_id(DBTableBase::ListenerId listener_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00069">routepath_replicator.h:69</a></div></div>
<div class="ttc" id="aclassTableState_html_a899ee5fcdb2606e2012c0888a45eebd1"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a899ee5fcdb2606e2012c0888a45eebd1">TableState::FindGroup</a></div><div class="ttdeci">const RtGroup * FindGroup(RtGroup *group) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00124">routepath_replicator.cc:124</a></div></div>
<div class="ttc" id="aclassTableState_html_a8dbb0653082f5bd219f05735839ce650"><div class="ttname"><a href="../../dd/d9a/classTableState.html#a8dbb0653082f5bd219f05735839ce650">TableState::deleter</a></div><div class="ttdeci">LifetimeActor * deleter()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00095">routepath_replicator.cc:95</a></div></div>
<div class="ttc" id="aclassTableState_html_ad48dc24b7fb3576b0ee6e4468bd4bb2c"><div class="ttname"><a href="../../dd/d9a/classTableState.html#ad48dc24b7fb3576b0ee6e4468bd4bb2c">TableState::RetryDelete</a></div><div class="ttdeci">void RetryDelete()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00110">routepath_replicator.cc:110</a></div></div>
<div class="ttc" id="aclassTableState_html_ae8690c1653a8df0fc85e7d8026fe4f85"><div class="ttname"><a href="../../dd/d9a/classTableState.html#ae8690c1653a8df0fc85e7d8026fe4f85">TableState::listener_id</a></div><div class="ttdeci">DBTableBase::ListenerId listener_id() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00068">routepath_replicator.h:68</a></div></div>
<div class="ttc" id="aclassTableState_html_aeadd93f4a3ea6b065ab5748aa8818f8f"><div class="ttname"><a href="../../dd/d9a/classTableState.html#aeadd93f4a3ea6b065ab5748aa8818f8f">TableState::table_</a></div><div class="ttdeci">BgpTable * table_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00107">routepath_replicator.h:107</a></div></div>
<div class="ttc" id="aclassTableState_html_af3c40eea86a7b53f0766e97ee53fba95"><div class="ttname"><a href="../../dd/d9a/classTableState.html#af3c40eea86a7b53f0766e97ee53fba95">TableState::route_count</a></div><div class="ttdeci">uint32_t route_count() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00129">routepath_replicator.cc:129</a></div></div>
<div class="ttc" id="aclassTableState_html_af48d7b8911475438f8dcb58fdd791753"><div class="ttname"><a href="../../dd/d9a/classTableState.html#af48d7b8911475438f8dcb58fdd791753">TableState::replicator</a></div><div class="ttdeci">RoutePathReplicator * replicator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00076">routepath_replicator.h:76</a></div></div>
<div class="ttc" id="aclassTableState_html_aff0c442f129042a68406a875de95ad07"><div class="ttname"><a href="../../dd/d9a/classTableState.html#aff0c442f129042a68406a875de95ad07">TableState::set_walk_ref</a></div><div class="ttdeci">void set_walk_ref(DBTable::DBTableWalkRef walk_ref)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00100">routepath_replicator.h:100</a></div></div>
<div class="ttc" id="aclassTableState_html_affe6b03f9a4a027160441c15462641a5"><div class="ttname"><a href="../../dd/d9a/classTableState.html#affe6b03f9a4a027160441c15462641a5">TableState::list_</a></div><div class="ttdeci">GroupList list_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00111">routepath_replicator.h:111</a></div></div>
<div class="ttc" id="acommunity_8h_html_ac0dffce10e7cbdd4ef9e5a689991344e"><div class="ttname"><a href="../../d1/da6/community_8h.html#ac0dffce10e7cbdd4ef9e5a689991344e">ExtCommunityPtr</a></div><div class="ttdeci">boost::intrusive_ptr&lt; const ExtCommunity &gt; ExtCommunityPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00449">community.h:449</a></div></div>
<div class="ttc" id="aorigin__vn_8h_html"><div class="ttname"><a href="../../dc/d7f/origin__vn_8h.html">origin_vn.h</a></div></div>
<div class="ttc" id="apath__resolver_8h_html"><div class="ttname"><a href="../../dc/d52/path__resolver_8h.html">path_resolver.h</a></div></div>
<div class="ttc" id="aroutepath__replicator_8cc_html_accd8b84adedc63613608ff4758af8d6f"><div class="ttname"><a href="../../d4/d40/routepath__replicator_8cc.html#accd8b84adedc63613608ff4758af8d6f">RPR_TRACE</a></div><div class="ttdeci">#define RPR_TRACE(obj,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00034">routepath_replicator.cc:34</a></div></div>
<div class="ttc" id="aroutepath__replicator_8cc_html_aea7d2a23d84d20467081e97f2ec0fe6c"><div class="ttname"><a href="../../d4/d40/routepath__replicator_8cc.html#aea7d2a23d84d20467081e97f2ec0fe6c">RPR_TRACE_ONLY</a></div><div class="ttdeci">#define RPR_TRACE_ONLY(obj,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00043">routepath_replicator.cc:43</a></div></div>
<div class="ttc" id="aroutepath__replicator_8cc_html_af6853491763a5bf4f11363809cfecf0a"><div class="ttname"><a href="../../d4/d40/routepath__replicator_8cc.html#af6853491763a5bf4f11363809cfecf0a">UpdateOriginVn</a></div><div class="ttdeci">static ExtCommunityPtr UpdateOriginVn(BgpServer *server, const ExtCommunity *ext_community, int vn_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00385">routepath_replicator.cc:385</a></div></div>
<div class="ttc" id="aroutepath__replicator_8cc_html_af7c41b3869905ebf1cd0b5dd4abf7931"><div class="ttname"><a href="../../d4/d40/routepath__replicator_8cc.html#af7c41b3869905ebf1cd0b5dd4abf7931">UpdateExtCommunity</a></div><div class="ttdeci">static ExtCommunityPtr UpdateExtCommunity(BgpServer *server, const RoutingInstance *rtinstance, const ExtCommunity *ext_community, const ExtCommunity::ExtCommunityList &amp;export_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00414">routepath_replicator.cc:414</a></div></div>
<div class="ttc" id="aroutepath__replicator_8h_html"><div class="ttname"><a href="../../d9/d43/routepath__replicator_8h.html">routepath_replicator.h</a></div></div>
<div class="ttc" id="arouting__instance_8h_html"><div class="ttname"><a href="../../d0/df1/routing__instance_8h.html">routing_instance.h</a></div></div>
<div class="ttc" id="artarget__group__mgr_8h_html"><div class="ttname"><a href="../../d4/d0b/rtarget__group__mgr_8h.html">rtarget_group_mgr.h</a></div></div>
<div class="ttc" id="asandesh__trace_8h_html_ad09ddbb00929792cd2d9164441f09492"><div class="ttname"><a href="../../d0/db5/sandesh__trace_8h.html#ad09ddbb00929792cd2d9164441f09492">SandeshTraceBufferCreate</a></div><div class="ttdeci">SandeshTraceBufferPtr SandeshTraceBufferCreate(const std::string &amp;buf_name, size_t buf_size, bool trace_enable=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db5/sandesh__trace_8h_source.html#l00046">sandesh_trace.h:46</a></div></div>
<div class="ttc" id="aset__util_8h_html"><div class="ttname"><a href="../../db/ddd/set__util_8h.html">set_util.h</a></div></div>
<div class="ttc" id="aset__util_8h_html_a067b995af9dcfdbcbc405204332c0549"><div class="ttname"><a href="../../db/ddd/set__util_8h.html#a067b995af9dcfdbcbc405204332c0549">set_synchronize</a></div><div class="ttdeci">bool set_synchronize(const SetType *set1, const SetType *set2, AddFunctor add_fn, DelFunctor del_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/set__util_8h_source.html#l00021">set_util.h:21</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html">RtReplicated::SecondaryRouteInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00133">routepath_replicator.h:133</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html_a1e7644d980888b7bcc121cb0784db73d"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a1e7644d980888b7bcc121cb0784db73d">RtReplicated::SecondaryRouteInfo::table_</a></div><div class="ttdeci">BgpTable * table_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00135">routepath_replicator.h:135</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html_a455d9167dc6836921b0c34c2a383ae13"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a455d9167dc6836921b0c34c2a383ae13">RtReplicated::SecondaryRouteInfo::src_</a></div><div class="ttdeci">BgpPath::PathSource src_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00138">routepath_replicator.h:138</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html_a740c99a2f4f34abb6cdb02b649f43e65"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a740c99a2f4f34abb6cdb02b649f43e65">RtReplicated::SecondaryRouteInfo::ToString</a></div><div class="ttdeci">std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/routepath__replicator_8cc_source.html#l00738">routepath_replicator.cc:738</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html_a911d661170d209999b91bd230530b258"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a911d661170d209999b91bd230530b258">RtReplicated::SecondaryRouteInfo::peer_</a></div><div class="ttdeci">const IPeer * peer_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00136">routepath_replicator.h:136</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html_a92c0c7601a6566b50b66a1936bc09b69"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#a92c0c7601a6566b50b66a1936bc09b69">RtReplicated::SecondaryRouteInfo::path_id_</a></div><div class="ttdeci">uint32_t path_id_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00137">routepath_replicator.h:137</a></div></div>
<div class="ttc" id="astructRtReplicated_1_1SecondaryRouteInfo_html_afb3ac5d2e87652b7d92be8ae388499ae"><div class="ttname"><a href="../../db/dcd/structRtReplicated_1_1SecondaryRouteInfo.html#afb3ac5d2e87652b7d92be8ae388499ae">RtReplicated::SecondaryRouteInfo::rt_</a></div><div class="ttdeci">BgpRoute * rt_</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d43/routepath__replicator_8h_source.html#l00139">routepath_replicator.h:139</a></div></div>
<div class="ttc" id="astructdeleter_html"><div class="ttname"><a href="../../db/d83/structdeleter.html">deleter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/src_2contrail-common_2base_2proto_8cc_source.html#l00029">src/contrail-common/base/proto.cc:29</a></div></div>
<div class="ttc" id="atask__annotations_8h_html"><div class="ttname"><a href="../../d6/de9/task__annotations_8h.html">task_annotations.h</a></div></div>
<div class="ttc" id="atask__annotations_8h_html_ad8b4494991b88809b724529f4a43bb8b"><div class="ttname"><a href="../../d6/de9/task__annotations_8h.html#ad8b4494991b88809b724529f4a43bb8b">CHECK_CONCURRENCY</a></div><div class="ttdeci">#define CHECK_CONCURRENCY(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de9/task__annotations_8h_source.html#l00039">task_annotations.h:39</a></div></div>
<div class="ttc" id="atask__trigger_8h_html"><div class="ttname"><a href="../../de/de9/task__trigger_8h.html">task_trigger.h</a></div></div>
<div class="ttc" id="atime__util_8h_html_afd0d4d28c676a532b89ce6cfd1fc7e95"><div class="ttname"><a href="../../d0/d91/time__util_8h.html#afd0d4d28c676a532b89ce6cfd1fc7e95">UTCTimestampUsec</a></div><div class="ttdeci">static uint64_t UTCTimestampUsec()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d91/time__util_8h_source.html#l00013">time_util.h:13</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0a7d39584c34dc4772b798c7b583750f.html">contrail</a></li><li class="navelem"><a class="el" href="../../dir_2a1a0f5bd3fae8c3e47f1701b5222318.html">controller</a></li><li class="navelem"><a class="el" href="../../dir_c5f44869b24dae5488ef95224fa0de41.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5ec91433f7a345fb76510642ab518f16.html">bgp</a></li><li class="navelem"><a class="el" href="../../dir_f1b3d5edf56d51499caada3af2468c9f.html">routing-instance</a></li><li class="navelem"><a class="el" href="../../d4/d40/routepath__replicator_8cc.html">routepath_replicator.cc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
