<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSDN source code: routing_policy_match.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSDN source code
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d06/routing__policy__match_8cc_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">routing_policy_match.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/d06/routing__policy__match_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2015 Juniper Networks, Inc. All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/de5/routing__policy__match_8h.html">bgp/routing-policy/routing_policy_match.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;boost/foreach.hpp&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;boost/assign/list_of.hpp&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d86/ipeer_8h.html">bgp/ipeer.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d4d/bgp__attr_8h.html">bgp/bgp_attr.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d57/bgp__path_8h.html">bgp/bgp_path.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dce/default__gateway_8h.html">bgp/extended-community/default_gateway.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d31/es__import_8h.html">bgp/extended-community/es_import.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/de2/esi__label_8h.html">bgp/extended-community/esi_label.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d9d/etree_8h.html">bgp/extended-community/etree.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dcb/load__balance_8h.html">bgp/extended-community/load_balance.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dcc/mac__mobility_8h.html">bgp/extended-community/mac_mobility.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dfc/router__mac_8h.html">bgp/extended-community/router_mac.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d71/site__of__origin_8h.html">bgp/extended-community/site_of_origin.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/df6/source__as_8h.html">bgp/extended-community/source_as.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dfd/bgp_2extended-community_2tag_8h.html">bgp/extended-community/tag.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d60/vrf__route__import_8h.html">bgp/extended-community/vrf_route_import.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7f/origin__vn_8h.html">bgp/origin-vn/origin_vn.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d43/routepath__replicator_8h.html">bgp/routing-instance/routepath_replicator.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/df1/routing__instance_8h.html">bgp/routing-instance/routing_instance.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d25/rtarget__address_8h.html">bgp/rtarget/rtarget_address.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/df9/security__group_8h.html">bgp/security_group/security_group.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d6d/tunnel__encap_8h.html">bgp/tunnel_encap/tunnel_encap.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d09/community__type_8h.html">net/community_type.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">using</span> <a class="code" href="../../dd/d06/classcontrail_1_1regex.html">contrail::regex</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">contrail::regex_match</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/dfa/namespacecontrail.html#a27412c58b1c934c21cbac2595cc044b0">contrail::regex_search</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">using</span> std::includes;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">using</span> std::map;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using</span> std::ostringstream;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using</span> std::sort;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">using</span> std::string;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">using</span> std::unique;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">using</span> std::vector;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">using</span> std::find;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#ac47a4ac3d59eb2d6768aedf2f11a3128">   50</a></span>&#160;<a class="code" href="../../df/d5c/classMatchCommunity.html#ac47a4ac3d59eb2d6768aedf2f11a3128">MatchCommunity::MatchCommunity</a>(<span class="keyword">const</span> vector&lt;string&gt; &amp;communities,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">bool</span> match_all) : match_all_(match_all) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// Assume that the each community string that doesn&#39;t correspond to a</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// community name or value is a regex string.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;community, <a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        uint32_t value = <a class="code" href="../../d0/d7e/classCommunityType.html#a5c62a3b2ed162f84f612fd54d370610c">CommunityType::CommunityFromString</a>(community);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span> (value) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="../../df/d5c/classMatchCommunity.html#a746de7b595634521f1ffc9e90c358b68">to_match_</a>.insert(value);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.push_back(community);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// Sort and uniquify the vector of regex strings.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    sort(<a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.begin(), <a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.end());</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    vector&lt;string&gt;::iterator it =</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        unique(<a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.begin(), <a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.end());</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.erase(it, <a class="code" href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">to_match_regex_strings_</a>.end());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Build a vector of regexs corresponding to the regex strings.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    BOOST_FOREACH(<span class="keywordtype">string</span> regex_str, <a class="code" href="../../df/d5c/classMatchCommunity.html#a3a17f3abc219a30df83af78469381f75">regex_strings</a>()) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="../../df/d5c/classMatchCommunity.html#af892bda6574247e49af28719392d8d5b">to_match_regexs_</a>.push_back(<a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a>(regex_str));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#abe09ff6555d3cb9a488c969dfecb4ce1">   75</a></span>&#160;<a class="code" href="../../df/d5c/classMatchCommunity.html#abe09ff6555d3cb9a488c969dfecb4ce1">MatchCommunity::~MatchCommunity</a>() {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// Return true if all community strings (normal or regex) are matched by the</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// community values in the BgpAttr.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#afa773568f0ccc24312b7e6b059857422">   82</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../df/d5c/classMatchCommunity.html#afa773568f0ccc24312b7e6b059857422">MatchCommunity::MatchAll</a>(<span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// Bail if there&#39;s no community values in the BgpAttr.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/da5/classCommunity.html">Community</a> *comm = attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#a90247a385e9a858fbe792f2b519fd7e9">community</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (!comm)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Make sure that all non-regex communities in this MatchCommunity are</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// present in the BgpAttr.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    vector&lt;uint32_t&gt; list = comm-&gt;<a class="code" href="../../db/da5/classCommunity.html#a24f09c59014624cbab8e78d96990868f">communities</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    sort(list.begin(), list.end());</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (!includes(list.begin(), list.end(),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>().begin(), <a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>().end())) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// Make sure that each regex in this MatchCommunity is matched by one</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// of the communities in the BgpAttr.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a> &amp;match_expr, <a class="code" href="../../df/d5c/classMatchCommunity.html#a58986499769faec7bc3b8aba6cf55400">regexs</a>()) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordtype">bool</span> matched = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        BOOST_FOREACH(uint32_t community, comm-&gt;<a class="code" href="../../db/da5/classCommunity.html#a24f09c59014624cbab8e78d96990868f">communities</a>()) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordtype">string</span> community_str = <a class="code" href="../../d0/d7e/classCommunityType.html#a9e822345cb18ede7d0b2caa3d3dfe5df">CommunityType::CommunityToString</a>(community);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">regex_match</a>(community_str, match_expr)) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                matched = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (!matched)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">// Return true if any community strings (normal or regex) is matched by the</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">// community values in the BgpAttr.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#a455ae561fb64dcad074a86463b46a669">  119</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../df/d5c/classMatchCommunity.html#a455ae561fb64dcad074a86463b46a669">MatchCommunity::MatchAny</a>(<span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Bail if there&#39;s no community values in the BgpAttr.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/da5/classCommunity.html">Community</a> *comm = attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#a90247a385e9a858fbe792f2b519fd7e9">community</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (!comm)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// Check if any of the community values in the BgpAttr matches one of</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// the normal community strings.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    BOOST_FOREACH(uint32_t community, comm-&gt;<a class="code" href="../../db/da5/classCommunity.html#a24f09c59014624cbab8e78d96990868f">communities</a>()) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>().find(community) != <a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>().end())</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// Check if any of the community values in the BgpAttr matches one of</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// the community regexs.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    BOOST_FOREACH(uint32_t community, comm-&gt;<a class="code" href="../../db/da5/classCommunity.html#a24f09c59014624cbab8e78d96990868f">communities</a>()) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordtype">string</span> community_str = <a class="code" href="../../d0/d7e/classCommunityType.html#a9e822345cb18ede7d0b2caa3d3dfe5df">CommunityType::CommunityToString</a>(community);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a> &amp;match_expr, <a class="code" href="../../df/d5c/classMatchCommunity.html#a58986499769faec7bc3b8aba6cf55400">regexs</a>()) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">regex_match</a>(community_str, match_expr))</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// Return true if the BgpPath matches this MatchCommunity.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#a327e507ba996b722093d716c163ea8b3">  148</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../df/d5c/classMatchCommunity.html#a327e507ba996b722093d716c163ea8b3">MatchCommunity::Match</a>(<span class="keyword">const</span> <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *route, <span class="keyword">const</span> <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d5c/classMatchCommunity.html#a213eac24f5b95225e99d4352acadf0ef">match_all_</a> ? <a class="code" href="../../df/d5c/classMatchCommunity.html#afa773568f0ccc24312b7e6b059857422">MatchAll</a>(attr) : <a class="code" href="../../df/d5c/classMatchCommunity.html#a455ae561fb64dcad074a86463b46a669">MatchAny</a>(attr));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// Return string representation of this MatchCommunity.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#afe5bfe1ca22124d6fc2e1da455060b2d">  156</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="../../df/d5c/classMatchCommunity.html#afe5bfe1ca22124d6fc2e1da455060b2d">MatchCommunity::ToString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    ostringstream oss;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d5c/classMatchCommunity.html#a213eac24f5b95225e99d4352acadf0ef">match_all_</a>) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;community (all) [ &quot;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;community (any) [ &quot;</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    BOOST_FOREACH(uint32_t community, <a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>()) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordtype">string</span> name = <a class="code" href="../../d0/d7e/classCommunityType.html#a9e822345cb18ede7d0b2caa3d3dfe5df">CommunityType::CommunityToString</a>(community);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        oss &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    BOOST_FOREACH(<span class="keywordtype">string</span> regex_str, <a class="code" href="../../df/d5c/classMatchCommunity.html#a3a17f3abc219a30df83af78469381f75">regex_strings</a>()) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        oss &lt;&lt; regex_str &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    oss.seekp(-1, oss.cur);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">// Return true if this MatchCommunity is equal to the one supplied.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="../../df/d5c/classMatchCommunity.html#aa3975146731497fbf9f68ace918e9af7">  178</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../df/d5c/classMatchCommunity.html#aa3975146731497fbf9f68ace918e9af7">MatchCommunity::IsEqual</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d31/classRoutingPolicyMatch.html">RoutingPolicyMatch</a> &amp;community)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../df/d5c/classMatchCommunity.html">MatchCommunity</a> in_community =</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../df/d5c/classMatchCommunity.html">MatchCommunity</a> &amp;<span class="keyword">&gt;</span>(community);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d5c/classMatchCommunity.html#a7d956c321cf58f9021b7e337608afa16">match_all</a>() != in_community.<a class="code" href="../../df/d5c/classMatchCommunity.html#a7d956c321cf58f9021b7e337608afa16">match_all</a>())</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>() != in_community.<a class="code" href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">communities</a>())</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d5c/classMatchCommunity.html#a3a17f3abc219a30df83af78469381f75">regex_strings</a>() != in_community.<a class="code" href="../../df/d5c/classMatchCommunity.html#a3a17f3abc219a30df83af78469381f75">regex_strings</a>())</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#ade7747abf31a21caa0b2730b4e4744e8">  190</a></span>&#160;<a class="code" href="../../d9/d44/classMatchExtCommunity.html#ade7747abf31a21caa0b2730b4e4744e8">MatchExtCommunity::MatchExtCommunity</a>(<span class="keyword">const</span> vector&lt;string&gt; &amp;communities,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">bool</span> match_all) : match_all_(match_all) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Assume that the each community string that doesn&#39;t correspond to a</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// community name or value is a regex string.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;community, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html#a4fcc6e4052f4d113fce6afee7c0aef48">ExtCommunity::ExtCommunityList</a> list =</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="../../da/d36/classExtCommunity.html#a150d8575789eaa7e6c6abc709fd8ade7">ExtCommunity::ExtCommunityFromString</a>(community);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (list.size()) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a829a586989b35cad0008b77ecfc88bd2">Find</a>(list[0]))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a9cb1a8380cf5f966341e9f427ad5e897">to_match_</a>.push_back(list[0]);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.push_back(community);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// Sort and uniquify the vector of regex strings.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    sort(<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a9cb1a8380cf5f966341e9f427ad5e897">to_match_</a>.begin(), <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a9cb1a8380cf5f966341e9f427ad5e897">to_match_</a>.end());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    sort(<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.begin(), <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.end());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    vector&lt;string&gt;::iterator it =</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        unique(<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.begin(), <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.end());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.erase(it, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">to_match_regex_strings_</a>.end());</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// Build a vector of regexs corresponding to the regex strings.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    BOOST_FOREACH(<span class="keywordtype">string</span> regex_str, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a5b95e945a699b069e753e4955c9e4492">regex_strings</a>()) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a037e102d7d2d67036cc5f133156d9c56">to_match_regexs_</a>.push_back(<a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a>(regex_str));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#ac1c2341f038d72721b709d4d80ff0ea0">  218</a></span>&#160;<a class="code" href="../../d9/d44/classMatchExtCommunity.html#ac1c2341f038d72721b709d4d80ff0ea0">MatchExtCommunity::~MatchExtCommunity</a>() {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">// Return true if all community strings (normal or regex) are matched by the</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// community values in the BgpAttr.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#ae542021d30336be3b469464c034e40dc">  225</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html#ae542021d30336be3b469464c034e40dc">MatchExtCommunity::MatchAll</a>(<span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// Bail if there&#39;s no community values in the BgpAttr.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html">ExtCommunity</a> *comm = attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#ab5d58214ded24f3074bb3fafca9af08a">ext_community</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (!comm)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// Make sure that all non-regex communities in this MatchExtCommunity are</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// present in the BgpAttr.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="../../da/d36/classExtCommunity.html#a4fcc6e4052f4d113fce6afee7c0aef48">ExtCommunity::ExtCommunityList</a> list = comm-&gt;<a class="code" href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">communities</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    sort(list.begin(), list.end());</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (!includes(list.begin(), list.end(),</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>().begin(), <a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>().end())) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// Make sure that each regex in this MatchExtCommunity is matched by one</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// of the communities in the BgpAttr.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a> &amp;match_expr, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a61d50ecbe3a73a5266c42d3d256305ba">regexs</a>()) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">bool</span> matched = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        BOOST_FOREACH(<a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> community,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                      comm-&gt;<a class="code" href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">communities</a>()) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordtype">string</span> community_str = <a class="code" href="../../da/d36/classExtCommunity.html#a65256d3c2303626518bcfeecaf8af856">ExtCommunity::ToString</a>(community);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">regex_match</a>(community_str, match_expr)) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                matched = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            community_str = <a class="code" href="../../da/d36/classExtCommunity.html#a599d65d66101d3549224e30606cd89ee">ExtCommunity::ToHexString</a>(community);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">regex_match</a>(community_str, match_expr)) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                matched = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (!matched)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#a829a586989b35cad0008b77ecfc88bd2">  264</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a829a586989b35cad0008b77ecfc88bd2">MatchExtCommunity::Find</a>(<span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> &amp;community)<span class="keyword"></span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">                            const </span>{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> (std::find(<a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>().begin(), <a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>().end(), community) !=</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>().end());</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">// Return true if any community strings (normal or regex) is matched by the</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// community values in the BgpAttr.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#ad94b764254acca0369972edcdd99d790">  274</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html#ad94b764254acca0369972edcdd99d790">MatchExtCommunity::MatchAny</a>(<span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// Bail if there&#39;s no community values in the BgpAttr.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/d36/classExtCommunity.html">ExtCommunity</a> *comm = attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#ab5d58214ded24f3074bb3fafca9af08a">ext_community</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (!comm)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// Check if any of the community values in the BgpAttr matches one of</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// the normal community strings.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    BOOST_FOREACH(<a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> community,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                  comm-&gt;<a class="code" href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">communities</a>()) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a829a586989b35cad0008b77ecfc88bd2">Find</a>(community))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// Check if any of the community values in the BgpAttr matches one of</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// the community regexs.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    BOOST_FOREACH(<a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> community,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                  comm-&gt;<a class="code" href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">communities</a>()) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordtype">string</span> community_str = <a class="code" href="../../da/d36/classExtCommunity.html#a65256d3c2303626518bcfeecaf8af856">ExtCommunity::ToString</a>(community);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a> &amp;match_expr, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a61d50ecbe3a73a5266c42d3d256305ba">regexs</a>()) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">regex_match</a>(community_str, match_expr))</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        community_str = <a class="code" href="../../da/d36/classExtCommunity.html#a599d65d66101d3549224e30606cd89ee">ExtCommunity::ToHexString</a>(community);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d06/classcontrail_1_1regex.html">regex</a> &amp;match_expr, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a61d50ecbe3a73a5266c42d3d256305ba">regexs</a>()) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">regex_match</a>(community_str, match_expr))</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">// Return true if the BgpPath matches this MatchExtCommunity.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#a0ef1461cc8385cfd51688a6c9a7e488b">  310</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a0ef1461cc8385cfd51688a6c9a7e488b">MatchExtCommunity::Match</a>(<span class="keyword">const</span> <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *route, <span class="keyword">const</span> <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                              <span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a6f8bc64999407987b10b158a9f73aaa2">match_all_</a> ? <a class="code" href="../../d9/d44/classMatchExtCommunity.html#ae542021d30336be3b469464c034e40dc">MatchAll</a>(attr) : <a class="code" href="../../d9/d44/classMatchExtCommunity.html#ad94b764254acca0369972edcdd99d790">MatchAny</a>(attr));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// Return string representation of this MatchExtCommunity.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#adb2f216a6eb0924ab146ce31902a7772">  318</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html#adb2f216a6eb0924ab146ce31902a7772">MatchExtCommunity::ToString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    ostringstream oss;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a6f8bc64999407987b10b158a9f73aaa2">match_all_</a>) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;Extcommunity (all) [ &quot;</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;Extcommunity (any) [ &quot;</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    BOOST_FOREACH(<a class="code" href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a> community, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>()) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordtype">string</span> name = <a class="code" href="../../da/d36/classExtCommunity.html#a65256d3c2303626518bcfeecaf8af856">ExtCommunity::ToString</a>(community);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        oss &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    BOOST_FOREACH(<span class="keywordtype">string</span> regex_str, <a class="code" href="../../d9/d44/classMatchExtCommunity.html#a5b95e945a699b069e753e4955c9e4492">regex_strings</a>()) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        oss &lt;&lt; regex_str &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    oss.seekp(-1, oss.cur);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">// Return true if this MatchExtCommunity is equal to the one supplied.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="../../d9/d44/classMatchExtCommunity.html#ae17e89a9af3dbc19ce5ff52102952724">  340</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html#ae17e89a9af3dbc19ce5ff52102952724">MatchExtCommunity::IsEqual</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d31/classRoutingPolicyMatch.html">RoutingPolicyMatch</a> &amp;community)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/d44/classMatchExtCommunity.html">MatchExtCommunity</a> in_community =</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d9/d44/classMatchExtCommunity.html">MatchExtCommunity</a> &amp;<span class="keyword">&gt;</span>(community);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d44/classMatchExtCommunity.html#ab954c347d597f286785caf99ba14e04c">match_all</a>() != in_community.<a class="code" href="../../d9/d44/classMatchExtCommunity.html#ab954c347d597f286785caf99ba14e04c">match_all</a>())</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>() != in_community.<a class="code" href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">communities</a>())</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a5b95e945a699b069e753e4955c9e4492">regex_strings</a>() != in_community.<a class="code" href="../../d9/d44/classMatchExtCommunity.html#a5b95e945a699b069e753e4955c9e4492">regex_strings</a>())</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="../../d9/da6/classMatchPrefix.html#afd85b643734b90ee17f36d899015c143">  353</a></span>&#160;<span class="keyword">typename</span> <a class="code" href="../../d9/da6/classMatchPrefix.html#a8d389630f1a7d05ae875081465cd0a12">MatchPrefix&lt;T&gt;::MatchType</a> <a class="code" href="../../d9/da6/classMatchPrefix.html#afd85b643734b90ee17f36d899015c143">MatchPrefix&lt;T&gt;::GetMatchType</a>(</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;match_type_str) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="../../d9/da6/classMatchPrefix.html#a8d389630f1a7d05ae875081465cd0a12">MatchType</a> match_type = EXACT;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (match_type_str == <span class="stringliteral">&quot;exact&quot;</span>) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        match_type = EXACT;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (match_type_str == <span class="stringliteral">&quot;longer&quot;</span>) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        match_type = LONGER;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (match_type_str == <span class="stringliteral">&quot;orlonger&quot;</span>) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        match_type = ORLONGER;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> match_type;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="../../d9/da6/classMatchPrefix.html#a66c253cf9aac929a65d2249bc120d09f">  367</a></span>&#160;<a class="code" href="../../d9/da6/classMatchPrefix.html#a66c253cf9aac929a65d2249bc120d09f">MatchPrefix&lt;T&gt;::MatchPrefix</a>(<span class="keyword">const</span> <a class="code" href="../../df/d8a/bgp__config_8h.html#ae21f84c4cfc55970f3a3385a7221db8e">PrefixMatchConfigList</a> &amp;match_config_list) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dc/db8/structPrefixMatchConfig.html">PrefixMatchConfig</a> &amp;match_config, match_config_list) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        boost::system::error_code ec;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="../../d9/da6/classMatchPrefix.html#a1030d92beb8df84e8e6414f7182d5df4">PrefixT</a> prefix = <a class="code" href="../../d3/d34/physical__device_8cc.html#a97ec014158156a2e01cdc55091539f4a">PrefixT::FromString</a>(match_config.<a class="code" href="../../dc/db8/structPrefixMatchConfig.html#a3f9c93fd53d33da5a3a0e121e592f3ae">prefix_to_match</a>, &amp;ec);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="../../d9/da6/classMatchPrefix.html#a8d389630f1a7d05ae875081465cd0a12">MatchType</a> match_type =</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <a class="code" href="../../d9/da6/classMatchPrefix.html#afd85b643734b90ee17f36d899015c143">MatchPrefix&lt;T&gt;::GetMatchType</a>(match_config.<a class="code" href="../../dc/db8/structPrefixMatchConfig.html#a87af496729f82820032dad814486ebbd">prefix_match_type</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        match_list_.push_back(<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html">PrefixMatch</a>(prefix, match_type));</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Sort and uniquify the vector of PrefixMatch elements.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    sort(match_list_.begin(), match_list_.end());</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">typename</span> PrefixMatchList::iterator it =</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        unique(match_list_.begin(), match_list_.end());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    match_list_.erase(it, match_list_.end());</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="../../d9/da6/classMatchPrefix.html#a55929dea266d30e6c81b624626f8318f">  384</a></span>&#160;<a class="code" href="../../d9/da6/classMatchPrefix.html#a55929dea266d30e6c81b624626f8318f">MatchPrefix&lt;T&gt;::~MatchPrefix</a>() {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="../../d9/da6/classMatchPrefix.html#a97d7c76769441c67a28319f3c68ec6e3">  388</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/da6/classMatchPrefix.html#a97d7c76769441c67a28319f3c68ec6e3">MatchPrefix&lt;T&gt;::Match</a>(<span class="keyword">const</span> <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *route, <span class="keyword">const</span> <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/da6/classMatchPrefix.html#ad7617c28cb6ffce714d7f17abdf5db3f">RouteT</a> *in_route = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d9/da6/classMatchPrefix.html#ad7617c28cb6ffce714d7f17abdf5db3f">RouteT</a> *<span class="keyword">&gt;</span>(route);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (in_route == NULL)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/da6/classMatchPrefix.html#a1030d92beb8df84e8e6414f7182d5df4">PrefixT</a> &amp;prefix = in_route-&gt;GetPrefix();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html">PrefixMatch</a> &amp;prefix_match, match_list_) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a711786f62cd24d366e0935d6b081130d">match_type</a> == EXACT) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span> (prefix == prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a403090ea795285716a44dddef32bc611">prefix</a>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a711786f62cd24d366e0935d6b081130d">match_type</a> == LONGER) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span> (prefix == prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a403090ea795285716a44dddef32bc611">prefix</a>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (prefix.IsMoreSpecific(prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a403090ea795285716a44dddef32bc611">prefix</a>))</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a711786f62cd24d366e0935d6b081130d">match_type</a> == ORLONGER) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">if</span> (prefix.IsMoreSpecific(prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a403090ea795285716a44dddef32bc611">prefix</a>))</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="../../d9/da6/classMatchPrefix.html#a23295fbbdfd77f46a11db3bc514dd15e">  412</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/da6/classMatchPrefix.html#a23295fbbdfd77f46a11db3bc514dd15e">MatchPrefix&lt;T&gt;::IsEqual</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d31/classRoutingPolicyMatch.html">RoutingPolicyMatch</a> &amp;prefix)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/da6/classMatchPrefix.html">MatchPrefix</a> in_prefix = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d9/da6/classMatchPrefix.html">MatchPrefix</a>&amp;<span class="keyword">&gt;</span>(prefix);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">return</span> (in_prefix.<a class="code" href="../../d9/da6/classMatchPrefix.html#a5b776696a60fe970058ba0a9a94cbdd7">match_list_</a> == match_list_);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d9/da6/classMatchPrefix.html#a2405b5b9ba32c70c3035d0960d1924ea">  418</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="../../d9/da6/classMatchPrefix.html#a2405b5b9ba32c70c3035d0960d1924ea">MatchPrefix&lt;T&gt;::ToString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    ostringstream oss;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;prefix [&quot;</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html">PrefixMatch</a> &amp;prefix_match, match_list_) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a403090ea795285716a44dddef32bc611">prefix</a>.ToString();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span>  (prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a711786f62cd24d366e0935d6b081130d">match_type</a> == LONGER) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            oss &lt;&lt; <span class="stringliteral">&quot; longer&quot;</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (prefix_match.<a class="code" href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a711786f62cd24d366e0935d6b081130d">match_type</a> == ORLONGER) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            oss &lt;&lt; <span class="stringliteral">&quot; orlonger&quot;</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    oss.seekp(-1, oss.cur);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="../../d9/da6/classMatchPrefix.html">MatchPrefix&lt;PrefixMatchInet&gt;</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="../../d9/da6/classMatchPrefix.html">MatchPrefix&lt;PrefixMatchInet6&gt;</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#ac628091a41a04899a633275c1d3d3df5">  438</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> map&lt;string, MatchProtocol::MatchProtocolType&gt; <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ac628091a41a04899a633275c1d3d3df5">fromString</a></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  = boost::assign::map_list_of</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    (<span class="stringliteral">&quot;bgp&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa22efd06dbfe74f25bff94405e5536aeb">MatchProtocol::BGP</a>)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    (<span class="stringliteral">&quot;xmpp&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa27aa4a7735e5e403fd9ca0e53a906128">MatchProtocol::XMPP</a>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    (<span class="stringliteral">&quot;static&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa64d648ad3dc94855dc0f41f15d2c7cf9">MatchProtocol::StaticRoute</a>)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    (<span class="stringliteral">&quot;service-chain&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa6fd6c83b7468c14ee90e37ed3a360c2b">MatchProtocol::ServiceChainRoute</a>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    (<span class="stringliteral">&quot;aggregate&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa1e929720c373e0cc379feda7e3c3e86c">MatchProtocol::AggregateRoute</a>)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    (<span class="stringliteral">&quot;interface&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faa1aa937662ddde137813caefdb203973">MatchProtocol::Interface</a>)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    (<span class="stringliteral">&quot;interface-static&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa46acee316a6f9bf70225b1f7b6c3fce4">MatchProtocol::InterfaceStatic</a>)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    (<span class="stringliteral">&quot;service-interface&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa336341af8f6895b2f2a5557a3974b162">MatchProtocol::ServiceInterface</a>)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    (<span class="stringliteral">&quot;bgpaas&quot;</span>, <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa7cfd287f3d9c0da62ce27304f73fab2a">MatchProtocol::BGPaaS</a>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#a8c0c5623bc2ff5f3ccad245f66c9df38">  450</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> map&lt;MatchProtocol::MatchProtocolType, string&gt; <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a8c0c5623bc2ff5f3ccad245f66c9df38">toString</a></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  = boost::assign::map_list_of</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa22efd06dbfe74f25bff94405e5536aeb">MatchProtocol::BGP</a>, <span class="stringliteral">&quot;bgp&quot;</span>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa27aa4a7735e5e403fd9ca0e53a906128">MatchProtocol::XMPP</a>, <span class="stringliteral">&quot;xmpp&quot;</span>)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa64d648ad3dc94855dc0f41f15d2c7cf9">MatchProtocol::StaticRoute</a>, <span class="stringliteral">&quot;static&quot;</span>)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa6fd6c83b7468c14ee90e37ed3a360c2b">MatchProtocol::ServiceChainRoute</a>, <span class="stringliteral">&quot;service-chain&quot;</span>)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa1e929720c373e0cc379feda7e3c3e86c">MatchProtocol::AggregateRoute</a>, <span class="stringliteral">&quot;aggregate&quot;</span>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faa1aa937662ddde137813caefdb203973">MatchProtocol::Interface</a>, <span class="stringliteral">&quot;interface&quot;</span>)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa46acee316a6f9bf70225b1f7b6c3fce4">MatchProtocol::InterfaceStatic</a>, <span class="stringliteral">&quot;interface-static&quot;</span>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa336341af8f6895b2f2a5557a3974b162">MatchProtocol::ServiceInterface</a>, <span class="stringliteral">&quot;service-interface&quot;</span>)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa7cfd287f3d9c0da62ce27304f73fab2a">MatchProtocol::BGPaaS</a>, <span class="stringliteral">&quot;bgpaas&quot;</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> map&lt;MatchProtocol::MatchProtocolType, BgpPath::PathSource&gt;</div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#acd880204512df4bc3eff45b835414e80">  463</a></span>&#160;    <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#acd880204512df4bc3eff45b835414e80">pathSourceMap</a> = boost::assign::map_list_of</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa22efd06dbfe74f25bff94405e5536aeb">MatchProtocol::BGP</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a>)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa27aa4a7735e5e403fd9ca0e53a906128">MatchProtocol::XMPP</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa64d648ad3dc94855dc0f41f15d2c7cf9">MatchProtocol::StaticRoute</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0af854abd22ea415c1fa0f6735348c4541">BgpPath::StaticRoute</a>)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa6fd6c83b7468c14ee90e37ed3a360c2b">MatchProtocol::ServiceChainRoute</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a2dcd69e6a854055bc7af328096285769">BgpPath::ServiceChain</a>)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa1e929720c373e0cc379feda7e3c3e86c">MatchProtocol::AggregateRoute</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a4293cdd72996cdb7bd87516d179372d6">BgpPath::Aggregate</a>)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faa1aa937662ddde137813caefdb203973">MatchProtocol::Interface</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a>)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa46acee316a6f9bf70225b1f7b6c3fce4">MatchProtocol::InterfaceStatic</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a>)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa336341af8f6895b2f2a5557a3974b162">MatchProtocol::ServiceInterface</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a>)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa7cfd287f3d9c0da62ce27304f73fab2a">MatchProtocol::BGPaaS</a>, <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> vector&lt;MatchProtocol::MatchProtocolType&gt;</div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#a98cfd12a182a22ef2592cff7002b07e8">  475</a></span>&#160;    <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a98cfd12a182a22ef2592cff7002b07e8">isSubprotocol</a> = boost::assign::list_of(<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faa1aa937662ddde137813caefdb203973">MatchProtocol::Interface</a>)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                          (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa46acee316a6f9bf70225b1f7b6c3fce4">MatchProtocol::InterfaceStatic</a>)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                          (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa336341af8f6895b2f2a5557a3974b162">MatchProtocol::ServiceInterface</a>)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                          (<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa64d648ad3dc94855dc0f41f15d2c7cf9">MatchProtocol::StaticRoute</a>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#a8d932c5bce01aa2881707d2e3f8b23bf">  480</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a8d932c5bce01aa2881707d2e3f8b23bf">IsSubprotocol</a>(<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocol::MatchProtocolType</a> protocol) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">return</span> (find(<a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a98cfd12a182a22ef2592cff7002b07e8">isSubprotocol</a>.begin(), <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a98cfd12a182a22ef2592cff7002b07e8">isSubprotocol</a>.end(), protocol) !=</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a98cfd12a182a22ef2592cff7002b07e8">isSubprotocol</a>.end());</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#aeb341824691080cbdfd773e3492823ec">  485</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">string</span> <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#aeb341824691080cbdfd773e3492823ec">MatchProtocolToString</a>(<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocol::MatchProtocolType</a> protocol) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    map&lt;MatchProtocol::MatchProtocolType, string&gt;::const_iterator it =</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a8c0c5623bc2ff5f3ccad245f66c9df38">toString</a>.find(protocol);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a8c0c5623bc2ff5f3ccad245f66c9df38">toString</a>.end()) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unspecified&quot;</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#ae59b155f2378766b1f55dd0555db5b5c">  494</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocol::MatchProtocolType</a> <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ae59b155f2378766b1f55dd0555db5b5c">MatchProtocolFromString</a>(</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;protocol) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    map&lt;string, MatchProtocol::MatchProtocolType&gt;::const_iterator it =</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ac628091a41a04899a633275c1d3d3df5">fromString</a>.find(protocol);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ac628091a41a04899a633275c1d3d3df5">fromString</a>.end()) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faabc53c14bf6246500afa2145239fe27b">MatchProtocol::Unspecified</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="../../d8/d06/routing__policy__match_8cc.html#ab9b1ba593b44ea795077238abd512694">  504</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0">BgpPath::PathSource</a> <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ab9b1ba593b44ea795077238abd512694">PathSourceFromMatchProtocol</a>(</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocol::MatchProtocolType</a> src) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    map&lt;MatchProtocol::MatchProtocolType, BgpPath::PathSource&gt;::const_iterator</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        it = <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#acd880204512df4bc3eff45b835414e80">pathSourceMap</a>.find(src);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#acd880204512df4bc3eff45b835414e80">pathSourceMap</a>.end()) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a60278c6e68c5253dc1fd2f9324a1661f">BgpPath::None</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="../../d7/df5/classMatchProtocol.html#afdcfb67529d47bf1ee01f7f68a2f7f2b">  514</a></span>&#160;<a class="code" href="../../d7/df5/classMatchProtocol.html#afdcfb67529d47bf1ee01f7f68a2f7f2b">MatchProtocol::MatchProtocol</a>(<span class="keyword">const</span> vector&lt;string&gt; &amp;protocols) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    BOOST_FOREACH(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;protocol, <a class="code" href="../../d7/df5/classMatchProtocol.html#a83c8dd29e7f843879989082de16976c0">protocols</a>) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocolType</a> value = <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ae59b155f2378766b1f55dd0555db5b5c">MatchProtocolFromString</a>(protocol);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">// Ignore invalid protocol values.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (value == <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faabc53c14bf6246500afa2145239fe27b">Unspecified</a>)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.push_back(value);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// Sort and uniquify the vector match protocols.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    sort(<a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.begin(), <a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.end());</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    vector&lt;MatchProtocolType&gt;::iterator it =</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        unique(<a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.begin(), <a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.end());</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.erase(it, <a class="code" href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">to_match_</a>.end());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="../../d7/df5/classMatchProtocol.html#ae91e86585fde25970c00c101c94b0c5c">  530</a></span>&#160;<a class="code" href="../../d7/df5/classMatchProtocol.html#ae91e86585fde25970c00c101c94b0c5c">MatchProtocol::~MatchProtocol</a>() {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="../../d7/df5/classMatchProtocol.html#a8be10a07488232ed8f0a237496b362fa">  533</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/df5/classMatchProtocol.html#a8be10a07488232ed8f0a237496b362fa">MatchProtocol::Match</a>(<span class="keyword">const</span> <a class="code" href="../../d6/dbd/classBgpRoute.html">BgpRoute</a> *route, <span class="keyword">const</span> <a class="code" href="../../d7/d0c/classBgpPath.html">BgpPath</a> *path,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../d5/dcf/classBgpAttr.html">BgpAttr</a> *attr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0">BgpPath::PathSource</a> path_src = path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#ae586140cbe5d22634efdd18a06188277">GetSource</a>();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordtype">bool</span> is_xmpp = path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>() ? path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>()-&gt;<a class="code" href="../../dd/d38/classIPeer.html#a83fe529769ccfb58c19db5375c035b71">IsXmppPeer</a>() : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">bool</span> bgpaas = path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>() ? path-&gt;<a class="code" href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">GetPeer</a>()-&gt;<a class="code" href="../../dd/d38/classIPeer.html#aef7441054a898fa8bfe98eec38ec3e18">IsRouterTypeBGPaaS</a>() : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    BOOST_FOREACH(<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocolType</a> protocol, <a class="code" href="../../d7/df5/classMatchProtocol.html#a83c8dd29e7f843879989082de16976c0">protocols</a>()) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d06/routing__policy__match_8cc.html#a8d932c5bce01aa2881707d2e3f8b23bf">IsSubprotocol</a>(protocol)) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="comment">// Check only if matching protocol is subprotocol</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">if</span> (attr &amp;&amp; !attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#a752f5d2763d57fe9812e0d1ad430dd9d">sub_protocol</a>().empty()) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                std::string matchps = <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#aeb341824691080cbdfd773e3492823ec">MatchProtocolToString</a>(protocol);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span> (matchps.compare(attr-&gt;<a class="code" href="../../d5/dcf/classBgpAttr.html#a752f5d2763d57fe9812e0d1ad430dd9d">sub_protocol</a>()) == 0)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0">BgpPath::PathSource</a> mapped_src =</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#ab9b1ba593b44ea795077238abd512694">PathSourceFromMatchProtocol</a>(protocol);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span> (mapped_src != <a class="code" href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a60278c6e68c5253dc1fd2f9324a1661f">BgpPath::None</a>) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">if</span> (mapped_src == path_src) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <span class="keywordflow">if</span> (protocol == <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa27aa4a7735e5e403fd9ca0e53a906128">XMPP</a> &amp;&amp; !is_xmpp)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="keywordflow">if</span> (protocol == <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa22efd06dbfe74f25bff94405e5536aeb">BGP</a> &amp;&amp; (bgpaas || is_xmpp))</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    <span class="keywordflow">if</span> (protocol == <a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa7cfd287f3d9c0da62ce27304f73fab2a">BGPaaS</a> &amp;&amp; (!bgpaas || is_xmpp))</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="../../d7/df5/classMatchProtocol.html#a69fb7adc9ca6e8efa45fbe294fe22f36">  565</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="../../d7/df5/classMatchProtocol.html#a69fb7adc9ca6e8efa45fbe294fe22f36">MatchProtocol::ToString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    ostringstream oss;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;protocol [ &quot;</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    BOOST_FOREACH(<a class="code" href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocolType</a> protocol, <a class="code" href="../../d7/df5/classMatchProtocol.html#a83c8dd29e7f843879989082de16976c0">protocols</a>()) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordtype">string</span> name = <a class="code" href="../../d8/d06/routing__policy__match_8cc.html#aeb341824691080cbdfd773e3492823ec">MatchProtocolToString</a>(protocol);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        oss &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    oss.seekp(-1, oss.cur);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="../../d7/df5/classMatchProtocol.html#afd9598bc67c2289f70b60cdfe9bdbf42">  577</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/df5/classMatchProtocol.html#afd9598bc67c2289f70b60cdfe9bdbf42">MatchProtocol::IsEqual</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d31/classRoutingPolicyMatch.html">RoutingPolicyMatch</a> &amp;protocol)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/df5/classMatchProtocol.html">MatchProtocol</a> in_protocol =</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d7/df5/classMatchProtocol.html">MatchProtocol</a>&amp;<span class="keyword">&gt;</span>(protocol);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d7/df5/classMatchProtocol.html#a83c8dd29e7f843879989082de16976c0">protocols</a>() == in_protocol.<a class="code" href="../../d7/df5/classMatchProtocol.html#a83c8dd29e7f843879989082de16976c0">protocols</a>());</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
<div class="ttc" id="abgp_2extended-community_2tag_8h_html"><div class="ttname"><a href="../../d6/dfd/bgp_2extended-community_2tag_8h.html">tag.h</a></div></div>
<div class="ttc" id="abgp__attr_8h_html"><div class="ttname"><a href="../../d7/d4d/bgp__attr_8h.html">bgp_attr.h</a></div></div>
<div class="ttc" id="abgp__config_8h_html_ae21f84c4cfc55970f3a3385a7221db8e"><div class="ttname"><a href="../../df/d8a/bgp__config_8h.html#ae21f84c4cfc55970f3a3385a7221db8e">PrefixMatchConfigList</a></div><div class="ttdeci">std::vector&lt; PrefixMatchConfig &gt; PrefixMatchConfigList</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8a/bgp__config_8h_source.html#l00358">bgp_config.h:358</a></div></div>
<div class="ttc" id="abgp__path_8h_html"><div class="ttname"><a href="../../db/d57/bgp__path_8h.html">bgp_path.h</a></div></div>
<div class="ttc" id="aclassBgpAttr_html"><div class="ttname"><a href="../../d5/dcf/classBgpAttr.html">BgpAttr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4d/bgp__attr_8h_source.html#l00825">bgp_attr.h:825</a></div></div>
<div class="ttc" id="aclassBgpAttr_html_a752f5d2763d57fe9812e0d1ad430dd9d"><div class="ttname"><a href="../../d5/dcf/classBgpAttr.html#a752f5d2763d57fe9812e0d1ad430dd9d">BgpAttr::sub_protocol</a></div><div class="ttdeci">const std::string &amp; sub_protocol() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4d/bgp__attr_8h_source.html#l00932">bgp_attr.h:932</a></div></div>
<div class="ttc" id="aclassBgpAttr_html_a90247a385e9a858fbe792f2b519fd7e9"><div class="ttname"><a href="../../d5/dcf/classBgpAttr.html#a90247a385e9a858fbe792f2b519fd7e9">BgpAttr::community</a></div><div class="ttdeci">const Community * community() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4d/bgp__attr_8h_source.html#l00916">bgp_attr.h:916</a></div></div>
<div class="ttc" id="aclassBgpAttr_html_ab5d58214ded24f3074bb3fafca9af08a"><div class="ttname"><a href="../../d5/dcf/classBgpAttr.html#ab5d58214ded24f3074bb3fafca9af08a">BgpAttr::ext_community</a></div><div class="ttdeci">const ExtCommunity * ext_community() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4d/bgp__attr_8h_source.html#l00917">bgp_attr.h:917</a></div></div>
<div class="ttc" id="aclassBgpPath_html"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html">BgpPath</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00019">bgp_path.h:19</a></div></div>
<div class="ttc" id="aclassBgpPath_html_a4aed2d95615ed6e1ee79c645ebc21c05"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#a4aed2d95615ed6e1ee79c645ebc21c05">BgpPath::GetPeer</a></div><div class="ttdeci">IPeer * GetPeer()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00076">bgp_path.h:76</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0">BgpPath::PathSource</a></div><div class="ttdeci">PathSource</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00037">bgp_path.h:37</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0a2dcd69e6a854055bc7af328096285769"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a2dcd69e6a854055bc7af328096285769">BgpPath::ServiceChain</a></div><div class="ttdeci">@ ServiceChain</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00040">bgp_path.h:40</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0a4293cdd72996cdb7bd87516d179372d6"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a4293cdd72996cdb7bd87516d179372d6">BgpPath::Aggregate</a></div><div class="ttdeci">@ Aggregate</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00042">bgp_path.h:42</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0a60278c6e68c5253dc1fd2f9324a1661f"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0a60278c6e68c5253dc1fd2f9324a1661f">BgpPath::None</a></div><div class="ttdeci">@ None</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00038">bgp_path.h:38</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0ab9f12c3691a7351cc8b4fba88e5896c2">BgpPath::BGP_XMPP</a></div><div class="ttdeci">@ BGP_XMPP</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00039">bgp_path.h:39</a></div></div>
<div class="ttc" id="aclassBgpPath_html_aa589af29c62128f28ac01557d26f17e0af854abd22ea415c1fa0f6735348c4541"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#aa589af29c62128f28ac01557d26f17e0af854abd22ea415c1fa0f6735348c4541">BgpPath::StaticRoute</a></div><div class="ttdeci">@ StaticRoute</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00041">bgp_path.h:41</a></div></div>
<div class="ttc" id="aclassBgpPath_html_ae586140cbe5d22634efdd18a06188277"><div class="ttname"><a href="../../d7/d0c/classBgpPath.html#ae586140cbe5d22634efdd18a06188277">BgpPath::GetSource</a></div><div class="ttdeci">PathSource GetSource() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d57/bgp__path_8h_source.html#l00103">bgp_path.h:103</a></div></div>
<div class="ttc" id="aclassBgpRoute_html"><div class="ttname"><a href="../../d6/dbd/classBgpRoute.html">BgpRoute</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/bgp__route_8h_source.html#l00023">bgp_route.h:23</a></div></div>
<div class="ttc" id="aclassCommunityType_html_a5c62a3b2ed162f84f612fd54d370610c"><div class="ttname"><a href="../../d0/d7e/classCommunityType.html#a5c62a3b2ed162f84f612fd54d370610c">CommunityType::CommunityFromString</a></div><div class="ttdeci">static uint32_t CommunityFromString(const std::string &amp;comm, boost::system::error_code *perr=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/community__type_8cc_source.html#l00041">community_type.cc:41</a></div></div>
<div class="ttc" id="aclassCommunityType_html_a9e822345cb18ede7d0b2caa3d3dfe5df"><div class="ttname"><a href="../../d0/d7e/classCommunityType.html#a9e822345cb18ede7d0b2caa3d3dfe5df">CommunityType::CommunityToString</a></div><div class="ttdeci">static const std::string CommunityToString(uint32_t comm)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/community__type_8cc_source.html#l00077">community_type.cc:77</a></div></div>
<div class="ttc" id="aclassCommunity_html"><div class="ttname"><a href="../../db/da5/classCommunity.html">Community</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00048">community.h:48</a></div></div>
<div class="ttc" id="aclassCommunity_html_a24f09c59014624cbab8e78d96990868f"><div class="ttname"><a href="../../db/da5/classCommunity.html#a24f09c59014624cbab8e78d96990868f">Community::communities</a></div><div class="ttdeci">const std::vector&lt; uint32_t &gt; &amp; communities() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00067">community.h:67</a></div></div>
<div class="ttc" id="aclassExtCommunity_html"><div class="ttname"><a href="../../da/d36/classExtCommunity.html">ExtCommunity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00152">community.h:152</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a150d8575789eaa7e6c6abc709fd8ade7"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a150d8575789eaa7e6c6abc709fd8ade7">ExtCommunity::ExtCommunityFromString</a></div><div class="ttdeci">static ExtCommunityList ExtCommunityFromString(const std::string &amp;comm)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/community_8cc_source.html#l00306">community.cc:306</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a4fcc6e4052f4d113fce6afee7c0aef48"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a4fcc6e4052f4d113fce6afee7c0aef48">ExtCommunity::ExtCommunityList</a></div><div class="ttdeci">std::vector&lt; ExtCommunityValue &gt; ExtCommunityList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00155">community.h:155</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a57c9ebe6fcfbd38db9d26a331a7675fc"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a57c9ebe6fcfbd38db9d26a331a7675fc">ExtCommunity::ExtCommunityValue</a></div><div class="ttdeci">boost::array&lt; uint8_t, 8 &gt; ExtCommunityValue</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00154">community.h:154</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a599d65d66101d3549224e30606cd89ee"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a599d65d66101d3549224e30606cd89ee">ExtCommunity::ToHexString</a></div><div class="ttdeci">static std::string ToHexString(const ExtCommunityValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/community_8cc_source.html#l00353">community.cc:353</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a65256d3c2303626518bcfeecaf8af856"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a65256d3c2303626518bcfeecaf8af856">ExtCommunity::ToString</a></div><div class="ttdeci">static std::string ToString(const ExtCommunityValue &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/community_8cc_source.html#l00362">community.cc:362</a></div></div>
<div class="ttc" id="aclassExtCommunity_html_a968a0558c4724383c5ac0edf9f91a3d2"><div class="ttname"><a href="../../da/d36/classExtCommunity.html#a968a0558c4724383c5ac0edf9f91a3d2">ExtCommunity::communities</a></div><div class="ttdeci">const ExtCommunityList &amp; communities() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da6/community_8h_source.html#l00182">community.h:182</a></div></div>
<div class="ttc" id="aclassIPeer_html_a83fe529769ccfb58c19db5375c035b71"><div class="ttname"><a href="../../dd/d38/classIPeer.html#a83fe529769ccfb58c19db5375c035b71">IPeer::IsXmppPeer</a></div><div class="ttdeci">virtual bool IsXmppPeer() const =0</div></div>
<div class="ttc" id="aclassIPeer_html_aef7441054a898fa8bfe98eec38ec3e18"><div class="ttname"><a href="../../dd/d38/classIPeer.html#aef7441054a898fa8bfe98eec38ec3e18">IPeer::IsRouterTypeBGPaaS</a></div><div class="ttdeci">virtual bool IsRouterTypeBGPaaS() const =0</div></div>
<div class="ttc" id="aclassMatchCommunity_html"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html">MatchCommunity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00048">routing_policy_match.h:48</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a213eac24f5b95225e99d4352acadf0ef"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a213eac24f5b95225e99d4352acadf0ef">MatchCommunity::match_all_</a></div><div class="ttdeci">bool match_all_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00071">routing_policy_match.h:71</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a327e507ba996b722093d716c163ea8b3"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a327e507ba996b722093d716c163ea8b3">MatchCommunity::Match</a></div><div class="ttdeci">virtual bool Match(const BgpRoute *route, const BgpPath *path, const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00148">routing_policy_match.cc:148</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a3a17f3abc219a30df83af78469381f75"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a3a17f3abc219a30df83af78469381f75">MatchCommunity::regex_strings</a></div><div class="ttdeci">const CommunityRegexStringList &amp; regex_strings() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00062">routing_policy_match.h:62</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a455ae561fb64dcad074a86463b46a669"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a455ae561fb64dcad074a86463b46a669">MatchCommunity::MatchAny</a></div><div class="ttdeci">bool MatchAny(const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00119">routing_policy_match.cc:119</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a58986499769faec7bc3b8aba6cf55400"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a58986499769faec7bc3b8aba6cf55400">MatchCommunity::regexs</a></div><div class="ttdeci">const CommunityRegexList &amp; regexs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00065">routing_policy_match.h:65</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a746de7b595634521f1ffc9e90c358b68"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a746de7b595634521f1ffc9e90c358b68">MatchCommunity::to_match_</a></div><div class="ttdeci">CommunityList to_match_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00072">routing_policy_match.h:72</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_a7d956c321cf58f9021b7e337608afa16"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#a7d956c321cf58f9021b7e337608afa16">MatchCommunity::match_all</a></div><div class="ttdeci">bool match_all() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00060">routing_policy_match.h:60</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_aa3975146731497fbf9f68ace918e9af7"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#aa3975146731497fbf9f68ace918e9af7">MatchCommunity::IsEqual</a></div><div class="ttdeci">virtual bool IsEqual(const RoutingPolicyMatch &amp;community) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00178">routing_policy_match.cc:178</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_abe09ff6555d3cb9a488c969dfecb4ce1"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#abe09ff6555d3cb9a488c969dfecb4ce1">MatchCommunity::~MatchCommunity</a></div><div class="ttdeci">virtual ~MatchCommunity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00075">routing_policy_match.cc:75</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_ac47a4ac3d59eb2d6768aedf2f11a3128"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#ac47a4ac3d59eb2d6768aedf2f11a3128">MatchCommunity::MatchCommunity</a></div><div class="ttdeci">MatchCommunity(const std::vector&lt; std::string &gt; &amp;communities, bool match_all)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00050">routing_policy_match.cc:50</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_acca92366b44fcacc1897224719507b20"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#acca92366b44fcacc1897224719507b20">MatchCommunity::communities</a></div><div class="ttdeci">const CommunityList &amp; communities() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00061">routing_policy_match.h:61</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_ad9589f915690c0d2587f5241143d43e5"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#ad9589f915690c0d2587f5241143d43e5">MatchCommunity::to_match_regex_strings_</a></div><div class="ttdeci">CommunityRegexStringList to_match_regex_strings_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00073">routing_policy_match.h:73</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_af892bda6574247e49af28719392d8d5b"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#af892bda6574247e49af28719392d8d5b">MatchCommunity::to_match_regexs_</a></div><div class="ttdeci">CommunityRegexList to_match_regexs_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00074">routing_policy_match.h:74</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_afa773568f0ccc24312b7e6b059857422"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#afa773568f0ccc24312b7e6b059857422">MatchCommunity::MatchAll</a></div><div class="ttdeci">bool MatchAll(const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00082">routing_policy_match.cc:82</a></div></div>
<div class="ttc" id="aclassMatchCommunity_html_afe5bfe1ca22124d6fc2e1da455060b2d"><div class="ttname"><a href="../../df/d5c/classMatchCommunity.html#afe5bfe1ca22124d6fc2e1da455060b2d">MatchCommunity::ToString</a></div><div class="ttdeci">virtual std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00156">routing_policy_match.cc:156</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html">MatchExtCommunity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00077">routing_policy_match.h:77</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a037e102d7d2d67036cc5f133156d9c56"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a037e102d7d2d67036cc5f133156d9c56">MatchExtCommunity::to_match_regexs_</a></div><div class="ttdeci">CommunityRegexList to_match_regexs_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00108">routing_policy_match.h:108</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a0ef1461cc8385cfd51688a6c9a7e488b"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a0ef1461cc8385cfd51688a6c9a7e488b">MatchExtCommunity::Match</a></div><div class="ttdeci">virtual bool Match(const BgpRoute *route, const BgpPath *path, const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00310">routing_policy_match.cc:310</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a5b95e945a699b069e753e4955c9e4492"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a5b95e945a699b069e753e4955c9e4492">MatchExtCommunity::regex_strings</a></div><div class="ttdeci">const CommunityRegexStringList &amp; regex_strings() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00093">routing_policy_match.h:93</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a61d50ecbe3a73a5266c42d3d256305ba"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a61d50ecbe3a73a5266c42d3d256305ba">MatchExtCommunity::regexs</a></div><div class="ttdeci">const CommunityRegexList &amp; regexs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00096">routing_policy_match.h:96</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a6f8bc64999407987b10b158a9f73aaa2"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a6f8bc64999407987b10b158a9f73aaa2">MatchExtCommunity::match_all_</a></div><div class="ttdeci">bool match_all_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00105">routing_policy_match.h:105</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a829a586989b35cad0008b77ecfc88bd2"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a829a586989b35cad0008b77ecfc88bd2">MatchExtCommunity::Find</a></div><div class="ttdeci">bool Find(const ExtCommunity::ExtCommunityValue &amp;community) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00264">routing_policy_match.cc:264</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a8cce657ff831f6161b180c2a5fcf4c2e"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a8cce657ff831f6161b180c2a5fcf4c2e">MatchExtCommunity::to_match_regex_strings_</a></div><div class="ttdeci">CommunityRegexStringList to_match_regex_strings_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00107">routing_policy_match.h:107</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_a9cb1a8380cf5f966341e9f427ad5e897"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#a9cb1a8380cf5f966341e9f427ad5e897">MatchExtCommunity::to_match_</a></div><div class="ttdeci">ExtCommunity::ExtCommunityList to_match_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00106">routing_policy_match.h:106</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_ab954c347d597f286785caf99ba14e04c"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#ab954c347d597f286785caf99ba14e04c">MatchExtCommunity::match_all</a></div><div class="ttdeci">bool match_all() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00089">routing_policy_match.h:89</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_ac1c2341f038d72721b709d4d80ff0ea0"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#ac1c2341f038d72721b709d4d80ff0ea0">MatchExtCommunity::~MatchExtCommunity</a></div><div class="ttdeci">virtual ~MatchExtCommunity()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00218">routing_policy_match.cc:218</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_ad94b764254acca0369972edcdd99d790"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#ad94b764254acca0369972edcdd99d790">MatchExtCommunity::MatchAny</a></div><div class="ttdeci">bool MatchAny(const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00274">routing_policy_match.cc:274</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_adb2f216a6eb0924ab146ce31902a7772"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#adb2f216a6eb0924ab146ce31902a7772">MatchExtCommunity::ToString</a></div><div class="ttdeci">virtual std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00318">routing_policy_match.cc:318</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_ade7747abf31a21caa0b2730b4e4744e8"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#ade7747abf31a21caa0b2730b4e4744e8">MatchExtCommunity::MatchExtCommunity</a></div><div class="ttdeci">MatchExtCommunity(const std::vector&lt; std::string &gt; &amp;communities, bool match_all)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00190">routing_policy_match.cc:190</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_ae17e89a9af3dbc19ce5ff52102952724"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#ae17e89a9af3dbc19ce5ff52102952724">MatchExtCommunity::IsEqual</a></div><div class="ttdeci">virtual bool IsEqual(const RoutingPolicyMatch &amp;community) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00340">routing_policy_match.cc:340</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_ae542021d30336be3b469464c034e40dc"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#ae542021d30336be3b469464c034e40dc">MatchExtCommunity::MatchAll</a></div><div class="ttdeci">bool MatchAll(const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00225">routing_policy_match.cc:225</a></div></div>
<div class="ttc" id="aclassMatchExtCommunity_html_af704e648e66dcce80d372035f8d4a302"><div class="ttname"><a href="../../d9/d44/classMatchExtCommunity.html#af704e648e66dcce80d372035f8d4a302">MatchExtCommunity::communities</a></div><div class="ttdeci">const ExtCommunity::ExtCommunityList &amp; communities() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00090">routing_policy_match.h:90</a></div></div>
<div class="ttc" id="aclassMatchPrefix_1_1PrefixMatch_html"><div class="ttname"><a href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html">MatchPrefix::PrefixMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00161">routing_policy_match.h:161</a></div></div>
<div class="ttc" id="aclassMatchPrefix_1_1PrefixMatch_html_a403090ea795285716a44dddef32bc611"><div class="ttname"><a href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a403090ea795285716a44dddef32bc611">MatchPrefix::PrefixMatch::prefix</a></div><div class="ttdeci">PrefixT prefix</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00175">routing_policy_match.h:175</a></div></div>
<div class="ttc" id="aclassMatchPrefix_1_1PrefixMatch_html_a711786f62cd24d366e0935d6b081130d"><div class="ttname"><a href="../../dd/d7f/classMatchPrefix_1_1PrefixMatch.html#a711786f62cd24d366e0935d6b081130d">MatchPrefix::PrefixMatch::match_type</a></div><div class="ttdeci">MatchType match_type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00176">routing_policy_match.h:176</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html">MatchPrefix</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00151">routing_policy_match.h:151</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a1030d92beb8df84e8e6414f7182d5df4"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a1030d92beb8df84e8e6414f7182d5df4">MatchPrefix::PrefixT</a></div><div class="ttdeci">T::PrefixT PrefixT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00154">routing_policy_match.h:154</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a23295fbbdfd77f46a11db3bc514dd15e"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a23295fbbdfd77f46a11db3bc514dd15e">MatchPrefix::IsEqual</a></div><div class="ttdeci">virtual bool IsEqual(const RoutingPolicyMatch &amp;prefix) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00412">routing_policy_match.cc:412</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a2405b5b9ba32c70c3035d0960d1924ea"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a2405b5b9ba32c70c3035d0960d1924ea">MatchPrefix::ToString</a></div><div class="ttdeci">virtual std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00418">routing_policy_match.cc:418</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a55929dea266d30e6c81b624626f8318f"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a55929dea266d30e6c81b624626f8318f">MatchPrefix::~MatchPrefix</a></div><div class="ttdeci">virtual ~MatchPrefix()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00384">routing_policy_match.cc:384</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a5b776696a60fe970058ba0a9a94cbdd7"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a5b776696a60fe970058ba0a9a94cbdd7">MatchPrefix::match_list_</a></div><div class="ttdeci">PrefixMatchList match_list_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00192">routing_policy_match.h:192</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a66c253cf9aac929a65d2249bc120d09f"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a66c253cf9aac929a65d2249bc120d09f">MatchPrefix::MatchPrefix</a></div><div class="ttdeci">MatchPrefix(const PrefixMatchConfigList &amp;match_config_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00367">routing_policy_match.cc:367</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a8d389630f1a7d05ae875081465cd0a12"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a8d389630f1a7d05ae875081465cd0a12">MatchPrefix::MatchType</a></div><div class="ttdeci">MatchType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00155">routing_policy_match.h:155</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_a97d7c76769441c67a28319f3c68ec6e3"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#a97d7c76769441c67a28319f3c68ec6e3">MatchPrefix::Match</a></div><div class="ttdeci">virtual bool Match(const BgpRoute *route, const BgpPath *path, const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00388">routing_policy_match.cc:388</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_ad7617c28cb6ffce714d7f17abdf5db3f"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#ad7617c28cb6ffce714d7f17abdf5db3f">MatchPrefix::RouteT</a></div><div class="ttdeci">T::RouteT RouteT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00153">routing_policy_match.h:153</a></div></div>
<div class="ttc" id="aclassMatchPrefix_html_afd85b643734b90ee17f36d899015c143"><div class="ttname"><a href="../../d9/da6/classMatchPrefix.html#afd85b643734b90ee17f36d899015c143">MatchPrefix::GetMatchType</a></div><div class="ttdeci">static MatchType GetMatchType(const std::string &amp;match_type_str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00353">routing_policy_match.cc:353</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html">MatchProtocol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00111">routing_policy_match.h:111</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_a69fb7adc9ca6e8efa45fbe294fe22f36"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#a69fb7adc9ca6e8efa45fbe294fe22f36">MatchProtocol::ToString</a></div><div class="ttdeci">virtual std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00565">routing_policy_match.cc:565</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_a83c8dd29e7f843879989082de16976c0"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#a83c8dd29e7f843879989082de16976c0">MatchProtocol::protocols</a></div><div class="ttdeci">const PathSourceList &amp; protocols() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00132">routing_policy_match.h:132</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_a8be10a07488232ed8f0a237496b362fa"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#a8be10a07488232ed8f0a237496b362fa">MatchProtocol::Match</a></div><div class="ttdeci">virtual bool Match(const BgpRoute *route, const BgpPath *path, const BgpAttr *attr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00533">routing_policy_match.cc:533</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_aa195ab703ae8e9c3970a18b5cde89b22"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#aa195ab703ae8e9c3970a18b5cde89b22">MatchProtocol::to_match_</a></div><div class="ttdeci">PathSourceList to_match_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00137">routing_policy_match.h:137</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae91e86585fde25970c00c101c94b0c5c"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae91e86585fde25970c00c101c94b0c5c">MatchProtocol::~MatchProtocol</a></div><div class="ttdeci">virtual ~MatchProtocol()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00530">routing_policy_match.cc:530</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090f"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090f">MatchProtocol::MatchProtocolType</a></div><div class="ttdeci">MatchProtocolType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00113">routing_policy_match.h:113</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa1e929720c373e0cc379feda7e3c3e86c"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa1e929720c373e0cc379feda7e3c3e86c">MatchProtocol::AggregateRoute</a></div><div class="ttdeci">@ AggregateRoute</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00119">routing_policy_match.h:119</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa22efd06dbfe74f25bff94405e5536aeb"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa22efd06dbfe74f25bff94405e5536aeb">MatchProtocol::BGP</a></div><div class="ttdeci">@ BGP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00115">routing_policy_match.h:115</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa27aa4a7735e5e403fd9ca0e53a906128"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa27aa4a7735e5e403fd9ca0e53a906128">MatchProtocol::XMPP</a></div><div class="ttdeci">@ XMPP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00116">routing_policy_match.h:116</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa336341af8f6895b2f2a5557a3974b162"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa336341af8f6895b2f2a5557a3974b162">MatchProtocol::ServiceInterface</a></div><div class="ttdeci">@ ServiceInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00122">routing_policy_match.h:122</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa46acee316a6f9bf70225b1f7b6c3fce4"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa46acee316a6f9bf70225b1f7b6c3fce4">MatchProtocol::InterfaceStatic</a></div><div class="ttdeci">@ InterfaceStatic</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00121">routing_policy_match.h:121</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa64d648ad3dc94855dc0f41f15d2c7cf9"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa64d648ad3dc94855dc0f41f15d2c7cf9">MatchProtocol::StaticRoute</a></div><div class="ttdeci">@ StaticRoute</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00117">routing_policy_match.h:117</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa6fd6c83b7468c14ee90e37ed3a360c2b"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa6fd6c83b7468c14ee90e37ed3a360c2b">MatchProtocol::ServiceChainRoute</a></div><div class="ttdeci">@ ServiceChainRoute</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00118">routing_policy_match.h:118</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090fa7cfd287f3d9c0da62ce27304f73fab2a"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090fa7cfd287f3d9c0da62ce27304f73fab2a">MatchProtocol::BGPaaS</a></div><div class="ttdeci">@ BGPaaS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00124">routing_policy_match.h:123</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090faa1aa937662ddde137813caefdb203973"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faa1aa937662ddde137813caefdb203973">MatchProtocol::Interface</a></div><div class="ttdeci">@ Interface</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00120">routing_policy_match.h:120</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_ae995dbabc66a0bd5e1d48dbd8f7b090faabc53c14bf6246500afa2145239fe27b"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#ae995dbabc66a0bd5e1d48dbd8f7b090faabc53c14bf6246500afa2145239fe27b">MatchProtocol::Unspecified</a></div><div class="ttdeci">@ Unspecified</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00114">routing_policy_match.h:114</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_afd9598bc67c2289f70b60cdfe9bdbf42"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#afd9598bc67c2289f70b60cdfe9bdbf42">MatchProtocol::IsEqual</a></div><div class="ttdeci">virtual bool IsEqual(const RoutingPolicyMatch &amp;community) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00577">routing_policy_match.cc:577</a></div></div>
<div class="ttc" id="aclassMatchProtocol_html_afdcfb67529d47bf1ee01f7f68a2f7f2b"><div class="ttname"><a href="../../d7/df5/classMatchProtocol.html#afdcfb67529d47bf1ee01f7f68a2f7f2b">MatchProtocol::MatchProtocol</a></div><div class="ttdeci">MatchProtocol(const std::vector&lt; std::string &gt; &amp;protocols)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00514">routing_policy_match.cc:514</a></div></div>
<div class="ttc" id="aclassRoutingPolicyMatch_html"><div class="ttname"><a href="../../d5/d31/classRoutingPolicyMatch.html">RoutingPolicyMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/de5/routing__policy__match_8h_source.html#l00026">routing_policy_match.h:26</a></div></div>
<div class="ttc" id="aclasscontrail_1_1regex_html"><div class="ttname"><a href="../../dd/d06/classcontrail_1_1regex.html">contrail::regex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/regex_8h_source.html#l00012">regex.h:12</a></div></div>
<div class="ttc" id="acommunity__type_8h_html"><div class="ttname"><a href="../../dd/d09/community__type_8h.html">community_type.h</a></div></div>
<div class="ttc" id="adefault__gateway_8h_html"><div class="ttname"><a href="../../d9/dce/default__gateway_8h.html">default_gateway.h</a></div></div>
<div class="ttc" id="aes__import_8h_html"><div class="ttname"><a href="../../d8/d31/es__import_8h.html">es_import.h</a></div></div>
<div class="ttc" id="aesi__label_8h_html"><div class="ttname"><a href="../../dc/de2/esi__label_8h.html">esi_label.h</a></div></div>
<div class="ttc" id="aetree_8h_html"><div class="ttname"><a href="../../d5/d9d/etree_8h.html">etree.h</a></div></div>
<div class="ttc" id="aipeer_8h_html"><div class="ttname"><a href="../../d8/d86/ipeer_8h.html">ipeer.h</a></div></div>
<div class="ttc" id="aload__balance_8h_html"><div class="ttname"><a href="../../de/dcb/load__balance_8h.html">load_balance.h</a></div></div>
<div class="ttc" id="amac__mobility_8h_html"><div class="ttname"><a href="../../d3/dcc/mac__mobility_8h.html">mac_mobility.h</a></div></div>
<div class="ttc" id="anamespacecontrail_html_a27412c58b1c934c21cbac2595cc044b0"><div class="ttname"><a href="../../d2/dfa/namespacecontrail.html#a27412c58b1c934c21cbac2595cc044b0">contrail::regex_search</a></div><div class="ttdeci">static bool regex_search(const std::string &amp;input, const regex &amp;regex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/regex_8h_source.html#l00025">regex.h:25</a></div></div>
<div class="ttc" id="anamespacecontrail_html_abd867cb74e0572a1ab907df498767b2c"><div class="ttname"><a href="../../d2/dfa/namespacecontrail.html#abd867cb74e0572a1ab907df498767b2c">contrail::regex_match</a></div><div class="ttdeci">static bool regex_match(const std::string &amp;input, const regex &amp;regex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/regex_8h_source.html#l00034">regex.h:34</a></div></div>
<div class="ttc" id="aorigin__vn_8h_html"><div class="ttname"><a href="../../dc/d7f/origin__vn_8h.html">origin_vn.h</a></div></div>
<div class="ttc" id="aphysical__device_8cc_html_a97ec014158156a2e01cdc55091539f4a"><div class="ttname"><a href="../../d3/d34/physical__device_8cc.html#a97ec014158156a2e01cdc55091539f4a">FromString</a></div><div class="ttdeci">static PhysicalDevice::ManagementProtocol FromString(const string &amp;proto)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/physical__device_8cc_source.html#l00046">physical_device.cc:46</a></div></div>
<div class="ttc" id="aroutepath__replicator_8h_html"><div class="ttname"><a href="../../d9/d43/routepath__replicator_8h.html">routepath_replicator.h</a></div></div>
<div class="ttc" id="arouter__mac_8h_html"><div class="ttname"><a href="../../d8/dfc/router__mac_8h.html">router_mac.h</a></div></div>
<div class="ttc" id="arouting__instance_8h_html"><div class="ttname"><a href="../../d0/df1/routing__instance_8h.html">routing_instance.h</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_a8c0c5623bc2ff5f3ccad245f66c9df38"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#a8c0c5623bc2ff5f3ccad245f66c9df38">toString</a></div><div class="ttdeci">static const map&lt; MatchProtocol::MatchProtocolType, string &gt; toString</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00450">routing_policy_match.cc:451</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_a8d932c5bce01aa2881707d2e3f8b23bf"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#a8d932c5bce01aa2881707d2e3f8b23bf">IsSubprotocol</a></div><div class="ttdeci">static bool IsSubprotocol(MatchProtocol::MatchProtocolType protocol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00480">routing_policy_match.cc:480</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_a98cfd12a182a22ef2592cff7002b07e8"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#a98cfd12a182a22ef2592cff7002b07e8">isSubprotocol</a></div><div class="ttdeci">static const vector&lt; MatchProtocol::MatchProtocolType &gt; isSubprotocol</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00475">routing_policy_match.cc:475</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_ab9b1ba593b44ea795077238abd512694"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#ab9b1ba593b44ea795077238abd512694">PathSourceFromMatchProtocol</a></div><div class="ttdeci">static BgpPath::PathSource PathSourceFromMatchProtocol(MatchProtocol::MatchProtocolType src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00504">routing_policy_match.cc:504</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_ac628091a41a04899a633275c1d3d3df5"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#ac628091a41a04899a633275c1d3d3df5">fromString</a></div><div class="ttdeci">static const map&lt; string, MatchProtocol::MatchProtocolType &gt; fromString</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00438">routing_policy_match.cc:439</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_acd880204512df4bc3eff45b835414e80"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#acd880204512df4bc3eff45b835414e80">pathSourceMap</a></div><div class="ttdeci">static const map&lt; MatchProtocol::MatchProtocolType, BgpPath::PathSource &gt; pathSourceMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00463">routing_policy_match.cc:463</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_ae59b155f2378766b1f55dd0555db5b5c"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#ae59b155f2378766b1f55dd0555db5b5c">MatchProtocolFromString</a></div><div class="ttdeci">static MatchProtocol::MatchProtocolType MatchProtocolFromString(const string &amp;protocol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00494">routing_policy_match.cc:494</a></div></div>
<div class="ttc" id="arouting__policy__match_8cc_html_aeb341824691080cbdfd773e3492823ec"><div class="ttname"><a href="../../d8/d06/routing__policy__match_8cc.html#aeb341824691080cbdfd773e3492823ec">MatchProtocolToString</a></div><div class="ttdeci">const string MatchProtocolToString(MatchProtocol::MatchProtocolType protocol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d06/routing__policy__match_8cc_source.html#l00485">routing_policy_match.cc:485</a></div></div>
<div class="ttc" id="arouting__policy__match_8h_html"><div class="ttname"><a href="../../df/de5/routing__policy__match_8h.html">routing_policy_match.h</a></div></div>
<div class="ttc" id="artarget__address_8h_html"><div class="ttname"><a href="../../df/d25/rtarget__address_8h.html">rtarget_address.h</a></div></div>
<div class="ttc" id="asecurity__group_8h_html"><div class="ttname"><a href="../../db/df9/security__group_8h.html">security_group.h</a></div></div>
<div class="ttc" id="asite__of__origin_8h_html"><div class="ttname"><a href="../../df/d71/site__of__origin_8h.html">site_of_origin.h</a></div></div>
<div class="ttc" id="asource__as_8h_html"><div class="ttname"><a href="../../d0/df6/source__as_8h.html">source_as.h</a></div></div>
<div class="ttc" id="astructPrefixMatchConfig_html"><div class="ttname"><a href="../../dc/db8/structPrefixMatchConfig.html">PrefixMatchConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8a/bgp__config_8h_source.html#l00350">bgp_config.h:350</a></div></div>
<div class="ttc" id="astructPrefixMatchConfig_html_a3f9c93fd53d33da5a3a0e121e592f3ae"><div class="ttname"><a href="../../dc/db8/structPrefixMatchConfig.html#a3f9c93fd53d33da5a3a0e121e592f3ae">PrefixMatchConfig::prefix_to_match</a></div><div class="ttdeci">std::string prefix_to_match</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8a/bgp__config_8h_source.html#l00354">bgp_config.h:354</a></div></div>
<div class="ttc" id="astructPrefixMatchConfig_html_a87af496729f82820032dad814486ebbd"><div class="ttname"><a href="../../dc/db8/structPrefixMatchConfig.html#a87af496729f82820032dad814486ebbd">PrefixMatchConfig::prefix_match_type</a></div><div class="ttdeci">std::string prefix_match_type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8a/bgp__config_8h_source.html#l00355">bgp_config.h:355</a></div></div>
<div class="ttc" id="atunnel__encap_8h_html"><div class="ttname"><a href="../../d3/d6d/tunnel__encap_8h.html">tunnel_encap.h</a></div></div>
<div class="ttc" id="avrf__route__import_8h_html"><div class="ttname"><a href="../../d1/d60/vrf__route__import_8h.html">vrf_route_import.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0a7d39584c34dc4772b798c7b583750f.html">contrail</a></li><li class="navelem"><a class="el" href="../../dir_2a1a0f5bd3fae8c3e47f1701b5222318.html">controller</a></li><li class="navelem"><a class="el" href="../../dir_c5f44869b24dae5488ef95224fa0de41.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5ec91433f7a345fb76510642ab518f16.html">bgp</a></li><li class="navelem"><a class="el" href="../../dir_67dbe373bcedbe13fceae2dd1d2008b7.html">routing-policy</a></li><li class="navelem"><a class="el" href="../../d8/d06/routing__policy__match_8cc.html">routing_policy_match.cc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
